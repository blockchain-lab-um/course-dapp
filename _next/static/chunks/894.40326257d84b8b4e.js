(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{7949:function(e,t,r){"use strict";r.r(t),r.d(t,{CacheProvider:function(){return Be},ClassNames:function(){return We},Global:function(){return qe},ThemeContext:function(){return Ne},ThemeProvider:function(){return Ue},__unsafe_useEmotionCache:function(){return Oe},createElement:function(){return He},css:function(){return Ke},jsx:function(){return He},keyframes:function(){return Ve},useTheme:function(){return Le},withEmotionCache:function(){return Re},withTheme:function(){return De}});var n=r(7294),i=r.t(n,2);var o=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),s=Math.abs,a=String.fromCharCode,c=Object.assign;function u(e){return e.trim()}function f(e,t,r){return e.replace(t,r)}function h(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function l(e,t,r){return e.slice(t,r)}function p(e){return e.length}function b(e){return e.length}function m(e,t){return t.push(e),e}var g=1,y=1,w=0,v=0,E=0,A="";function x(e,t,r,n,i,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:g,column:y,length:s,return:""}}function M(e,t){return c(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return E=v>0?d(A,--v):0,y--,10===E&&(y=1,g--),E}function k(){return E=v<w?d(A,v++):0,y++,10===E&&(y=1,g++),E}function C(){return d(A,v)}function T(){return v}function _(e,t){return l(A,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(e){return g=y=1,w=p(A=e),v=0,[]}function O(e){return A="",e}function R(e){return u(_(v-1,P(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(E=C())&&E<33;)k();return I(e)>2||I(E)>3?"":" "}function L(e,t){for(;--t&&k()&&!(E<48||E>102||E>57&&E<65||E>70&&E<97););return _(e,T()+(t<6&&32==C()&&32==k()))}function P(e){for(;k();)switch(E){case e:return v;case 34:case 39:34!==e&&39!==e&&P(E);break;case 40:41===e&&P(e);break;case 92:k()}return v}function U(e,t){for(;k()&&e+E!==57&&(e+E!==84||47!==C()););return"/*"+_(t,v-1)+"*"+a(47===e?e:k())}function D(e){for(;!I(C());)k();return _(e,v)}var $="-ms-",F="-moz-",j="-webkit-",z="comm",H="rule",q="decl",K="@keyframes";function V(e,t){for(var r="",n=b(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function G(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case q:return e.return=e.return||e.value;case z:return"";case K:return e.return=e.value+"{"+V(e.children,n)+"}";case H:e.value=e.props.join(",")}return p(r=V(e.children,n))?e.return=e.value+"{"+r+"}":""}function J(e){return O(Y("",null,null,null,[""],e=B(e),0,[0],e))}function Y(e,t,r,n,i,o,s,c,u){for(var l=0,b=0,g=s,y=0,w=0,v=0,E=1,A=1,x=1,M=0,_="",I=i,B=o,O=n,P=_;A;)switch(v=M,M=k()){case 40:if(108!=v&&58==d(P,g-1)){-1!=h(P+=f(R(M),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:P+=R(M);break;case 9:case 10:case 13:case 32:P+=N(v);break;case 92:P+=L(T()-1,7);continue;case 47:switch(C()){case 42:case 47:m(Z(U(k(),T()),t,r),u);break;default:P+="/"}break;case 123*E:c[l++]=p(P)*x;case 125*E:case 59:case 0:switch(M){case 0:case 125:A=0;case 59+b:-1==x&&(P=f(P,/\f/g,"")),w>0&&p(P)-g&&m(w>32?X(P+";",n,r,g-1):X(f(P," ","")+";",n,r,g-2),u);break;case 59:P+=";";default:if(m(O=W(P,t,r,l,b,i,c,_,I=[],B=[],g),o),123===M)if(0===b)Y(P,t,O,O,I,o,g,c,B);else switch(99===y&&110===d(P,3)?100:y){case 100:case 108:case 109:case 115:Y(e,O,O,n&&m(W(e,O,O,0,0,i,c,_,i,I=[],g),B),i,B,g,c,n?I:B);break;default:Y(P,O,O,O,[""],B,0,c,B)}}l=b=w=0,E=x=1,_=P="",g=s;break;case 58:g=1+p(P),w=v;default:if(E<1)if(123==M)--E;else if(125==M&&0==E++&&125==S())continue;switch(P+=a(M),M*E){case 38:x=b>0?1:(P+="\f",-1);break;case 44:c[l++]=(p(P)-1)*x,x=1;break;case 64:45===C()&&(P+=R(k())),y=C(),b=g=p(_=P+=D(T())),M++;break;case 45:45===v&&2==p(P)&&(E=0)}}return o}function W(e,t,r,n,i,o,a,c,h,d,p){for(var m=i-1,g=0===i?o:[""],y=b(g),w=0,v=0,E=0;w<n;++w)for(var A=0,M=l(e,m+1,m=s(v=a[w])),S=e;A<y;++A)(S=u(v>0?g[A]+" "+M:f(M,/&\f/g,g[A])))&&(h[E++]=S);return x(e,t,r,0===i?H:c,h,d,p)}function Z(e,t,r){return x(e,t,r,z,a(E),l(e,2,-2),0)}function X(e,t,r,n){return x(e,t,r,q,l(e,0,n),l(e,n+1,-1),n)}var Q=function(e,t,r){for(var n=0,i=0;n=i,i=C(),38===n&&12===i&&(t[r]=1),!I(i);)k();return _(e,v)},ee=function(e,t){return O(function(e,t){var r=-1,n=44;do{switch(I(n)){case 0:38===n&&12===C()&&(t[r]=1),e[r]+=Q(v-1,t,r);break;case 2:e[r]+=R(n);break;case 4:if(44===n){e[++r]=58===C()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=a(n)}}while(n=k());return e}(B(e),t))},te=new WeakMap,re=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||te.get(r))&&!n){te.set(e,!0);for(var i=[],o=ee(t,i),s=r.props,a=0,c=0;a<o.length;a++)for(var u=0;u<s.length;u++,c++)e.props[c]=i[a]?o[a].replace(/&\f/g,s[u]):s[u]+" "+o[a]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ie(e,t){switch(function(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}(e,t)){case 5103:return"-webkit-print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return j+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return j+e+F+e+$+e+e;case 6828:case 4268:return j+e+$+e+e;case 6165:return j+e+$+"flex-"+e+e;case 5187:return j+e+f(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return j+e+$+"flex-item-"+f(e,/flex-|-self/,"")+e;case 4675:return j+e+$+"flex-line-pack"+f(e,/align-content|flex-|-self/,"")+e;case 5548:return j+e+$+f(e,"shrink","negative")+e;case 5292:return j+e+$+f(e,"basis","preferred-size")+e;case 6060:return"-webkit-box-"+f(e,"-grow","")+j+e+$+f(e,"grow","positive")+e;case 4554:return j+f(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return f(f(f(e,/(zoom-|grab)/,"-webkit-$1"),/(image-set)/,"-webkit-$1"),e,"")+e;case 5495:case 3959:return f(e,/(image-set\([^]*)/,"-webkit-$1$`$1");case 4968:return f(f(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+j+e+e;case 4095:case 3583:case 4068:case 2532:return f(e,/(.+)-inline(.+)/,"-webkit-$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return f(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1-moz-"+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~h(e,"stretch")?ie(f(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,p(e)-3-(~h(e,"!important")&&10))){case 107:return f(e,":",":-webkit-")+e;case 101:return f(e,/(.+:)([^;!]+)(;|!.+)?/,"$1-webkit-"+(45===d(e,14)?"inline-":"")+"box$3$1"+"-webkit-$2$3$1"+"-ms-$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return j+e+$+f(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return j+e+$+f(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return j+e+$+f(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return j+e+$+e+e}return e}var oe=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case q:e.return=ie(e.value,e.length);break;case K:return V([M(e,{value:f(e.value,"@","@-webkit-")})],n);case H:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return V([M(e,{props:[f(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return V([M(e,{props:[f(t,/:(plac\w+)/,":-webkit-input-$1")]}),M(e,{props:[f(t,/:(plac\w+)/,":-moz-$1")]}),M(e,{props:[f(t,/:(plac\w+)/,"-ms-input-$1")]})],n)}return""}))}}],se=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||oe;var i,s,a={},c=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;c.push(e)}));var u,f,h=[G,(f=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&f(e)})],d=function(e){var t=b(e);return function(r,n,i,o){for(var s="",a=0;a<t;a++)s+=e[a](r,n,i,o)||"";return s}}([re,ne].concat(n,h));s=function(e,t,r,n){u=r,V(J(e?e+"{"+t.styles+"}":t.styles),d),n&&(l.inserted[t.name]=!0)};var l={key:t,sheet:new o({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return l.sheet.hydrate(c),l};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ae.apply(this,arguments)}var ce=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}},ue=r(8679),fe=r.n(ue);function he(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var de=function(e,t,r){var n=e.key+"-"+t.name;!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles)},le=function(e,t,r){de(e,t,r);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var pe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function be(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var me=/[A-Z]|^ms/g,ge=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ye=function(e){return 45===e.charCodeAt(1)},we=function(e){return null!=e&&"boolean"!==typeof e},ve=be((function(e){return ye(e)?e:e.replace(me,"-$&").toLowerCase()})),Ee=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ge,(function(e,t,r){return xe={name:t,styles:r,next:xe},t}))}return 1===pe[e]||ye(e)||"number"!==typeof t||0===t?t:t+"px"};function Ae(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return xe={name:r.name,styles:r.styles,next:xe},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)xe={name:n.name,styles:n.styles,next:xe},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=Ae(e,t,r[i])+";";else for(var o in r){var s=r[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?n+=o+"{"+t[s]+"}":we(s)&&(n+=ve(o)+":"+Ee(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=Ae(e,t,s);switch(o){case"animation":case"animationName":n+=ve(o)+":"+a+";";break;default:n+=o+"{"+a+"}"}}else for(var c=0;c<s.length;c++)we(s[c])&&(n+=ve(o)+":"+Ee(o,s[c])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=xe,o=r(e);return xe=i,Ae(e,t,o)}}if(null==t)return r;var s=t[r];return void 0!==s?s:r}var xe,Me=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Se=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";xe=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,i+=Ae(r,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=Ae(r,t,e[s]),n&&(i+=o[s]);Me.lastIndex=0;for(var a,c="";null!==(a=Me.exec(i));)c+="-"+a[1];var u=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}(i)+c;return{name:u,styles:i,next:xe}},ke=!!i.useInsertionEffect&&i.useInsertionEffect,Ce=ke||function(e){return e()},Te=ke||n.useLayoutEffect,_e={}.hasOwnProperty,Ie=n.createContext("undefined"!==typeof HTMLElement?se({key:"css"}):null);var Be=Ie.Provider,Oe=function(){return(0,n.useContext)(Ie)},Re=function(e){return(0,n.forwardRef)((function(t,r){var i=(0,n.useContext)(Ie);return e(t,i,r)}))};var Ne=n.createContext({});var Le=function(){return n.useContext(Ne)},Pe=ce((function(e){return ce((function(t){return function(e,t){return"function"===typeof t?t(e):ae({},e,t)}(e,t)}))})),Ue=function(e){var t=n.useContext(Ne);return e.theme!==t&&(t=Pe(t)(e.theme)),n.createElement(Ne.Provider,{value:t},e.children)};function De(e){var t,r,i=e.displayName||e.name||"Component",o=function(t,r){var i=n.useContext(Ne);return n.createElement(e,ae({theme:i,ref:r},t))},s=n.forwardRef(o);return s.displayName="WithTheme("+i+")",t=s,r=e,fe()(t,r)}var $e="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fe=function(e,t){var r={};for(var n in t)_e.call(t,n)&&(r[n]=t[n]);return r[$e]=e,r},je=function(e){var t=e.cache,r=e.serialized,n=e.isStringTag;return de(t,r,n),Ce((function(){return le(t,r,n)})),null};var ze=Re((function(e,t,r){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[$e],s=[i],a="";"string"===typeof e.className?a=he(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var c=Se(s,void 0,n.useContext(Ne));a+=t.key+"-"+c.name;var u={};for(var f in e)_e.call(e,f)&&"css"!==f&&f!==$e&&(u[f]=e[f]);return u.ref=r,u.className=a,n.createElement(n.Fragment,null,n.createElement(je,{cache:t,serialized:c,isStringTag:"string"===typeof o}),n.createElement(o,u))})),He=function(e,t){var r=arguments;if(null==t||!_e.call(t,"css"))return n.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=ze,o[1]=Fe(e,t);for(var s=2;s<i;s++)o[s]=r[s];return n.createElement.apply(null,o)},qe=Re((function(e,t){var r=e.styles,i=Se([r],void 0,n.useContext(Ne)),o=n.useRef();return Te((function(){var e=t.key+"-global",r=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),n=!1,s=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==s&&(n=!0,s.setAttribute("data-emotion",e),r.hydrate([s])),o.current=[r,n],function(){r.flush()}}),[t]),Te((function(){var e=o.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&le(t,i.next,!0),r.tags.length){var n=r.tags[r.tags.length-1].nextElementSibling;r.before=n,r.flush()}t.insert("",i,r,!1)}}),[t,i.name]),null}));function Ke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Se(t)}var Ve=function(){var e=Ke.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ge=function e(t){for(var r=t.length,n=0,i="";n<r;n++){var o=t[n];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=e(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i};function Je(e,t,r){var n=[],i=he(e,n,r);return n.length<2?r:i+t(n)}var Ye=function(e){var t=e.cache,r=e.serializedArr;return Ce((function(){for(var e=0;e<r.length;e++)le(t,r[e],!1)})),null},We=Re((function(e,t){var r=[],i=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=Se(n,t.registered);return r.push(o),de(t,o,!1),t.key+"-"+o.name},o={css:i,cx:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Je(t.registered,i,Ge(r))},theme:n.useContext(Ne)},s=e.children(o);return!0,n.createElement(n.Fragment,null,n.createElement(Ye,{cache:t,serializedArr:r}),s)}))},2003:function(e){"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:r=3e3}={}){!function(){if("boolean"!==typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!==typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!==typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise((i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||e&&!r.isMetaMask){const n=e&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout((()=>{o()}),r))}))}},8099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7117);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function c(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function u(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),f(e/4294967296>>>0,t,r),f(e>>>0,t,r+4),t}function l(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=c,t.readUint32LE=u,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=s(e,t),n=s(e,t+4);return 4294967296*r+n-4294967296*(n>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r-4294967296*(r>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=l,t.writeInt64LE=l,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)r[s]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)r[s]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},5439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);function o(e,t,r){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,c=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],d=r[19]<<24|r[18]<<16|r[17]<<8|r[16],l=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],b=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],y=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=i,E=o,A=s,x=a,M=c,S=u,k=f,C=h,T=d,_=l,I=p,B=b,O=m,R=g,N=y,L=w,P=0;P<20;P+=2)M=(M^=T=T+(O=(O^=v=v+M|0)>>>16|O<<16)|0)>>>20|M<<12,S=(S^=_=_+(R=(R^=E=E+S|0)>>>16|R<<16)|0)>>>20|S<<12,k=(k^=I=I+(N=(N^=A=A+k|0)>>>16|N<<16)|0)>>>20|k<<12,C=(C^=B=B+(L=(L^=x=x+C|0)>>>16|L<<16)|0)>>>20|C<<12,k=(k^=I=I+(N=(N^=A=A+k|0)>>>24|N<<8)|0)>>>25|k<<7,C=(C^=B=B+(L=(L^=x=x+C|0)>>>24|L<<8)|0)>>>25|C<<7,S=(S^=_=_+(R=(R^=E=E+S|0)>>>24|R<<8)|0)>>>25|S<<7,M=(M^=T=T+(O=(O^=v=v+M|0)>>>24|O<<8)|0)>>>25|M<<7,S=(S^=I=I+(L=(L^=v=v+S|0)>>>16|L<<16)|0)>>>20|S<<12,k=(k^=B=B+(O=(O^=E=E+k|0)>>>16|O<<16)|0)>>>20|k<<12,C=(C^=T=T+(R=(R^=A=A+C|0)>>>16|R<<16)|0)>>>20|C<<12,M=(M^=_=_+(N=(N^=x=x+M|0)>>>16|N<<16)|0)>>>20|M<<12,C=(C^=T=T+(R=(R^=A=A+C|0)>>>24|R<<8)|0)>>>25|C<<7,M=(M^=_=_+(N=(N^=x=x+M|0)>>>24|N<<8)|0)>>>25|M<<7,k=(k^=B=B+(O=(O^=E=E+k|0)>>>24|O<<8)|0)>>>25|k<<7,S=(S^=I=I+(L=(L^=v=v+S|0)>>>24|L<<8)|0)>>>25|S<<7;n.writeUint32LE(v+i|0,e,0),n.writeUint32LE(E+o|0,e,4),n.writeUint32LE(A+s|0,e,8),n.writeUint32LE(x+a|0,e,12),n.writeUint32LE(M+c|0,e,16),n.writeUint32LE(S+u|0,e,20),n.writeUint32LE(k+f|0,e,24),n.writeUint32LE(C+h|0,e,28),n.writeUint32LE(T+d|0,e,32),n.writeUint32LE(_+l|0,e,36),n.writeUint32LE(I+p|0,e,40),n.writeUint32LE(B+b|0,e,44),n.writeUint32LE(O+m|0,e,48),n.writeUint32LE(R+g|0,e,52),n.writeUint32LE(N+y|0,e,56),n.writeUint32LE(L+w|0,e,60)}function s(e,t,r,n,s){if(void 0===s&&(s=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var c,u;if(0===s){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(c=new Uint8Array(16)).length-t.length,c.set(t,u)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");c=t,u=s}for(var f=new Uint8Array(64),h=0;h<r.length;h+=64){o(f,c,e);for(var d=h;d<h+64&&d<r.length;d++)n[d]=r[d]^f[d-h];a(c,0,u)}return i.wipe(f),0===s&&i.wipe(c),n}function a(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=s,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),s(e,t,r,r,n)}},5501:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(5439),i=r(3027),o=r(7309),s=r(8099),a=r(4153);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var c=new Uint8Array(16),u=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var a=new Uint8Array(32);n.stream(this._key,s,a,4);var c,u=t.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return n.streamXOR(this._key,s,t,c,4),this._authenticate(c.subarray(c.length-this.tagLength,c.length),a,c.subarray(0,c.length-this.tagLength),r),o.wipe(s),c},e.prototype.open=function(e,t,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var c=new Uint8Array(32);n.stream(this._key,s,c,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,c,t.subarray(0,t.length-this.tagLength),r),!a.equal(u,t.subarray(t.length-this.tagLength,t.length)))return null;var f,h=t.length-this.tagLength;if(i){if(i.length!==h)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(h);return n.streamXOR(this._key,s,t.subarray(0,t.length-this.tagLength),f,4),o.wipe(s),f},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(c.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(c.subarray(r.length%16));var u=new Uint8Array(8);n&&s.writeUint64LE(n.length,u),a.update(u),s.writeUint64LE(r.length,u),a.update(u);for(var f=a.digest(),h=0;h<f.length;h++)e[h]=f[h];a.clean(),o.wipe(f),o.wipe(u)},e}();t.ChaCha20Poly1305=u},4153:function(e,t){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},1050:function(e,t,r){"use strict";t.zh=t.SH=t.T=t._w=t.aP=t.KS=t.jQ=void 0;const n=r(1416),i=r(3350),o=r(7309);function s(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.jQ=64,t.KS=64,t.aP=32;new Uint8Array(32)[0]=9;const a=s(),c=s([1]),u=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),l=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function b(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function m(e,t,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(e[i]^t[i]);e[i]^=r,t[i]^=r}}function g(e,t){const r=s(),n=s();for(let i=0;i<16;i++)n[i]=t[i];b(n),b(n),b(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,m(n,r,1-e)}for(let i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}function y(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function w(e,t){const r=new Uint8Array(32),n=new Uint8Array(32);return g(r,e),g(n,t),y(r,n)}function v(e){const t=new Uint8Array(32);return g(t,e),1&t[0]}function E(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function A(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function x(e,t,r){let n,i,o=0,s=0,a=0,c=0,u=0,f=0,h=0,d=0,l=0,p=0,b=0,m=0,g=0,y=0,w=0,v=0,E=0,A=0,x=0,M=0,S=0,k=0,C=0,T=0,_=0,I=0,B=0,O=0,R=0,N=0,L=0,P=r[0],U=r[1],D=r[2],$=r[3],F=r[4],j=r[5],z=r[6],H=r[7],q=r[8],K=r[9],V=r[10],G=r[11],J=r[12],Y=r[13],W=r[14],Z=r[15];n=t[0],o+=n*P,s+=n*U,a+=n*D,c+=n*$,u+=n*F,f+=n*j,h+=n*z,d+=n*H,l+=n*q,p+=n*K,b+=n*V,m+=n*G,g+=n*J,y+=n*Y,w+=n*W,v+=n*Z,n=t[1],s+=n*P,a+=n*U,c+=n*D,u+=n*$,f+=n*F,h+=n*j,d+=n*z,l+=n*H,p+=n*q,b+=n*K,m+=n*V,g+=n*G,y+=n*J,w+=n*Y,v+=n*W,E+=n*Z,n=t[2],a+=n*P,c+=n*U,u+=n*D,f+=n*$,h+=n*F,d+=n*j,l+=n*z,p+=n*H,b+=n*q,m+=n*K,g+=n*V,y+=n*G,w+=n*J,v+=n*Y,E+=n*W,A+=n*Z,n=t[3],c+=n*P,u+=n*U,f+=n*D,h+=n*$,d+=n*F,l+=n*j,p+=n*z,b+=n*H,m+=n*q,g+=n*K,y+=n*V,w+=n*G,v+=n*J,E+=n*Y,A+=n*W,x+=n*Z,n=t[4],u+=n*P,f+=n*U,h+=n*D,d+=n*$,l+=n*F,p+=n*j,b+=n*z,m+=n*H,g+=n*q,y+=n*K,w+=n*V,v+=n*G,E+=n*J,A+=n*Y,x+=n*W,M+=n*Z,n=t[5],f+=n*P,h+=n*U,d+=n*D,l+=n*$,p+=n*F,b+=n*j,m+=n*z,g+=n*H,y+=n*q,w+=n*K,v+=n*V,E+=n*G,A+=n*J,x+=n*Y,M+=n*W,S+=n*Z,n=t[6],h+=n*P,d+=n*U,l+=n*D,p+=n*$,b+=n*F,m+=n*j,g+=n*z,y+=n*H,w+=n*q,v+=n*K,E+=n*V,A+=n*G,x+=n*J,M+=n*Y,S+=n*W,k+=n*Z,n=t[7],d+=n*P,l+=n*U,p+=n*D,b+=n*$,m+=n*F,g+=n*j,y+=n*z,w+=n*H,v+=n*q,E+=n*K,A+=n*V,x+=n*G,M+=n*J,S+=n*Y,k+=n*W,C+=n*Z,n=t[8],l+=n*P,p+=n*U,b+=n*D,m+=n*$,g+=n*F,y+=n*j,w+=n*z,v+=n*H,E+=n*q,A+=n*K,x+=n*V,M+=n*G,S+=n*J,k+=n*Y,C+=n*W,T+=n*Z,n=t[9],p+=n*P,b+=n*U,m+=n*D,g+=n*$,y+=n*F,w+=n*j,v+=n*z,E+=n*H,A+=n*q,x+=n*K,M+=n*V,S+=n*G,k+=n*J,C+=n*Y,T+=n*W,_+=n*Z,n=t[10],b+=n*P,m+=n*U,g+=n*D,y+=n*$,w+=n*F,v+=n*j,E+=n*z,A+=n*H,x+=n*q,M+=n*K,S+=n*V,k+=n*G,C+=n*J,T+=n*Y,_+=n*W,I+=n*Z,n=t[11],m+=n*P,g+=n*U,y+=n*D,w+=n*$,v+=n*F,E+=n*j,A+=n*z,x+=n*H,M+=n*q,S+=n*K,k+=n*V,C+=n*G,T+=n*J,_+=n*Y,I+=n*W,B+=n*Z,n=t[12],g+=n*P,y+=n*U,w+=n*D,v+=n*$,E+=n*F,A+=n*j,x+=n*z,M+=n*H,S+=n*q,k+=n*K,C+=n*V,T+=n*G,_+=n*J,I+=n*Y,B+=n*W,O+=n*Z,n=t[13],y+=n*P,w+=n*U,v+=n*D,E+=n*$,A+=n*F,x+=n*j,M+=n*z,S+=n*H,k+=n*q,C+=n*K,T+=n*V,_+=n*G,I+=n*J,B+=n*Y,O+=n*W,R+=n*Z,n=t[14],w+=n*P,v+=n*U,E+=n*D,A+=n*$,x+=n*F,M+=n*j,S+=n*z,k+=n*H,C+=n*q,T+=n*K,_+=n*V,I+=n*G,B+=n*J,O+=n*Y,R+=n*W,N+=n*Z,n=t[15],v+=n*P,E+=n*U,A+=n*D,x+=n*$,M+=n*F,S+=n*j,k+=n*z,C+=n*H,T+=n*q,_+=n*K,I+=n*V,B+=n*G,O+=n*J,R+=n*Y,N+=n*W,L+=n*Z,o+=38*E,s+=38*A,a+=38*x,c+=38*M,u+=38*S,f+=38*k,h+=38*C,d+=38*T,l+=38*_,p+=38*I,b+=38*B,m+=38*O,g+=38*R,y+=38*N,w+=38*L,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=h,e[7]=d,e[8]=l,e[9]=p,e[10]=b,e[11]=m,e[12]=g,e[13]=y,e[14]=w,e[15]=v}function M(e,t){x(e,t,t)}function S(e,t){const r=s();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=253;n>=0;n--)M(r,r),2!==n&&4!==n&&x(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}function k(e,t){const r=s(),n=s(),i=s(),o=s(),a=s(),c=s(),u=s(),h=s(),d=s();A(r,e[1],e[0]),A(d,t[1],t[0]),x(r,r,d),E(n,e[0],e[1]),E(d,t[0],t[1]),x(n,n,d),x(i,e[3],t[3]),x(i,i,f),x(o,e[2],t[2]),E(o,o,o),A(a,n,r),A(c,o,i),E(u,o,i),E(h,n,r),x(e[0],a,c),x(e[1],h,u),x(e[2],u,c),x(e[3],a,h)}function C(e,t,r){for(let n=0;n<4;n++)m(e[n],t[n],r)}function T(e,t){const r=s(),n=s(),i=s();S(i,t[2]),x(r,t[0],i),x(n,t[1],i),g(e,n),e[31]^=v(r)<<7}function _(e,t,r){p(e[0],a),p(e[1],c),p(e[2],c),p(e[3],a);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;C(e,t,i),k(t,e),k(e,e),C(e,t,i)}}function I(e,t){const r=[s(),s(),s(),s()];p(r[0],h),p(r[1],d),p(r[2],c),x(r[3],h,d),_(e,r,t)}function B(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const r=(0,i.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;const n=new Uint8Array(32),o=[s(),s(),s(),s()];I(o,r),T(n,o);const a=new Uint8Array(64);return a.set(e),a.set(n,32),{publicKey:n,secretKey:a}}t._w=B;const O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(e,t){let r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*O[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*O[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*O[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function N(e){const t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let r=0;r<64;r++)e[r]=0;R(e,t)}function L(e,t){const r=s(),n=s(),i=s(),o=s(),f=s(),h=s(),d=s();return p(e[2],c),function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(i,e[1]),x(o,i,u),A(i,i,e[2]),E(o,e[2],o),M(f,o),M(h,f),x(d,h,f),x(r,d,i),x(r,r,o),function(e,t){const r=s();let n;for(n=0;n<16;n++)r[n]=t[n];for(n=250;n>=0;n--)M(r,r),1!==n&&x(r,r,t);for(n=0;n<16;n++)e[n]=r[n]}(r,r),x(r,r,i),x(r,r,o),x(r,r,o),x(e[0],r,o),M(n,e[0]),x(n,n,o),w(n,i)&&x(e[0],e[0],l),M(n,e[0]),x(n,n,o),w(n,i)?-1:(v(e[0])===t[31]>>7&&A(e[0],a,e[0]),x(e[3],e[0],e[1]),0)}t.T=function(e,r,n){const o=new Uint8Array(32),a=[s(),s(),s(),s()],c=[s(),s(),s(),s()];if(n.length!==t.jQ)throw new Error(`ed25519: signature must be ${t.jQ} bytes`);if(L(c,e))return!1;const u=new i.SHA512;u.update(n.subarray(0,32)),u.update(e),u.update(r);const f=u.digest();return N(f),_(a,c,f),I(c,n.subarray(32)),k(a,c),T(o,a),!y(n,o)},t.SH=function(e){let t=[s(),s(),s(),s()];if(L(t,e))throw new Error("Ed25519: invalid public key");let r=s(),n=s(),i=t[1];E(r,c,i),A(n,c,i),S(n,n),x(r,r,n);let o=new Uint8Array(32);return g(o,r),o},t.zh=function(e){const t=(0,i.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const r=new Uint8Array(t.subarray(0,32));return(0,o.wipe)(t),r}},7117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},3027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4153),i=r(7309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var c=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|c<<5);var u=e[14]|e[15]<<8;this._r[8]=8191&(c>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],c=this._h[4],u=this._h[5],f=this._h[6],h=this._h[7],d=this._h[8],l=this._h[9],p=this._r[0],b=this._r[1],m=this._r[2],g=this._r[3],y=this._r[4],w=this._r[5],v=this._r[6],E=this._r[7],A=this._r[8],x=this._r[9];r>=16;){var M=e[t+0]|e[t+1]<<8;i+=8191&M;var S=e[t+2]|e[t+3]<<8;o+=8191&(M>>>13|S<<3);var k=e[t+4]|e[t+5]<<8;s+=8191&(S>>>10|k<<6);var C=e[t+6]|e[t+7]<<8;a+=8191&(k>>>7|C<<9);var T=e[t+8]|e[t+9]<<8;c+=8191&(C>>>4|T<<12),u+=T>>>1&8191;var _=e[t+10]|e[t+11]<<8;f+=8191&(T>>>14|_<<2);var I=e[t+12]|e[t+13]<<8;h+=8191&(_>>>11|I<<5);var B=e[t+14]|e[t+15]<<8,O=0,R=O;R+=i*p,R+=o*(5*x),R+=s*(5*A),R+=a*(5*E),O=(R+=c*(5*v))>>>13,R&=8191,R+=u*(5*w),R+=f*(5*y),R+=h*(5*g),R+=(d+=8191&(I>>>8|B<<8))*(5*m);var N=O+=(R+=(l+=B>>>5|n)*(5*b))>>>13;N+=i*b,N+=o*p,N+=s*(5*x),N+=a*(5*A),O=(N+=c*(5*E))>>>13,N&=8191,N+=u*(5*v),N+=f*(5*w),N+=h*(5*y),N+=d*(5*g),O+=(N+=l*(5*m))>>>13,N&=8191;var L=O;L+=i*m,L+=o*b,L+=s*p,L+=a*(5*x),O=(L+=c*(5*A))>>>13,L&=8191,L+=u*(5*E),L+=f*(5*v),L+=h*(5*w),L+=d*(5*y);var P=O+=(L+=l*(5*g))>>>13;P+=i*g,P+=o*m,P+=s*b,P+=a*p,O=(P+=c*(5*x))>>>13,P&=8191,P+=u*(5*A),P+=f*(5*E),P+=h*(5*v),P+=d*(5*w);var U=O+=(P+=l*(5*y))>>>13;U+=i*y,U+=o*g,U+=s*m,U+=a*b,O=(U+=c*p)>>>13,U&=8191,U+=u*(5*x),U+=f*(5*A),U+=h*(5*E),U+=d*(5*v);var D=O+=(U+=l*(5*w))>>>13;D+=i*w,D+=o*y,D+=s*g,D+=a*m,O=(D+=c*b)>>>13,D&=8191,D+=u*p,D+=f*(5*x),D+=h*(5*A),D+=d*(5*E);var $=O+=(D+=l*(5*v))>>>13;$+=i*v,$+=o*w,$+=s*y,$+=a*g,O=($+=c*m)>>>13,$&=8191,$+=u*b,$+=f*p,$+=h*(5*x),$+=d*(5*A);var F=O+=($+=l*(5*E))>>>13;F+=i*E,F+=o*v,F+=s*w,F+=a*y,O=(F+=c*g)>>>13,F&=8191,F+=u*m,F+=f*b,F+=h*p,F+=d*(5*x);var j=O+=(F+=l*(5*A))>>>13;j+=i*A,j+=o*E,j+=s*v,j+=a*w,O=(j+=c*y)>>>13,j&=8191,j+=u*g,j+=f*m,j+=h*b,j+=d*p;var z=O+=(j+=l*(5*x))>>>13;z+=i*x,z+=o*A,z+=s*E,z+=a*v,O=(z+=c*w)>>>13,z&=8191,z+=u*y,z+=f*g,z+=h*m,z+=d*b,i=R=8191&(O=(O=((O+=(z+=l*p)>>>13)<<2)+O|0)+(R&=8191)|0),o=N+=O>>>=13,s=L&=8191,a=P&=8191,c=U&=8191,u=D&=8191,f=$&=8191,h=F&=8191,d=j&=8191,l=z&=8191,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=c,this._h[5]=u,this._h[6]=f,this._h[7]=h,this._h[8]=d,this._h[9]=l},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var r=new o(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},1416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const n=r(6008),i=r(8099),o=r(7309);function s(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const r=s(4,e),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const c=r.length,u=256-256%c;for(;e>0;){const t=s(Math.ceil(256*e/u),n);for(let n=0;n<t.length&&e>0;n++){const o=t[n];o<u&&(i+=r.charAt(o%c),e--)}(0,o.wipe)(t)}return i}t.randomString=c,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){return c(Math.ceil(e/(Math.log(r.length)/Math.LN2)),r,n)}},5455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!==typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}},8871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const n=r(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=r(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(e);for(let n=0;n<r.length;n++)r[n]=t[n];return(0,n.wipe)(t),r}}},6008:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const n=r(5455),i=r(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},3294:function(e,t,r){"use strict";var n=r(8099),i=r(7309);t.k=32,t.cn=64;var o=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%64<56?64:128;this._buffer[r]=128;for(var c=r+1;c<s-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._temp,this._state,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/4;c++)n.writeUint32BE(this._state[c],e,4*c);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,o){for(;o>=64;){for(var a=t[0],c=t[1],u=t[2],f=t[3],h=t[4],d=t[5],l=t[6],p=t[7],b=0;b<16;b++){var m=i+4*b;e[b]=n.readUint32BE(r,m)}for(b=16;b<64;b++){var g=e[b-2],y=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,w=((g=e[b-15])>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;e[b]=(y+e[b-7]|0)+(w+e[b-16]|0)}for(b=0;b<64;b++){y=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&d^~h&l)|0)+(p+(s[b]+e[b]|0)|0)|0,w=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&c^a&u^c&u)|0;p=l,l=d,d=h,h=f+y|0,f=u,u=c,c=a,a=y+w|0}t[0]+=a,t[1]+=c,t[2]+=u,t[3]+=f,t[4]+=h,t[5]+=d,t[6]+=l,t[7]+=p,i+=64,o-=64}return i}t.vp=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},3350:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[r]=128;for(var c=r+1;c<s-8;c++)this._buffer[c]=0;n.writeUint32BE(i,this._buffer,s-8),n.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(c=0;c<this.digestLength/8;c++)n.writeUint32BE(this._stateHi[c],e,8*c),n.writeUint32BE(this._stateLo[c],e,8*c+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,r,i,o,a,c){for(var u,f,h,d,l,p,b,m,g=r[0],y=r[1],w=r[2],v=r[3],E=r[4],A=r[5],x=r[6],M=r[7],S=i[0],k=i[1],C=i[2],T=i[3],_=i[4],I=i[5],B=i[6],O=i[7];c>=128;){for(var R=0;R<16;R++){var N=8*R+a;e[R]=n.readUint32BE(o,N),t[R]=n.readUint32BE(o,N+4)}for(R=0;R<80;R++){var L,P,U=g,D=y,$=w,F=v,j=E,z=A,H=x,q=S,K=k,V=C,G=T,J=_,Y=I,W=B;if(l=65535&(f=O),p=f>>>16,b=65535&(u=M),m=u>>>16,l+=65535&(f=(_>>>14|E<<18)^(_>>>18|E<<14)^(E>>>9|_<<23)),p+=f>>>16,b+=65535&(u=(E>>>14|_<<18)^(E>>>18|_<<14)^(_>>>9|E<<23)),m+=u>>>16,l+=65535&(f=_&I^~_&B),p+=f>>>16,b+=65535&(u=E&A^~E&x),m+=u>>>16,u=s[2*R],l+=65535&(f=s[2*R+1]),p+=f>>>16,b+=65535&u,m+=u>>>16,u=e[R%16],p+=(f=t[R%16])>>>16,b+=65535&u,m+=u>>>16,b+=(p+=(l+=65535&f)>>>16)>>>16,l=65535&(f=d=65535&l|p<<16),p=f>>>16,b=65535&(u=h=65535&b|(m+=b>>>16)<<16),m=u>>>16,l+=65535&(f=(S>>>28|g<<4)^(g>>>2|S<<30)^(g>>>7|S<<25)),p+=f>>>16,b+=65535&(u=(g>>>28|S<<4)^(S>>>2|g<<30)^(S>>>7|g<<25)),m+=u>>>16,p+=(f=S&k^S&C^k&C)>>>16,b+=65535&(u=g&y^g&w^y&w),m+=u>>>16,L=65535&(b+=(p+=(l+=65535&f)>>>16)>>>16)|(m+=b>>>16)<<16,P=65535&l|p<<16,l=65535&(f=G),p=f>>>16,b=65535&(u=F),m=u>>>16,p+=(f=d)>>>16,b+=65535&(u=h),m+=u>>>16,y=U,w=D,v=$,E=F=65535&(b+=(p+=(l+=65535&f)>>>16)>>>16)|(m+=b>>>16)<<16,A=j,x=z,M=H,g=L,k=q,C=K,T=V,_=G=65535&l|p<<16,I=J,B=Y,O=W,S=P,R%16===15)for(N=0;N<16;N++)u=e[N],l=65535&(f=t[N]),p=f>>>16,b=65535&u,m=u>>>16,u=e[(N+9)%16],l+=65535&(f=t[(N+9)%16]),p+=f>>>16,b+=65535&u,m+=u>>>16,h=e[(N+1)%16],l+=65535&(f=((d=t[(N+1)%16])>>>1|h<<31)^(d>>>8|h<<24)^(d>>>7|h<<25)),p+=f>>>16,b+=65535&(u=(h>>>1|d<<31)^(h>>>8|d<<24)^h>>>7),m+=u>>>16,h=e[(N+14)%16],p+=(f=((d=t[(N+14)%16])>>>19|h<<13)^(h>>>29|d<<3)^(d>>>6|h<<26))>>>16,b+=65535&(u=(h>>>19|d<<13)^(d>>>29|h<<3)^h>>>6),m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,e[N]=65535&b|m<<16,t[N]=65535&l|p<<16}l=65535&(f=S),p=f>>>16,b=65535&(u=g),m=u>>>16,u=r[0],p+=(f=i[0])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[0]=g=65535&b|m<<16,i[0]=S=65535&l|p<<16,l=65535&(f=k),p=f>>>16,b=65535&(u=y),m=u>>>16,u=r[1],p+=(f=i[1])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[1]=y=65535&b|m<<16,i[1]=k=65535&l|p<<16,l=65535&(f=C),p=f>>>16,b=65535&(u=w),m=u>>>16,u=r[2],p+=(f=i[2])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[2]=w=65535&b|m<<16,i[2]=C=65535&l|p<<16,l=65535&(f=T),p=f>>>16,b=65535&(u=v),m=u>>>16,u=r[3],p+=(f=i[3])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[3]=v=65535&b|m<<16,i[3]=T=65535&l|p<<16,l=65535&(f=_),p=f>>>16,b=65535&(u=E),m=u>>>16,u=r[4],p+=(f=i[4])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[4]=E=65535&b|m<<16,i[4]=_=65535&l|p<<16,l=65535&(f=I),p=f>>>16,b=65535&(u=A),m=u>>>16,u=r[5],p+=(f=i[5])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[5]=A=65535&b|m<<16,i[5]=I=65535&l|p<<16,l=65535&(f=B),p=f>>>16,b=65535&(u=x),m=u>>>16,u=r[6],p+=(f=i[6])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[6]=x=65535&b|m<<16,i[6]=B=65535&l|p<<16,l=65535&(f=O),p=f>>>16,b=65535&(u=M),m=u>>>16,u=r[7],p+=(f=i[7])>>>16,b+=65535&u,m+=u>>>16,m+=(b+=(p+=(l+=65535&f)>>>16)>>>16)>>>16,r[7]=M=65535&b|m<<16,i[7]=O=65535&l|p<<16,a+=128,c-=128}return a}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},7309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},7664:function(e,t,r){"use strict";t.KS=t.kz=void 0;const n=r(1416),i=r(7309);function o(e){const t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.kz=32,t.KS=32;const s=new Uint8Array(32);s[0]=9;const a=o([56129,1]);function c(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function u(e,t,r){const n=~(r-1);for(let i=0;i<16;i++){const r=n&(e[i]^t[i]);e[i]^=r,t[i]^=r}}function f(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function h(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function d(e,t,r){let n,i,o=0,s=0,a=0,c=0,u=0,f=0,h=0,d=0,l=0,p=0,b=0,m=0,g=0,y=0,w=0,v=0,E=0,A=0,x=0,M=0,S=0,k=0,C=0,T=0,_=0,I=0,B=0,O=0,R=0,N=0,L=0,P=r[0],U=r[1],D=r[2],$=r[3],F=r[4],j=r[5],z=r[6],H=r[7],q=r[8],K=r[9],V=r[10],G=r[11],J=r[12],Y=r[13],W=r[14],Z=r[15];n=t[0],o+=n*P,s+=n*U,a+=n*D,c+=n*$,u+=n*F,f+=n*j,h+=n*z,d+=n*H,l+=n*q,p+=n*K,b+=n*V,m+=n*G,g+=n*J,y+=n*Y,w+=n*W,v+=n*Z,n=t[1],s+=n*P,a+=n*U,c+=n*D,u+=n*$,f+=n*F,h+=n*j,d+=n*z,l+=n*H,p+=n*q,b+=n*K,m+=n*V,g+=n*G,y+=n*J,w+=n*Y,v+=n*W,E+=n*Z,n=t[2],a+=n*P,c+=n*U,u+=n*D,f+=n*$,h+=n*F,d+=n*j,l+=n*z,p+=n*H,b+=n*q,m+=n*K,g+=n*V,y+=n*G,w+=n*J,v+=n*Y,E+=n*W,A+=n*Z,n=t[3],c+=n*P,u+=n*U,f+=n*D,h+=n*$,d+=n*F,l+=n*j,p+=n*z,b+=n*H,m+=n*q,g+=n*K,y+=n*V,w+=n*G,v+=n*J,E+=n*Y,A+=n*W,x+=n*Z,n=t[4],u+=n*P,f+=n*U,h+=n*D,d+=n*$,l+=n*F,p+=n*j,b+=n*z,m+=n*H,g+=n*q,y+=n*K,w+=n*V,v+=n*G,E+=n*J,A+=n*Y,x+=n*W,M+=n*Z,n=t[5],f+=n*P,h+=n*U,d+=n*D,l+=n*$,p+=n*F,b+=n*j,m+=n*z,g+=n*H,y+=n*q,w+=n*K,v+=n*V,E+=n*G,A+=n*J,x+=n*Y,M+=n*W,S+=n*Z,n=t[6],h+=n*P,d+=n*U,l+=n*D,p+=n*$,b+=n*F,m+=n*j,g+=n*z,y+=n*H,w+=n*q,v+=n*K,E+=n*V,A+=n*G,x+=n*J,M+=n*Y,S+=n*W,k+=n*Z,n=t[7],d+=n*P,l+=n*U,p+=n*D,b+=n*$,m+=n*F,g+=n*j,y+=n*z,w+=n*H,v+=n*q,E+=n*K,A+=n*V,x+=n*G,M+=n*J,S+=n*Y,k+=n*W,C+=n*Z,n=t[8],l+=n*P,p+=n*U,b+=n*D,m+=n*$,g+=n*F,y+=n*j,w+=n*z,v+=n*H,E+=n*q,A+=n*K,x+=n*V,M+=n*G,S+=n*J,k+=n*Y,C+=n*W,T+=n*Z,n=t[9],p+=n*P,b+=n*U,m+=n*D,g+=n*$,y+=n*F,w+=n*j,v+=n*z,E+=n*H,A+=n*q,x+=n*K,M+=n*V,S+=n*G,k+=n*J,C+=n*Y,T+=n*W,_+=n*Z,n=t[10],b+=n*P,m+=n*U,g+=n*D,y+=n*$,w+=n*F,v+=n*j,E+=n*z,A+=n*H,x+=n*q,M+=n*K,S+=n*V,k+=n*G,C+=n*J,T+=n*Y,_+=n*W,I+=n*Z,n=t[11],m+=n*P,g+=n*U,y+=n*D,w+=n*$,v+=n*F,E+=n*j,A+=n*z,x+=n*H,M+=n*q,S+=n*K,k+=n*V,C+=n*G,T+=n*J,_+=n*Y,I+=n*W,B+=n*Z,n=t[12],g+=n*P,y+=n*U,w+=n*D,v+=n*$,E+=n*F,A+=n*j,x+=n*z,M+=n*H,S+=n*q,k+=n*K,C+=n*V,T+=n*G,_+=n*J,I+=n*Y,B+=n*W,O+=n*Z,n=t[13],y+=n*P,w+=n*U,v+=n*D,E+=n*$,A+=n*F,x+=n*j,M+=n*z,S+=n*H,k+=n*q,C+=n*K,T+=n*V,_+=n*G,I+=n*J,B+=n*Y,O+=n*W,R+=n*Z,n=t[14],w+=n*P,v+=n*U,E+=n*D,A+=n*$,x+=n*F,M+=n*j,S+=n*z,k+=n*H,C+=n*q,T+=n*K,_+=n*V,I+=n*G,B+=n*J,O+=n*Y,R+=n*W,N+=n*Z,n=t[15],v+=n*P,E+=n*U,A+=n*D,x+=n*$,M+=n*F,S+=n*j,k+=n*z,C+=n*H,T+=n*q,_+=n*K,I+=n*V,B+=n*G,O+=n*J,R+=n*Y,N+=n*W,L+=n*Z,o+=38*E,s+=38*A,a+=38*x,c+=38*M,u+=38*S,f+=38*k,h+=38*C,d+=38*T,l+=38*_,p+=38*I,b+=38*B,m+=38*O,g+=38*R,y+=38*N,w+=38*L,i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),i=1,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=c,e[4]=u,e[5]=f,e[6]=h,e[7]=d,e[8]=l,e[9]=p,e[10]=b,e[11]=m,e[12]=g,e[13]=y,e[14]=w,e[15]=v}function l(e,t){d(e,t,t)}function p(e,t){const r=new Uint8Array(32),n=new Float64Array(80),i=o(),s=o(),p=o(),b=o(),m=o(),g=o();for(let o=0;o<31;o++)r[o]=e[o];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let o=0;o<16;o++)s[o]=n[o];i[0]=b[0]=1;for(let o=254;o>=0;--o){const e=r[o>>>3]>>>(7&o)&1;u(i,s,e),u(p,b,e),f(m,i,p),h(i,i,p),f(p,s,b),h(s,s,b),l(b,m),l(g,i),d(i,p,i),d(p,s,m),f(m,i,p),h(i,i,p),l(s,i),h(p,b,g),d(i,p,a),f(i,i,b),d(p,p,i),d(i,b,g),d(b,s,n),l(s,m),u(i,s,e),u(p,b,e)}for(let o=0;o<16;o++)n[o+16]=i[o],n[o+32]=p[o],n[o+48]=s[o],n[o+64]=b[o];const y=n.subarray(32),w=n.subarray(16);!function(e,t){const r=o();for(let n=0;n<16;n++)r[n]=t[n];for(let n=253;n>=0;n--)l(r,r),2!==n&&4!==n&&d(r,r,t);for(let n=0;n<16;n++)e[n]=r[n]}(y,y),d(w,w,y);const v=new Uint8Array(32);return function(e,t){const r=o(),n=o();for(let i=0;i<16;i++)n[i]=t[i];c(n),c(n),c(n);for(let i=0;i<2;i++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const e=r[15]>>16&1;r[14]&=65535,u(n,r,1-e)}for(let i=0;i<16;i++)e[2*i]=255&n[i],e[2*i+1]=n[i]>>8}(v,w),v}function b(e){return p(e,s)}function m(e){if(e.length!==t.KS)throw new Error(`x25519: seed must be ${t.KS} bytes`);const r=new Uint8Array(e);return{publicKey:b(r),secretKey:r}}},5753:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8099),i=r(7309),o=r(5439);function s(e,t,r,n){if(24!==t.length)throw new Error("XChaCha20 nonce must be 24 bytes");var s=a(e,t.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(t.subarray(16),4);var u=o.streamXOR(s,c,r,n);return i.wipe(s),u}function a(e,t,r){for(var i=1634760805,o=857760878,s=2036477234,a=1797285236,c=e[3]<<24|e[2]<<16|e[1]<<8|e[0],u=e[7]<<24|e[6]<<16|e[5]<<8|e[4],f=e[11]<<24|e[10]<<16|e[9]<<8|e[8],h=e[15]<<24|e[14]<<16|e[13]<<8|e[12],d=e[19]<<24|e[18]<<16|e[17]<<8|e[16],l=e[23]<<24|e[22]<<16|e[21]<<8|e[20],p=e[27]<<24|e[26]<<16|e[25]<<8|e[24],b=e[31]<<24|e[30]<<16|e[29]<<8|e[28],m=t[3]<<24|t[2]<<16|t[1]<<8|t[0],g=t[7]<<24|t[6]<<16|t[5]<<8|t[4],y=t[11]<<24|t[10]<<16|t[9]<<8|t[8],w=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=0;v<20;v+=2)c=(c^=d=d+(m=(m^=i=i+c|0)>>>16|m<<16)|0)>>>20|c<<12,u=(u^=l=l+(g=(g^=o=o+u|0)>>>16|g<<16)|0)>>>20|u<<12,f=(f^=p=p+(y=(y^=s=s+f|0)>>>16|y<<16)|0)>>>20|f<<12,h=(h^=b=b+(w=(w^=a=a+h|0)>>>16|w<<16)|0)>>>20|h<<12,f=(f^=p=p+(y=(y^=s=s+f|0)>>>24|y<<8)|0)>>>25|f<<7,h=(h^=b=b+(w=(w^=a=a+h|0)>>>24|w<<8)|0)>>>25|h<<7,u=(u^=l=l+(g=(g^=o=o+u|0)>>>24|g<<8)|0)>>>25|u<<7,c=(c^=d=d+(m=(m^=i=i+c|0)>>>24|m<<8)|0)>>>25|c<<7,u=(u^=p=p+(w=(w^=i=i+u|0)>>>16|w<<16)|0)>>>20|u<<12,f=(f^=b=b+(m=(m^=o=o+f|0)>>>16|m<<16)|0)>>>20|f<<12,h=(h^=d=d+(g=(g^=s=s+h|0)>>>16|g<<16)|0)>>>20|h<<12,c=(c^=l=l+(y=(y^=a=a+c|0)>>>16|y<<16)|0)>>>20|c<<12,h=(h^=d=d+(g=(g^=s=s+h|0)>>>24|g<<8)|0)>>>25|h<<7,c=(c^=l=l+(y=(y^=a=a+c|0)>>>24|y<<8)|0)>>>25|c<<7,f=(f^=b=b+(m=(m^=o=o+f|0)>>>24|m<<8)|0)>>>25|f<<7,u=(u^=p=p+(w=(w^=i=i+u|0)>>>24|w<<8)|0)>>>25|u<<7;return n.writeUint32LE(i,r,0),n.writeUint32LE(o,r,4),n.writeUint32LE(s,r,8),n.writeUint32LE(a,r,12),n.writeUint32LE(m,r,16),n.writeUint32LE(g,r,20),n.writeUint32LE(y,r,24),n.writeUint32LE(w,r,28),r}t.streamXOR=s,t.stream=function(e,t,r){return i.wipe(r),s(e,t,r,r)},t.hchacha=a},9375:function(e,t,r){"use strict";var n=r(5753),i=r(5501),o=r(7309);t.Cv=32,t.WH=24,t.pg=16;var s=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new i.ChaCha20Poly1305(a),f=u.seal(c,t,r,s);return o.wipe(a),o.wipe(c),u.clean(),f},e.prototype.open=function(e,t,r,s){if(24!==e.length)throw new Error("XChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=n.hchacha(this._key,e.subarray(0,16),new Uint8Array(32)),c=new Uint8Array(12);c.set(e.subarray(16),4);var u=new i.ChaCha20Poly1305(a),f=u.open(c,t,r,s);return o.wipe(a),o.wipe(c),u.clean(),f},e.prototype.clean=function(){return o.wipe(this._key),this},e}();t.NV=s},5528:function(e,t,r){var n=r(1876).Buffer;e.exports=function(e){const t=this,i=r(8737),o=r(979),s=r(1789),a=new(r(3737)),{attributes:c,showAttributes:u,showAttributeErrors:f,showRuleDependencies:h}=r(8862),d=r(2595),l=function(e,t,r){const n=`<span class="${i.style.CLASS_CTRLCHAR}">`,o="</span>",s=`<span class="${i.style.CLASS_NOMATCH}">`,a="</span>";let c,u="";for(;Array.isArray(e)&&0!==e.length;){if("number"!==typeof t)throw new Error("abnfToHtml: beg must be type number");if(t>=e.length)break;c="number"!==typeof r||t+r>=e.length?e.length:t+r;let f=0;for(let r=t;r<c;r+=1){const t=e[r];if(t>=32&&t<=126)switch(1===f?(u+=o,f=0):2===f&&(u+=a,f=0),t){case 32:u+="&nbsp;";break;case 60:u+="&lt;";break;case 62:u+="&gt;";break;case 38:u+="&amp;";break;case 34:u+="&quot;";break;case 39:u+="&#039;";break;case 92:u+="&#092;";break;default:u+=String.fromCharCode(t)}else 9===t||10===t||13===t?(0===f?(u+=n,f=1):2===f&&(u+=a+n,f=1),9===t&&(u+="TAB"),10===t&&(u+="LF"),13===t&&(u+="CR")):(0===f?(u+=s,f=2):1===f&&(u+=o+s,f=2),u+=`\\x${i.utils.charToHex(t)}`)}2===f&&(u+=a),1===f&&(u+=o);break}return u},p=function(e,t,r){let n="";for(let i=t;i<t+r;i+=1){const t=e[i];if(t>=32&&t<=126)n+=String.fromCharCode(t);else switch(t){case 9:n+="\\t";break;case 10:n+="\\n";break;case 13:n+="\\r";break;default:n+="\\unknown"}}return n};let b,m=!1,g=!1,y=!1,w=!1,v=0;if(this.errors=[],n.isBuffer(e))this.chars=o.decode("BINARY",e);else if(Array.isArray(e))this.chars=e.slice();else{if("string"!==typeof e)throw new Error("api.js: input source is not a string, byte Buffer or character array");this.chars=o.decode("STRING",e)}this.sabnf=o.encode("STRING",this.chars),this.scan=function(e,t){this.lines=s(this.chars,this.errors,e,t),m=!0},this.parse=function(e,t){if(!m)throw new Error("api.js: grammar not scanned");a.syntax(this.chars,this.lines,this.errors,e,t),g=!0},this.translate=function(){if(!g)throw new Error("api.js: grammar not scanned and parsed");const e=a.semantic(this.chars,this.lines,this.errors);0===this.errors.length&&(this.rules=e.rules,this.udts=e.udts,b=e.lineMap,y=!0)},this.attributes=function(){if(!y)throw new Error("api.js: grammar not scanned, parsed and translated");return v=c(this.rules,this.udts,b,this.errors),w=!0,v},this.generate=function(e){if(this.lines=s(this.chars,this.errors,e),this.errors.length)return;if(a.syntax(this.chars,this.lines,this.errors,e),this.errors.length)return;const t=a.semantic(this.chars,this.lines,this.errors);this.errors.length||(this.rules=t.rules,this.udts=t.udts,b=t.lineMap,v=c(this.rules,this.udts,b,this.errors),w=!0)},this.displayRules=function(e="index"){if(!y)throw new Error("api.js: grammar not scanned, parsed and translated");return d(this.rules,this.udts,e)},this.displayRuleDependencies=function(e="index"){if(!w)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return h(e)},this.displayAttributes=function(e="index"){if(!w)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return v&&f(e),u(e)},this.displayAttributeErrors=function(){if(!w)throw new Error("api.js: no attributes - must be preceeded by call to attributes()");return f()},this.toSource=function(e){if(!w)throw new Error("api.js: can't generate parser source - must be preceeded by call to attributes()");if(v)throw new Error(`api.js: can't generate parser source - attributes have ${v} errors`);return a.generateSource(this.chars,this.lines,this.rules,this.udts,e)},this.toObject=function(){if(!w)throw new Error("api.js: can't generate parser source - must be preceeded by call to attributes()");if(v)throw new Error(`api.js: can't generate parser source - attributes have ${v} errors`);return a.generateObject(this.sabnf,this.rules,this.udts)},this.errorsToAscii=function(){return function(e,t,r){let n,i,o,s;return n="",e.forEach((e=>{i=t[e.line],n+=`${i.lineNo}: `,n+=`${i.beginChar}: `,n+=e.char-i.beginChar+": ",o=i.beginChar,s=e.char-i.beginChar,n+=p(r,o,s),n+=" >> ",o=e.char,s=i.beginChar+i.length-e.char,n+=p(r,o,s),n+="\n",n+=`${i.lineNo}: `,n+=`${i.beginChar}: `,n+=e.char-i.beginChar+": ",n+="error: ",n+=e.msg,n+="\n"})),n}(this.errors,this.lines,this.chars)},this.errorsToHtml=function(e){return function(e,t,r,n){const[o]=i;let s="";const a=`<span class="${o.CLASS_NOMATCH}">&raquo;</span>`;return s+=`<p><table class="${o.CLASS_GRAMMAR}">\n`,n&&"string"===typeof n&&(s+=`<caption>${n}</caption>\n`),s+="<tr><th>line<br>no.</th><th>line<br>offset</th><th>error<br>offset</th><th><br>text</th></tr>\n",e.forEach((e=>{let n,o,c,u,f,h="",d="";0===t.length?(f=a,o=0):(n=t[e.line],c=n.beginChar,e.char>c&&(h=l(r,c,e.char-c)),c=e.char,u=n.beginChar+n.length,c<u&&(d=l(r,c,u-c)),f=h+a+d,o=e.char-n.beginChar,s+="<tr>",s+=`<td>${e.line}</td><td>${n.beginChar}</td><td>${o}</td><td>${f}</td>`,s+="</tr>\n",s+="<tr>",s+=`<td colspan="3"></td><td>&uarr;:&nbsp;${i.utils.stringToAsciiHtml(e.msg)}</td>`,s+="</tr>\n")})),s+="</table></p>\n",s}(this.errors,this.lines,this.chars,e)},this.linesToAscii=function(){return function(e){let r="Annotated Input Grammar";return e.forEach((e=>{r+="\n",r+=`line no: ${e.lineNo}`,r+=` : char index: ${e.beginChar}`,r+=` : length: ${e.length}`,r+=` : abnf: ${p(t.chars,e.beginChar,e.length)}`})),r+="\n",r}(this.lines)},this.linesToHtml=function(){return function(e){let r="";return r+=`<table class="${i.style.CLASS_GRAMMAR}">\n`,r+="<caption>Annotated Input Grammar</caption>\n",r+="<tr>",r+="<th>line<br>no.</th><th>first<br>char</th><th><br>length</th><th><br>text</th>",r+="</tr>\n",e.forEach((e=>{r+="<tr>",r+=`<td>${e.lineNo}`,r+=`</td><td>${e.beginChar}`,r+=`</td><td>${e.length}`,r+=`</td><td>${l(t.chars,e.beginChar,e.length)}`,r+="</td>",r+="</tr>\n"})),r+="</table>\n",r}(this.lines)}}},8862:function(e,t,r){e.exports=function(){const e=r(8276),{ruleAttributes:t,showAttributes:n,showAttributeErrors:i}=r(4246),{ruleDependencies:o,showRuleDependencies:s}=r(7008);class a{constructor(e,t){this.rules=e,this.udts=t,this.ruleCount=e.length,this.udtCount=t.length,this.startRule=0,this.dependenciesComplete=!1,this.attributesComplete=!1,this.isMutuallyRecursive=!1,this.ruleIndexes=this.indexArray(this.ruleCount),this.ruleAlphaIndexes=this.indexArray(this.ruleCount),this.ruleTypeIndexes=this.indexArray(this.ruleCount),this.udtIndexes=this.indexArray(this.udtCount),this.udtAlphaIndexes=this.indexArray(this.udtCount),this.attrsErrorCount=0,this.attrs=[],this.attrsErrors=[],this.attrsWorking=[],this.ruleDeps=[];for(let r=0;r<this.ruleCount;r+=1)this.attrs.push(this.attrGen(this.rules[r])),this.attrsWorking.push(this.attrGen(this.rules[r])),this.ruleDeps.push(this.rdGen(e[r],this.ruleCount,this.udtCount));this.compRulesAlpha=this.compRulesAlpha.bind(this),this.compUdtsAlpha=this.compUdtsAlpha.bind(this),this.compRulesType=this.compRulesType.bind(this),this.compRulesGroup=this.compRulesGroup.bind(this)}attrGen(e){return{left:!1,nested:!1,right:!1,empty:!1,finite:!1,cyclic:!1,leaf:!1,isOpen:!1,isComplete:!1,rule:e}}attrInit(e){e.left=!1,e.nested=!1,e.right=!1,e.empty=!1,e.finite=!1,e.cyclic=!1,e.leaf=!1,e.isOpen=!1,e.isComplete=!1}attrCopy(e,t){e.left=t.left,e.nested=t.nested,e.right=t.right,e.empty=t.empty,e.finite=t.finite,e.cyclic=t.cyclic,e.leaf=t.leaf,e.isOpen=t.isOpen,e.isComplete=t.isComplete,e.rule=t.rule}rdGen(t,r,n){return{rule:t,recursiveType:e.ATTR_N,groupNumber:-1,refersTo:this.falseArray(r),refersToUdt:this.falseArray(n),referencedBy:this.falseArray(r)}}typeToString(t){switch(t){case e.ATTR_N:return" N";case e.ATTR_R:return" R";case e.ATTR_MR:return"MR";default:return"UNKNOWN"}}falseArray(e){const t=[];if(e>0)for(let r=0;r<e;r+=1)t.push(!1);return t}falsifyArray(e){for(let t=0;t<e.length;t+=1)e[t]=!1}indexArray(e){const t=[];if(e>0)for(let r=0;r<e;r+=1)t.push(r);return t}compRulesAlpha(e,t){return this.rules[e].lower<this.rules[t].lower?-1:this.rules[e].lower>this.rules[t].lower?1:0}compUdtsAlpha(e,t){return this.udts[e].lower<this.udts[t].lower?-1:this.udts[e].lower>this.udts[t].lower?1:0}compRulesType(e,t){return this.ruleDeps[e].recursiveType<this.ruleDeps[t].recursiveType?-1:this.ruleDeps[e].recursiveType>this.ruleDeps[t].recursiveType?1:0}compRulesGroup(t,r){if(this.ruleDeps[t].recursiveType===e.ATTR_MR&&this.ruleDeps[r].recursiveType===e.ATTR_MR){if(this.ruleDeps[t].groupNumber<this.ruleDeps[r].groupNumber)return-1;if(this.ruleDeps[t].groupNumber>this.ruleDeps[r].groupNumber)return 1}return 0}}return{attributes:function(e=[],r=[],n=[],i=[]){const s=new a(e,r);return o(s),t(s),s.attrsErrorCount&&i.push({line:0,char:0,msg:`${s.attrsErrorCount} attribute errors`}),s.attrsErrorCount},showAttributes:n,showAttributeErrors:i,showRuleDependencies:s}}()},3737:function(e,t,r){e.exports=function(){const e=r(8737),t=e.ids,n=new(r(4216)),i=new(r(1832)),o=new(r(3610)),s=new e.parser;s.ast=new e.ast,s.callbacks=n.callbacks,s.ast.callbacks=i.callbacks;const a=function(e,t,r){if(t<0||t>=r)return-1;for(let n=0;n<e.length;n+=1)if(t>=e[n].beginChar&&t<e[n].beginChar+e[n].length)return n;return-1},c=function(e,t){let r=-1;if(t<e.length)for(let n=t;n<e.length;n+=1)if(null!==e[n]){r=e[n];break}return r};this.syntax=function(e,t,r,n,i){if(i){if("traceObject"!==i.traceObject)throw new TypeError("parser: trace argument is not a trace object");s.trace=i}const c={};c.errors=r,c.strict=!!n,c.lines=t,c.findLine=a,c.charsLength=e.length,c.ruleCount=0;s.parse(o,"file",e,c).success||r.push({line:0,char:0,msg:"syntax analysis of input grammar failed"})},this.semantic=function(e,r,n){const i={};return i.errors=n,i.lines=r,i.findLine=a,i.charsLength=e.length,s.ast.translate(i),n.length?null:(i.rules.forEach((e=>{const r=[],n=[];let i=0;e.opcodes.forEach((e=>{e.type===t.ALT&&1===e.children.length||e.type===t.CAT&&1===e.children.length||e.type===t.REP&&1===e.min&&1===e.max?n.push(null):(n.push(i),r.push(e),i+=1)})),n.push(i),r.forEach((e=>{if(e.type===t.ALT||e.type===t.CAT)for(let t=0;t<e.children.length;t+=1)e.children[t]=c(n,e.children[t])})),e.opcodes=r})),{rules:i.rules,udts:i.udts,lineMap:i.rulesLineMap})},this.generateSource=function(e,r,n,i,o){let s,a,c,u="",f=0,h=1/0,d=0;const l=[],p=[];let b=0,m=0,g=0,y=0,w=0,v=0,E=0,A=0,x=0,M=0,S=0,k=0,C=0,T=0,_=0;n.forEach((e=>{l.push(e.lower),f+=e.opcodes.length,e.opcodes.forEach((e=>{switch(e.type){case t.ALT:b+=1;break;case t.CAT:m+=1;break;case t.RNM:g+=1;break;case t.UDT:y+=1;break;case t.REP:w+=1;break;case t.AND:v+=1;break;case t.NOT:E+=1;break;case t.BKA:k+=1;break;case t.BKN:C+=1;break;case t.BKR:S+=1;break;case t.ABG:T+=1;break;case t.AEN:_+=1;break;case t.TLS:for(A+=1,s=0;s<e.string.length;s+=1)e.string[s]<h&&(h=e.string[s]),e.string[s]>d&&(d=e.string[s]);break;case t.TBS:for(x+=1,s=0;s<e.string.length;s+=1)e.string[s]<h&&(h=e.string[s]),e.string[s]>d&&(d=e.string[s]);break;case t.TRG:M+=1,e.min<h&&(h=e.min),e.max>d&&(d=e.max);break;default:throw new Error("generateSource: unrecognized opcode")}}))})),l.sort(),i.length>0&&(i.forEach((e=>{p.push(e.lower)})),p.sort());let I,B="module.exports";return o&&"string"===typeof o&&(B=`let ${o}`),u+="// copyright: Copyright (c) 2021 Lowell D. Thomas, all rights reserved<br>\n",u+="//   license: BSD-2-Clause (https://opensource.org/licenses/BSD-2-Clause)<br>\n",u+="//\n",u+="// Generated by apg-js, Version 4.0.0 [apg-js](https://github.com/ldthomas/apg-js)\n",u+=`${B} = function grammar(){\n`,u+="  // ```\n",u+="  // SUMMARY\n",u+=`  //      rules = ${n.length}\n`,u+=`  //       udts = ${i.length}\n`,u+=`  //    opcodes = ${f}\n`,u+="  //        ---   ABNF original opcodes\n",u+=`  //        ALT = ${b}\n`,u+=`  //        CAT = ${m}\n`,u+=`  //        REP = ${w}\n`,u+=`  //        RNM = ${g}\n`,u+=`  //        TLS = ${A}\n`,u+=`  //        TBS = ${x}\n`,u+=`  //        TRG = ${M}\n`,u+="  //        ---   SABNF superset opcodes\n",u+=`  //        UDT = ${y}\n`,u+=`  //        AND = ${v}\n`,u+=`  //        NOT = ${E}\n`,u+=`  //        BKA = ${k}\n`,u+=`  //        BKN = ${C}\n`,u+=`  //        BKR = ${S}\n`,u+=`  //        ABG = ${T}\n`,u+=`  //        AEN = ${_}\n`,u+="  // characters = [",u+=A+x+M===0?" none defined ]":`${h} - ${d}]`,y>0&&(u+=" + user defined"),u+="\n",u+="  // ```\n",u+="  /* OBJECT IDENTIFIER (for internal parser use) */\n",u+="  this.grammarObject = 'grammarObject';\n",u+="\n",u+="  /* RULES */\n",u+="  this.rules = [];\n",n.forEach(((e,t)=>{let r="  this.rules[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", isBkr: ",r+=e.isBkr,r+="};\n",u+=r})),u+="\n",u+="  /* UDTS */\n",u+="  this.udts = [];\n",i.length>0&&i.forEach(((e,t)=>{let r="  this.udts[";r+=t,r+="] = {name: '",r+=e.name,r+="', lower: '",r+=e.lower,r+="', index: ",r+=e.index,r+=", empty: ",r+=e.empty,r+=", isBkr: ",r+=e.isBkr,r+="};\n",u+=r})),u+="\n",u+="  /* OPCODES */\n",n.forEach(((e,r)=>{r>0&&(u+="\n"),u+=`  /* ${e.name} */\n`,u+=`  this.rules[${r}].opcodes = [];\n`,e.opcodes.forEach(((e,o)=>{let s;switch(e.type){case t.ALT:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, children: [${e.children.toString()}]};// ALT\n`;break;case t.CAT:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, children: [${e.children.toString()}]};// CAT\n`;break;case t.RNM:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, index: ${e.index}};// RNM(${n[e.index].name})\n`;break;case t.BKR:e.index>=n.length?(a=i[e.index-n.length].name,c=i[e.index-n.length].lower):(a=n[e.index].name,c=n[e.index].lower),s="%i",e.bkrCase===t.BKR_MODE_CS&&(s="%s"),e.bkrMode===t.BKR_MODE_UM?s+="%u":s+="%p",a=s+a,u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, index: ${e.index}, lower: '${c}', bkrCase: ${e.bkrCase}, bkrMode: ${e.bkrMode}};// BKR(\\${a})\n`;break;case t.UDT:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, empty: ${e.empty}, index: ${e.index}};// UDT(${i[e.index].name})\n`;break;case t.REP:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, min: ${e.min}, max: ${e.max}};// REP\n`;break;case t.AND:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// AND\n`;break;case t.NOT:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// NOT\n`;break;case t.ABG:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// ABG(%^)\n`;break;case t.AEN:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// AEN(%$)\n`;break;case t.BKA:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// BKA\n`;break;case t.BKN:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}};// BKN\n`;break;case t.TLS:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, string: [${e.string.toString()}]};// TLS\n`;break;case t.TBS:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, string: [${e.string.toString()}]};// TBS\n`;break;case t.TRG:u+=`  this.rules[${r}].opcodes[${o}] = {type: ${e.type}, min: ${e.min}, max: ${e.max}};// TRG\n`;break;default:throw new Error("parser.js: ~143: unrecognized opcode")}}))})),u+="\n",u+="  // The `toString()` function will display the original grammar file(s) that produced these opcodes.\n",u+="  this.toString = function toString(){\n",u+='    let str = "";\n',r.forEach((t=>{const r=t.beginChar+t.length;I="",u+='    str += "';for(let n=t.beginChar;n<r;n+=1){switch(e[n]){case 9:I=" ";break;case 10:I="\\n";break;case 13:I="\\r";break;case 34:I='\\"';break;case 92:I="\\\\";break;default:I=String.fromCharCode(e[n])}u+=I}u+='";\n'})),u+="    return str;\n",u+="  }\n",u+="}\n",u},this.generateObject=function(e,t,r){const n={},i=[],o=[],s=e.slice(0);return n.grammarObject="grammarObject",t.forEach((e=>{i.push(e.lower)})),i.sort(),r.length>0&&(r.forEach((e=>{o.push(e.lower)})),o.sort()),n.callbacks=[],i.forEach((e=>{n.callbacks[e]=!1})),r.length>0&&o.forEach((e=>{n.callbacks[e]=!1})),n.rules=t,n.udts=r,n.toString=function(){return s},n}}},4246:function(e,t,r){e.exports=function(){const e=r(8276);let t=null;function n(e){return!(e.left||e.nested||e.right||e.cyclic)&&e.empty}function i(e){return!!(e.left||e.nested||e.right||e.cyclic)}function o(e,t,r,o){let a=0;const c=t[r],u=c.children.length,f=[];for(a=0;a<u;a+=1)f.push(e.attrGen());for(a=0;a<u;a+=1)s(e,t,c.children[a],f[a]);o.left=function(e,t){for(let r=0;r<t;r+=1){if(e[r].left)return!0;if(!e[r].empty)return!1}return!1}(f,u),o.right=function(e,t){for(let r=t-1;r>=0;r-=1){if(e[r].right)return!0;if(!e[r].empty)return!1}return!1}(f,u),o.nested=function(e,t){let r=0,o=0,s=0;for(r=0;r<t;r+=1)if(e[r].nested)return!0;for(r=0;r<t;r+=1)if(e[r].right&&!e[r].leaf)for(o=r+1;o<t;o+=1)if(!n(e[o]))return!0;for(r=t-1;r>=0;r-=1)if(e[r].left&&!e[r].leaf)for(o=r-1;o>=0;o-=1)if(!n(e[o]))return!0;for(r=0;r<t;r+=1)if(!e[r].empty&&!i(e[r]))for(o=r+1;o<t;o+=1)if(i(e[o]))for(s=o+1;s<t;s+=1)if(!e[s].empty&&!i(e[s]))return!0;return!1}(f,u),o.empty=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].empty)return!1;return!0}(f,u),o.finite=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].finite)return!1;return!0}(f,u),o.cyclic=function(e,t){for(let r=0;r<t;r+=1)if(!e[r].cyclic)return!1;return!0}(f,u)}function s(t,r,n,i){t.attrInit(i);const c=r[n];switch(c.type){case e.ALT:!function(e,t,r,n){let i=0;const o=t[r],a=o.children.length,c=[];for(i=0;i<a;i+=1)c.push(e.attrGen());for(i=0;i<a;i+=1)s(e,t,o.children[i],c[i]);for(n.left=!1,n.right=!1,n.nested=!1,n.empty=!1,n.finite=!1,n.cyclic=!1,i=0;i<a;i+=1)c[i].left&&(n.left=!0),c[i].nested&&(n.nested=!0),c[i].right&&(n.right=!0),c[i].empty&&(n.empty=!0),c[i].finite&&(n.finite=!0),c[i].cyclic&&(n.cyclic=!0)}(t,r,n,i);break;case e.CAT:o(t,r,n,i);break;case e.REP:s(t,r,n+1,i),0===c.min&&(i.empty=!0,i.finite=!0);break;case e.RNM:a(t,r[n].index,i);break;case e.BKR:!function(e,t,r,n){const i=t[r];i.index>=e.ruleCount?(n.empty=e.udts[i.index-e.ruleCount].empty,n.finite=!0):(a(e,i.index,n),n.left=!1,n.nested=!1,n.right=!1,n.cyclic=!1)}(t,r,n,i);break;case e.AND:case e.NOT:case e.BKA:case e.BKN:s(t,r,n+1,i),i.empty=!0;break;case e.TLS:i.empty=!r[n].string.length,i.finite=!0,i.cyclic=!1;break;case e.TBS:case e.TRG:i.empty=!1,i.finite=!0,i.cyclic=!1;break;case e.UDT:i.empty=c.empty,i.finite=!0,i.cyclic=!1;break;case e.ABG:case e.AEN:i.empty=!0,i.finite=!0,i.cyclic=!1;break;default:throw new Error(`unknown opcode type: ${c}`)}}function a(e,t,r){const n=e.attrsWorking[t];n.isComplete?e.attrCopy(r,n):n.isOpen?t===e.startRule?t===e.startRule&&(r.left=!0,r.right=!0,r.cyclic=!0,r.leaf=!0):r.finite=!0:(n.isOpen=!0,s(e,n.rule.opcodes,0,r),n.left=r.left,n.right=r.right,n.nested=r.nested,n.empty=r.empty,n.finite=r.finite,n.cyclic=r.cyclic,n.leaf=!1,n.isOpen=!1,n.isComplete=!0)}const c=e=>e?"t":"f",u=e=>e?"e":"f",f=(r,n,i,o)=>{let s=`${r}:${n}:`;return s+=`${u(i.left)} `,s+=`${c(i.nested)} `,s+=`${c(i.right)} `,s+=`${u(i.cyclic)} `,s+=(i.finite?"t":"e")+" ",s+=`${c(i.empty)}:`,s+=`${t.typeToString(o.recursiveType)}:`,s+=o.recursiveType===e.ATTR_MR?o.groupNumber:"-",s+=`:${i.rule.name}\n`,s},h=()=>{let e="LEGEND - t=true, f=false, e=error\n";return e+="sequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n","LEGEND - t=true, f=false, e=error\nsequence:rule index:left nested right cyclic finite empty:type:group number:rule name\n"},d=e=>{let r=0,n=0,i=null,o=null,s="",{ruleIndexes:a}=t;for(97===e?a=t.ruleAlphaIndexes:116===e&&(a=t.ruleTypeIndexes),r=0;r<t.ruleCount;r+=1)n=a[r],i=t.attrs[n],o=t.ruleDeps[n],s+=f(r,n,i,o);return s};return{ruleAttributes:e=>{t=e;let r=0,n=0;const i=t.attrGen();for(r=0;r<t.ruleCount;r+=1){for(n=0;n<t.ruleCount;n+=1)t.attrInit(t.attrsWorking[n]);t.startRule=r,a(t,r,i),t.attrCopy(t.attrs[r],t.attrsWorking[r])}t.attributesComplete=!0;let o=null;for(r=0;r<t.ruleCount;r+=1)if(o=t.attrs[r],o.left||!o.finite||o.cyclic){const e=t.attrGen(o.rule);t.attrCopy(e,o),t.attrsErrors.push(e),t.attrsErrorCount+=1}},showAttributes:(e="index")=>{if(!t.attributesComplete)throw new Error("rule-attributes.js:showAttributes: attributes not available");let r="";const n="RULE ATTRIBUTES\n";return 97===e.charCodeAt(0)?(r+="alphabetical by rule name\n",r+=n,r+=h(),r+=d(97)):116===e.charCodeAt(0)?(r+="ordered by rule type\n",r+=n,r+=h(),r+=d(116)):(r+="ordered by rule index\n",r+=n,r+=h(),r+=d()),r},showAttributeErrors:()=>{let e=null,r=null,n="";if(n+="RULE ATTRIBUTES WITH ERRORS\n",n+=h(),t.attrsErrorCount)for(let i=0;i<t.attrsErrorCount;i+=1)e=t.attrsErrors[i],r=t.ruleDeps[e.rule.index],n+=f(i,e.rule.index,e,r);else n+="<none>\n";return n}}}()},7008:function(e,t,r){e.exports=(()=>{const e=r(8276);let t=null;const n=(t,r,i,o)=>{let s=0,a=0;const c=r[i];o[i]=!0;const u=c.rule.opcodes;for(s=0;s<u.length;s+=1){const i=u[s];if(i.type===e.RNM)for(c.refersTo[i.index]=!0,o[i.index]||n(t,r,i.index,o),a=0;a<t;a+=1)r[i.index].refersTo[a]&&(c.refersTo[a]=!0);else i.type===e.UDT?c.refersToUdt[i.index]=!0:i.type===e.BKR&&(i.index<t?(c.refersTo[i.index]=!0,o[i.index]||n(t,r,i.index,o)):c.refersToUdt[t-i.index]=!0)}},i=(e=null)=>{let r=0,n=0,i=0,o=0;const s=t.ruleCount-1,a=t.udtCount-1;let c="",u="";const f="=> ";let h=!1,d=null,{ruleIndexes:l}=t,{udtIndexes:p}=t;for(97===e?(l=t.ruleAlphaIndexes,p=t.udtAlphaIndexes):116===e&&(l=t.ruleTypeIndexes,p=t.udtAlphaIndexes),r=0;r<t.ruleCount;r+=1){for(d=t.ruleDeps[l[r]],u=`${l[r]}:${t.typeToString(d.recursiveType)}:`,t.isMutuallyRecursive&&(u+=d.groupNumber>-1?d.groupNumber:"-",u+=":"),u+=" ",c+=`${u+t.rules[l[r]].name}\n`,h=!0,i=0,o=c.length,c+=u,n=0;n<t.ruleCount;n+=1)d.refersTo[l[n]]&&(h?(c+=f,h=!1,c+=t.ruleDeps[l[n]].rule.name):c+=`, ${t.ruleDeps[l[n]].rule.name}`,i+=1),c.length-o>100&&n!==s&&(c+=`\n${u}=> `,o=c.length);if(t.udtCount)for(n=0;n<t.udtCount;n+=1)d.refersToUdt[p[n]]&&(h?(c+=f,h=!1,c+=t.udts[p[n]].name):c+=`, ${t.udts[p[n]].name}`,i+=1),c.length-o>100&&n!==a&&(c+=`\n${u}=> `,o=c.length);for(0===i&&(c+="=> <none>\n"),!1===h&&(c+="\n"),h=!0,i=0,o=c.length,c+=u,n=0;n<t.ruleCount;n+=1)d.referencedBy[l[n]]&&(h?(c+="<= ",h=!1,c+=t.ruleDeps[l[n]].rule.name):c+=`, ${t.ruleDeps[l[n]].rule.name}`,i+=1),c.length-o>100&&n!==s&&(c+=`\n${u}=> `,o=c.length);0===i&&(c+="<= <none>\n"),!1===h&&(c+="\n"),c+="\n"}return c};return{ruleDependencies:r=>{t=r;let i=0,o=0,s=0,a=null,c=null,u=!1;t.dependenciesComplete=!1;const f=t.falseArray(t.ruleCount);for(i=0;i<t.ruleCount;i+=1)t.falsifyArray(f),n(t.ruleCount,t.ruleDeps,i,f);for(i=0;i<t.ruleCount;i+=1)for(o=0;o<t.ruleCount;o+=1)i!==o&&t.ruleDeps[o].refersTo[i]&&(t.ruleDeps[i].referencedBy[o]=!0);for(i=0;i<t.ruleCount;i+=1)t.ruleDeps[i].recursiveType=e.ATTR_N,t.ruleDeps[i].refersTo[i]&&(t.ruleDeps[i].recursiveType=e.ATTR_R);for(s=-1,i=0;i<t.ruleCount;i+=1)if(a=t.ruleDeps[i],a.recursiveType===e.ATTR_R)for(u=!0,o=0;o<t.ruleCount;o+=1)i!==o&&(c=t.ruleDeps[o],c.recursiveType===e.ATTR_R&&a.refersTo[o]&&c.refersTo[i]&&(u&&(s+=1,a.recursiveType=e.ATTR_MR,a.groupNumber=s,u=!1),c.recursiveType=e.ATTR_MR,c.groupNumber=s));t.isMutuallyRecursive=s>-1,t.ruleAlphaIndexes.sort(t.compRulesAlpha),t.ruleTypeIndexes.sort(t.compRulesAlpha),t.ruleTypeIndexes.sort(t.compRulesType),t.isMutuallyRecursive&&t.ruleTypeIndexes.sort(t.compRulesGroup),t.udtCount&&t.udtAlphaIndexes.sort(t.compUdtsAlpha),t.dependenciesComplete=!0},showRuleDependencies:(e="index")=>{let r="RULE DEPENDENCIES(index:type:[group number:])\n";return r+="=> refers to rule names\n",r+="<= referenced by rule names\n",t.dependenciesComplete?(97===e.charCodeAt(0)?(r+="alphabetical by rule name\n",r+=i(97)):116===e.charCodeAt(0)?(r+="ordered by rule type\n",r+=i(116)):(r+="ordered by rule index\n",r+=i(null)),r):r}}})()},3610:function(e){e.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"File",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"BlankLine",lower:"blankline",index:1,isBkr:!1},this.rules[2]={name:"Rule",lower:"rule",index:2,isBkr:!1},this.rules[3]={name:"RuleLookup",lower:"rulelookup",index:3,isBkr:!1},this.rules[4]={name:"RuleNameTest",lower:"rulenametest",index:4,isBkr:!1},this.rules[5]={name:"RuleName",lower:"rulename",index:5,isBkr:!1},this.rules[6]={name:"RuleNameError",lower:"rulenameerror",index:6,isBkr:!1},this.rules[7]={name:"DefinedAsTest",lower:"definedastest",index:7,isBkr:!1},this.rules[8]={name:"DefinedAsError",lower:"definedaserror",index:8,isBkr:!1},this.rules[9]={name:"DefinedAs",lower:"definedas",index:9,isBkr:!1},this.rules[10]={name:"Defined",lower:"defined",index:10,isBkr:!1},this.rules[11]={name:"IncAlt",lower:"incalt",index:11,isBkr:!1},this.rules[12]={name:"RuleError",lower:"ruleerror",index:12,isBkr:!1},this.rules[13]={name:"LineEndError",lower:"lineenderror",index:13,isBkr:!1},this.rules[14]={name:"Alternation",lower:"alternation",index:14,isBkr:!1},this.rules[15]={name:"Concatenation",lower:"concatenation",index:15,isBkr:!1},this.rules[16]={name:"Repetition",lower:"repetition",index:16,isBkr:!1},this.rules[17]={name:"Modifier",lower:"modifier",index:17,isBkr:!1},this.rules[18]={name:"Predicate",lower:"predicate",index:18,isBkr:!1},this.rules[19]={name:"BasicElement",lower:"basicelement",index:19,isBkr:!1},this.rules[20]={name:"BasicElementErr",lower:"basicelementerr",index:20,isBkr:!1},this.rules[21]={name:"Group",lower:"group",index:21,isBkr:!1},this.rules[22]={name:"GroupError",lower:"grouperror",index:22,isBkr:!1},this.rules[23]={name:"GroupOpen",lower:"groupopen",index:23,isBkr:!1},this.rules[24]={name:"GroupClose",lower:"groupclose",index:24,isBkr:!1},this.rules[25]={name:"Option",lower:"option",index:25,isBkr:!1},this.rules[26]={name:"OptionError",lower:"optionerror",index:26,isBkr:!1},this.rules[27]={name:"OptionOpen",lower:"optionopen",index:27,isBkr:!1},this.rules[28]={name:"OptionClose",lower:"optionclose",index:28,isBkr:!1},this.rules[29]={name:"RnmOp",lower:"rnmop",index:29,isBkr:!1},this.rules[30]={name:"BkrOp",lower:"bkrop",index:30,isBkr:!1},this.rules[31]={name:"bkrModifier",lower:"bkrmodifier",index:31,isBkr:!1},this.rules[32]={name:"cs",lower:"cs",index:32,isBkr:!1},this.rules[33]={name:"ci",lower:"ci",index:33,isBkr:!1},this.rules[34]={name:"um",lower:"um",index:34,isBkr:!1},this.rules[35]={name:"pm",lower:"pm",index:35,isBkr:!1},this.rules[36]={name:"bkr-name",lower:"bkr-name",index:36,isBkr:!1},this.rules[37]={name:"rname",lower:"rname",index:37,isBkr:!1},this.rules[38]={name:"uname",lower:"uname",index:38,isBkr:!1},this.rules[39]={name:"ename",lower:"ename",index:39,isBkr:!1},this.rules[40]={name:"UdtOp",lower:"udtop",index:40,isBkr:!1},this.rules[41]={name:"udt-non-empty",lower:"udt-non-empty",index:41,isBkr:!1},this.rules[42]={name:"udt-empty",lower:"udt-empty",index:42,isBkr:!1},this.rules[43]={name:"RepOp",lower:"repop",index:43,isBkr:!1},this.rules[44]={name:"AltOp",lower:"altop",index:44,isBkr:!1},this.rules[45]={name:"CatOp",lower:"catop",index:45,isBkr:!1},this.rules[46]={name:"StarOp",lower:"starop",index:46,isBkr:!1},this.rules[47]={name:"AndOp",lower:"andop",index:47,isBkr:!1},this.rules[48]={name:"NotOp",lower:"notop",index:48,isBkr:!1},this.rules[49]={name:"BkaOp",lower:"bkaop",index:49,isBkr:!1},this.rules[50]={name:"BknOp",lower:"bknop",index:50,isBkr:!1},this.rules[51]={name:"AbgOp",lower:"abgop",index:51,isBkr:!1},this.rules[52]={name:"AenOp",lower:"aenop",index:52,isBkr:!1},this.rules[53]={name:"TrgOp",lower:"trgop",index:53,isBkr:!1},this.rules[54]={name:"TbsOp",lower:"tbsop",index:54,isBkr:!1},this.rules[55]={name:"TlsOp",lower:"tlsop",index:55,isBkr:!1},this.rules[56]={name:"TlsCase",lower:"tlscase",index:56,isBkr:!1},this.rules[57]={name:"TlsOpen",lower:"tlsopen",index:57,isBkr:!1},this.rules[58]={name:"TlsClose",lower:"tlsclose",index:58,isBkr:!1},this.rules[59]={name:"TlsString",lower:"tlsstring",index:59,isBkr:!1},this.rules[60]={name:"StringTab",lower:"stringtab",index:60,isBkr:!1},this.rules[61]={name:"ClsOp",lower:"clsop",index:61,isBkr:!1},this.rules[62]={name:"ClsOpen",lower:"clsopen",index:62,isBkr:!1},this.rules[63]={name:"ClsClose",lower:"clsclose",index:63,isBkr:!1},this.rules[64]={name:"ClsString",lower:"clsstring",index:64,isBkr:!1},this.rules[65]={name:"ProsVal",lower:"prosval",index:65,isBkr:!1},this.rules[66]={name:"ProsValOpen",lower:"prosvalopen",index:66,isBkr:!1},this.rules[67]={name:"ProsValString",lower:"prosvalstring",index:67,isBkr:!1},this.rules[68]={name:"ProsValClose",lower:"prosvalclose",index:68,isBkr:!1},this.rules[69]={name:"rep-min",lower:"rep-min",index:69,isBkr:!1},this.rules[70]={name:"rep-min-max",lower:"rep-min-max",index:70,isBkr:!1},this.rules[71]={name:"rep-max",lower:"rep-max",index:71,isBkr:!1},this.rules[72]={name:"rep-num",lower:"rep-num",index:72,isBkr:!1},this.rules[73]={name:"dString",lower:"dstring",index:73,isBkr:!1},this.rules[74]={name:"xString",lower:"xstring",index:74,isBkr:!1},this.rules[75]={name:"bString",lower:"bstring",index:75,isBkr:!1},this.rules[76]={name:"Dec",lower:"dec",index:76,isBkr:!1},this.rules[77]={name:"Hex",lower:"hex",index:77,isBkr:!1},this.rules[78]={name:"Bin",lower:"bin",index:78,isBkr:!1},this.rules[79]={name:"dmin",lower:"dmin",index:79,isBkr:!1},this.rules[80]={name:"dmax",lower:"dmax",index:80,isBkr:!1},this.rules[81]={name:"bmin",lower:"bmin",index:81,isBkr:!1},this.rules[82]={name:"bmax",lower:"bmax",index:82,isBkr:!1},this.rules[83]={name:"xmin",lower:"xmin",index:83,isBkr:!1},this.rules[84]={name:"xmax",lower:"xmax",index:84,isBkr:!1},this.rules[85]={name:"dnum",lower:"dnum",index:85,isBkr:!1},this.rules[86]={name:"bnum",lower:"bnum",index:86,isBkr:!1},this.rules[87]={name:"xnum",lower:"xnum",index:87,isBkr:!1},this.rules[88]={name:"alphanum",lower:"alphanum",index:88,isBkr:!1},this.rules[89]={name:"owsp",lower:"owsp",index:89,isBkr:!1},this.rules[90]={name:"wsp",lower:"wsp",index:90,isBkr:!1},this.rules[91]={name:"space",lower:"space",index:91,isBkr:!1},this.rules[92]={name:"comment",lower:"comment",index:92,isBkr:!1},this.rules[93]={name:"LineEnd",lower:"lineend",index:93,isBkr:!1},this.rules[94]={name:"LineContinue",lower:"linecontinue",index:94,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:0,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3,4]},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:4,index:2},this.rules[0].opcodes[4]={type:4,index:12},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,5,7]},this.rules[1].opcodes[1]={type:3,min:0,max:1/0},this.rules[1].opcodes[2]={type:1,children:[3,4]},this.rules[1].opcodes[3]={type:6,string:[32]},this.rules[1].opcodes[4]={type:6,string:[9]},this.rules[1].opcodes[5]={type:3,min:0,max:1},this.rules[1].opcodes[6]={type:4,index:92},this.rules[1].opcodes[7]={type:4,index:93},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[2].opcodes[1]={type:4,index:3},this.rules[2].opcodes[2]={type:4,index:89},this.rules[2].opcodes[3]={type:4,index:14},this.rules[2].opcodes[4]={type:1,children:[5,8]},this.rules[2].opcodes[5]={type:2,children:[6,7]},this.rules[2].opcodes[6]={type:4,index:89},this.rules[2].opcodes[7]={type:4,index:93},this.rules[2].opcodes[8]={type:2,children:[9,10]},this.rules[2].opcodes[9]={type:4,index:13},this.rules[2].opcodes[10]={type:4,index:93},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:2,children:[1,2,3]},this.rules[3].opcodes[1]={type:4,index:4},this.rules[3].opcodes[2]={type:4,index:89},this.rules[3].opcodes[3]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:4,index:5},this.rules[4].opcodes[2]={type:4,index:6},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:4,index:88},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:1,max:1/0},this.rules[6].opcodes[1]={type:1,children:[2,3]},this.rules[6].opcodes[2]={type:5,min:33,max:60},this.rules[6].opcodes[3]={type:5,min:62,max:126},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:1,children:[1,2]},this.rules[7].opcodes[1]={type:4,index:9},this.rules[7].opcodes[2]={type:4,index:8},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:3,min:1,max:2},this.rules[8].opcodes[1]={type:5,min:33,max:126},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2]},this.rules[9].opcodes[1]={type:4,index:11},this.rules[9].opcodes[2]={type:4,index:10},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:6,string:[61]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:6,string:[61,47]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:2,children:[1,6]},this.rules[12].opcodes[1]={type:3,min:1,max:1/0},this.rules[12].opcodes[2]={type:1,children:[3,4,5]},this.rules[12].opcodes[3]={type:5,min:32,max:126},this.rules[12].opcodes[4]={type:6,string:[9]},this.rules[12].opcodes[5]={type:4,index:94},this.rules[12].opcodes[6]={type:4,index:93},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:3,min:1,max:1/0},this.rules[13].opcodes[1]={type:1,children:[2,3,4]},this.rules[13].opcodes[2]={type:5,min:32,max:126},this.rules[13].opcodes[3]={type:6,string:[9]},this.rules[13].opcodes[4]={type:4,index:94},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2]},this.rules[14].opcodes[1]={type:4,index:15},this.rules[14].opcodes[2]={type:3,min:0,max:1/0},this.rules[14].opcodes[3]={type:2,children:[4,5,6]},this.rules[14].opcodes[4]={type:4,index:89},this.rules[14].opcodes[5]={type:4,index:44},this.rules[14].opcodes[6]={type:4,index:15},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:2,children:[1,2]},this.rules[15].opcodes[1]={type:4,index:16},this.rules[15].opcodes[2]={type:3,min:0,max:1/0},this.rules[15].opcodes[3]={type:2,children:[4,5]},this.rules[15].opcodes[4]={type:4,index:45},this.rules[15].opcodes[5]={type:4,index:16},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:2,children:[1,3]},this.rules[16].opcodes[1]={type:3,min:0,max:1},this.rules[16].opcodes[2]={type:4,index:17},this.rules[16].opcodes[3]={type:1,children:[4,5,6,7]},this.rules[16].opcodes[4]={type:4,index:21},this.rules[16].opcodes[5]={type:4,index:25},this.rules[16].opcodes[6]={type:4,index:19},this.rules[16].opcodes[7]={type:4,index:20},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:1,children:[1,5]},this.rules[17].opcodes[1]={type:2,children:[2,3]},this.rules[17].opcodes[2]={type:4,index:18},this.rules[17].opcodes[3]={type:3,min:0,max:1},this.rules[17].opcodes[4]={type:4,index:43},this.rules[17].opcodes[5]={type:4,index:43},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[18].opcodes[1]={type:4,index:49},this.rules[18].opcodes[2]={type:4,index:50},this.rules[18].opcodes[3]={type:4,index:47},this.rules[18].opcodes[4]={type:4,index:48},this.rules[19].opcodes=[],this.rules[19].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10]},this.rules[19].opcodes[1]={type:4,index:40},this.rules[19].opcodes[2]={type:4,index:29},this.rules[19].opcodes[3]={type:4,index:53},this.rules[19].opcodes[4]={type:4,index:54},this.rules[19].opcodes[5]={type:4,index:55},this.rules[19].opcodes[6]={type:4,index:61},this.rules[19].opcodes[7]={type:4,index:30},this.rules[19].opcodes[8]={type:4,index:51},this.rules[19].opcodes[9]={type:4,index:52},this.rules[19].opcodes[10]={type:4,index:65},this.rules[20].opcodes=[],this.rules[20].opcodes[0]={type:3,min:1,max:1/0},this.rules[20].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[20].opcodes[2]={type:5,min:33,max:40},this.rules[20].opcodes[3]={type:5,min:42,max:46},this.rules[20].opcodes[4]={type:5,min:48,max:92},this.rules[20].opcodes[5]={type:5,min:94,max:126},this.rules[21].opcodes=[],this.rules[21].opcodes[0]={type:2,children:[1,2,3]},this.rules[21].opcodes[1]={type:4,index:23},this.rules[21].opcodes[2]={type:4,index:14},this.rules[21].opcodes[3]={type:1,children:[4,5]},this.rules[21].opcodes[4]={type:4,index:24},this.rules[21].opcodes[5]={type:4,index:22},this.rules[22].opcodes=[],this.rules[22].opcodes[0]={type:3,min:1,max:1/0},this.rules[22].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[22].opcodes[2]={type:5,min:33,max:40},this.rules[22].opcodes[3]={type:5,min:42,max:46},this.rules[22].opcodes[4]={type:5,min:48,max:92},this.rules[22].opcodes[5]={type:5,min:94,max:126},this.rules[23].opcodes=[],this.rules[23].opcodes[0]={type:2,children:[1,2]},this.rules[23].opcodes[1]={type:6,string:[40]},this.rules[23].opcodes[2]={type:4,index:89},this.rules[24].opcodes=[],this.rules[24].opcodes[0]={type:2,children:[1,2]},this.rules[24].opcodes[1]={type:4,index:89},this.rules[24].opcodes[2]={type:6,string:[41]},this.rules[25].opcodes=[],this.rules[25].opcodes[0]={type:2,children:[1,2,3]},this.rules[25].opcodes[1]={type:4,index:27},this.rules[25].opcodes[2]={type:4,index:14},this.rules[25].opcodes[3]={type:1,children:[4,5]},this.rules[25].opcodes[4]={type:4,index:28},this.rules[25].opcodes[5]={type:4,index:26},this.rules[26].opcodes=[],this.rules[26].opcodes[0]={type:3,min:1,max:1/0},this.rules[26].opcodes[1]={type:1,children:[2,3,4,5]},this.rules[26].opcodes[2]={type:5,min:33,max:40},this.rules[26].opcodes[3]={type:5,min:42,max:46},this.rules[26].opcodes[4]={type:5,min:48,max:92},this.rules[26].opcodes[5]={type:5,min:94,max:126},this.rules[27].opcodes=[],this.rules[27].opcodes[0]={type:2,children:[1,2]},this.rules[27].opcodes[1]={type:6,string:[91]},this.rules[27].opcodes[2]={type:4,index:89},this.rules[28].opcodes=[],this.rules[28].opcodes[0]={type:2,children:[1,2]},this.rules[28].opcodes[1]={type:4,index:89},this.rules[28].opcodes[2]={type:6,string:[93]},this.rules[29].opcodes=[],this.rules[29].opcodes[0]={type:4,index:88},this.rules[30].opcodes=[],this.rules[30].opcodes[0]={type:2,children:[1,2,4]},this.rules[30].opcodes[1]={type:6,string:[92]},this.rules[30].opcodes[2]={type:3,min:0,max:1},this.rules[30].opcodes[3]={type:4,index:31},this.rules[30].opcodes[4]={type:4,index:36},this.rules[31].opcodes=[],this.rules[31].opcodes[0]={type:1,children:[1,7,13,19]},this.rules[31].opcodes[1]={type:2,children:[2,3]},this.rules[31].opcodes[2]={type:4,index:32},this.rules[31].opcodes[3]={type:3,min:0,max:1},this.rules[31].opcodes[4]={type:1,children:[5,6]},this.rules[31].opcodes[5]={type:4,index:34},this.rules[31].opcodes[6]={type:4,index:35},this.rules[31].opcodes[7]={type:2,children:[8,9]},this.rules[31].opcodes[8]={type:4,index:33},this.rules[31].opcodes[9]={type:3,min:0,max:1},this.rules[31].opcodes[10]={type:1,children:[11,12]},this.rules[31].opcodes[11]={type:4,index:34},this.rules[31].opcodes[12]={type:4,index:35},this.rules[31].opcodes[13]={type:2,children:[14,15]},this.rules[31].opcodes[14]={type:4,index:34},this.rules[31].opcodes[15]={type:3,min:0,max:1},this.rules[31].opcodes[16]={type:1,children:[17,18]},this.rules[31].opcodes[17]={type:4,index:32},this.rules[31].opcodes[18]={type:4,index:33},this.rules[31].opcodes[19]={type:2,children:[20,21]},this.rules[31].opcodes[20]={type:4,index:35},this.rules[31].opcodes[21]={type:3,min:0,max:1},this.rules[31].opcodes[22]={type:1,children:[23,24]},this.rules[31].opcodes[23]={type:4,index:32},this.rules[31].opcodes[24]={type:4,index:33},this.rules[32].opcodes=[],this.rules[32].opcodes[0]={type:6,string:[37,115]},this.rules[33].opcodes=[],this.rules[33].opcodes[0]={type:6,string:[37,105]},this.rules[34].opcodes=[],this.rules[34].opcodes[0]={type:6,string:[37,117]},this.rules[35].opcodes=[],this.rules[35].opcodes[0]={type:6,string:[37,112]},this.rules[36].opcodes=[],this.rules[36].opcodes[0]={type:1,children:[1,2,3]},this.rules[36].opcodes[1]={type:4,index:38},this.rules[36].opcodes[2]={type:4,index:39},this.rules[36].opcodes[3]={type:4,index:37},this.rules[37].opcodes=[],this.rules[37].opcodes[0]={type:4,index:88},this.rules[38].opcodes=[],this.rules[38].opcodes[0]={type:2,children:[1,2]},this.rules[38].opcodes[1]={type:6,string:[117,95]},this.rules[38].opcodes[2]={type:4,index:88},this.rules[39].opcodes=[],this.rules[39].opcodes[0]={type:2,children:[1,2]},this.rules[39].opcodes[1]={type:6,string:[101,95]},this.rules[39].opcodes[2]={type:4,index:88},this.rules[40].opcodes=[],this.rules[40].opcodes[0]={type:1,children:[1,2]},this.rules[40].opcodes[1]={type:4,index:42},this.rules[40].opcodes[2]={type:4,index:41},this.rules[41].opcodes=[],this.rules[41].opcodes[0]={type:2,children:[1,2]},this.rules[41].opcodes[1]={type:6,string:[117,95]},this.rules[41].opcodes[2]={type:4,index:88},this.rules[42].opcodes=[],this.rules[42].opcodes[0]={type:2,children:[1,2]},this.rules[42].opcodes[1]={type:6,string:[101,95]},this.rules[42].opcodes[2]={type:4,index:88},this.rules[43].opcodes=[],this.rules[43].opcodes[0]={type:1,children:[1,5,8,11,12]},this.rules[43].opcodes[1]={type:2,children:[2,3,4]},this.rules[43].opcodes[2]={type:4,index:69},this.rules[43].opcodes[3]={type:4,index:46},this.rules[43].opcodes[4]={type:4,index:71},this.rules[43].opcodes[5]={type:2,children:[6,7]},this.rules[43].opcodes[6]={type:4,index:69},this.rules[43].opcodes[7]={type:4,index:46},this.rules[43].opcodes[8]={type:2,children:[9,10]},this.rules[43].opcodes[9]={type:4,index:46},this.rules[43].opcodes[10]={type:4,index:71},this.rules[43].opcodes[11]={type:4,index:46},this.rules[43].opcodes[12]={type:4,index:70},this.rules[44].opcodes=[],this.rules[44].opcodes[0]={type:2,children:[1,2]},this.rules[44].opcodes[1]={type:6,string:[47]},this.rules[44].opcodes[2]={type:4,index:89},this.rules[45].opcodes=[],this.rules[45].opcodes[0]={type:4,index:90},this.rules[46].opcodes=[],this.rules[46].opcodes[0]={type:6,string:[42]},this.rules[47].opcodes=[],this.rules[47].opcodes[0]={type:6,string:[38]},this.rules[48].opcodes=[],this.rules[48].opcodes[0]={type:6,string:[33]},this.rules[49].opcodes=[],this.rules[49].opcodes[0]={type:6,string:[38,38]},this.rules[50].opcodes=[],this.rules[50].opcodes[0]={type:6,string:[33,33]},this.rules[51].opcodes=[],this.rules[51].opcodes[0]={type:6,string:[37,94]},this.rules[52].opcodes=[],this.rules[52].opcodes[0]={type:6,string:[37,36]},this.rules[53].opcodes=[],this.rules[53].opcodes[0]={type:2,children:[1,2]},this.rules[53].opcodes[1]={type:6,string:[37]},this.rules[53].opcodes[2]={type:1,children:[3,8,13]},this.rules[53].opcodes[3]={type:2,children:[4,5,6,7]},this.rules[53].opcodes[4]={type:4,index:76},this.rules[53].opcodes[5]={type:4,index:79},this.rules[53].opcodes[6]={type:6,string:[45]},this.rules[53].opcodes[7]={type:4,index:80},this.rules[53].opcodes[8]={type:2,children:[9,10,11,12]},this.rules[53].opcodes[9]={type:4,index:77},this.rules[53].opcodes[10]={type:4,index:83},this.rules[53].opcodes[11]={type:6,string:[45]},this.rules[53].opcodes[12]={type:4,index:84},this.rules[53].opcodes[13]={type:2,children:[14,15,16,17]},this.rules[53].opcodes[14]={type:4,index:78},this.rules[53].opcodes[15]={type:4,index:81},this.rules[53].opcodes[16]={type:6,string:[45]},this.rules[53].opcodes[17]={type:4,index:82},this.rules[54].opcodes=[],this.rules[54].opcodes[0]={type:2,children:[1,2]},this.rules[54].opcodes[1]={type:6,string:[37]},this.rules[54].opcodes[2]={type:1,children:[3,10,17]},this.rules[54].opcodes[3]={type:2,children:[4,5,6]},this.rules[54].opcodes[4]={type:4,index:76},this.rules[54].opcodes[5]={type:4,index:73},this.rules[54].opcodes[6]={type:3,min:0,max:1/0},this.rules[54].opcodes[7]={type:2,children:[8,9]},this.rules[54].opcodes[8]={type:6,string:[46]},this.rules[54].opcodes[9]={type:4,index:73},this.rules[54].opcodes[10]={type:2,children:[11,12,13]},this.rules[54].opcodes[11]={type:4,index:77},this.rules[54].opcodes[12]={type:4,index:74},this.rules[54].opcodes[13]={type:3,min:0,max:1/0},this.rules[54].opcodes[14]={type:2,children:[15,16]},this.rules[54].opcodes[15]={type:6,string:[46]},this.rules[54].opcodes[16]={type:4,index:74},this.rules[54].opcodes[17]={type:2,children:[18,19,20]},this.rules[54].opcodes[18]={type:4,index:78},this.rules[54].opcodes[19]={type:4,index:75},this.rules[54].opcodes[20]={type:3,min:0,max:1/0},this.rules[54].opcodes[21]={type:2,children:[22,23]},this.rules[54].opcodes[22]={type:6,string:[46]},this.rules[54].opcodes[23]={type:4,index:75},this.rules[55].opcodes=[],this.rules[55].opcodes[0]={type:2,children:[1,2,3,4]},this.rules[55].opcodes[1]={type:4,index:56},this.rules[55].opcodes[2]={type:4,index:57},this.rules[55].opcodes[3]={type:4,index:59},this.rules[55].opcodes[4]={type:4,index:58},this.rules[56].opcodes=[],this.rules[56].opcodes[0]={type:3,min:0,max:1},this.rules[56].opcodes[1]={type:1,children:[2,3]},this.rules[56].opcodes[2]={type:7,string:[37,105]},this.rules[56].opcodes[3]={type:7,string:[37,115]},this.rules[57].opcodes=[],this.rules[57].opcodes[0]={type:6,string:[34]},this.rules[58].opcodes=[],this.rules[58].opcodes[0]={type:6,string:[34]},this.rules[59].opcodes=[],this.rules[59].opcodes[0]={type:3,min:0,max:1/0},this.rules[59].opcodes[1]={type:1,children:[2,3,4]},this.rules[59].opcodes[2]={type:5,min:32,max:33},this.rules[59].opcodes[3]={type:5,min:35,max:126},this.rules[59].opcodes[4]={type:4,index:60},this.rules[60].opcodes=[],this.rules[60].opcodes[0]={type:6,string:[9]},this.rules[61].opcodes=[],this.rules[61].opcodes[0]={type:2,children:[1,2,3]},this.rules[61].opcodes[1]={type:4,index:62},this.rules[61].opcodes[2]={type:4,index:64},this.rules[61].opcodes[3]={type:4,index:63},this.rules[62].opcodes=[],this.rules[62].opcodes[0]={type:6,string:[39]},this.rules[63].opcodes=[],this.rules[63].opcodes[0]={type:6,string:[39]},this.rules[64].opcodes=[],this.rules[64].opcodes[0]={type:3,min:0,max:1/0},this.rules[64].opcodes[1]={type:1,children:[2,3,4]},this.rules[64].opcodes[2]={type:5,min:32,max:38},this.rules[64].opcodes[3]={type:5,min:40,max:126},this.rules[64].opcodes[4]={type:4,index:60},this.rules[65].opcodes=[],this.rules[65].opcodes[0]={type:2,children:[1,2,3]},this.rules[65].opcodes[1]={type:4,index:66},this.rules[65].opcodes[2]={type:4,index:67},this.rules[65].opcodes[3]={type:4,index:68},this.rules[66].opcodes=[],this.rules[66].opcodes[0]={type:6,string:[60]},this.rules[67].opcodes=[],this.rules[67].opcodes[0]={type:3,min:0,max:1/0},this.rules[67].opcodes[1]={type:1,children:[2,3,4]},this.rules[67].opcodes[2]={type:5,min:32,max:61},this.rules[67].opcodes[3]={type:5,min:63,max:126},this.rules[67].opcodes[4]={type:4,index:60},this.rules[68].opcodes=[],this.rules[68].opcodes[0]={type:6,string:[62]},this.rules[69].opcodes=[],this.rules[69].opcodes[0]={type:4,index:72},this.rules[70].opcodes=[],this.rules[70].opcodes[0]={type:4,index:72},this.rules[71].opcodes=[],this.rules[71].opcodes[0]={type:4,index:72},this.rules[72].opcodes=[],this.rules[72].opcodes[0]={type:3,min:1,max:1/0},this.rules[72].opcodes[1]={type:5,min:48,max:57},this.rules[73].opcodes=[],this.rules[73].opcodes[0]={type:4,index:85},this.rules[74].opcodes=[],this.rules[74].opcodes[0]={type:4,index:87},this.rules[75].opcodes=[],this.rules[75].opcodes[0]={type:4,index:86},this.rules[76].opcodes=[],this.rules[76].opcodes[0]={type:1,children:[1,2]},this.rules[76].opcodes[1]={type:6,string:[68]},this.rules[76].opcodes[2]={type:6,string:[100]},this.rules[77].opcodes=[],this.rules[77].opcodes[0]={type:1,children:[1,2]},this.rules[77].opcodes[1]={type:6,string:[88]},this.rules[77].opcodes[2]={type:6,string:[120]},this.rules[78].opcodes=[],this.rules[78].opcodes[0]={type:1,children:[1,2]},this.rules[78].opcodes[1]={type:6,string:[66]},this.rules[78].opcodes[2]={type:6,string:[98]},this.rules[79].opcodes=[],this.rules[79].opcodes[0]={type:4,index:85},this.rules[80].opcodes=[],this.rules[80].opcodes[0]={type:4,index:85},this.rules[81].opcodes=[],this.rules[81].opcodes[0]={type:4,index:86},this.rules[82].opcodes=[],this.rules[82].opcodes[0]={type:4,index:86},this.rules[83].opcodes=[],this.rules[83].opcodes[0]={type:4,index:87},this.rules[84].opcodes=[],this.rules[84].opcodes[0]={type:4,index:87},this.rules[85].opcodes=[],this.rules[85].opcodes[0]={type:3,min:1,max:1/0},this.rules[85].opcodes[1]={type:5,min:48,max:57},this.rules[86].opcodes=[],this.rules[86].opcodes[0]={type:3,min:1,max:1/0},this.rules[86].opcodes[1]={type:5,min:48,max:49},this.rules[87].opcodes=[],this.rules[87].opcodes[0]={type:3,min:1,max:1/0},this.rules[87].opcodes[1]={type:1,children:[2,3,4]},this.rules[87].opcodes[2]={type:5,min:48,max:57},this.rules[87].opcodes[3]={type:5,min:65,max:70},this.rules[87].opcodes[4]={type:5,min:97,max:102},this.rules[88].opcodes=[],this.rules[88].opcodes[0]={type:2,children:[1,4]},this.rules[88].opcodes[1]={type:1,children:[2,3]},this.rules[88].opcodes[2]={type:5,min:97,max:122},this.rules[88].opcodes[3]={type:5,min:65,max:90},this.rules[88].opcodes[4]={type:3,min:0,max:1/0},this.rules[88].opcodes[5]={type:1,children:[6,7,8,9]},this.rules[88].opcodes[6]={type:5,min:97,max:122},this.rules[88].opcodes[7]={type:5,min:65,max:90},this.rules[88].opcodes[8]={type:5,min:48,max:57},this.rules[88].opcodes[9]={type:6,string:[45]},this.rules[89].opcodes=[],this.rules[89].opcodes[0]={type:3,min:0,max:1/0},this.rules[89].opcodes[1]={type:4,index:91},this.rules[90].opcodes=[],this.rules[90].opcodes[0]={type:3,min:1,max:1/0},this.rules[90].opcodes[1]={type:4,index:91},this.rules[91].opcodes=[],this.rules[91].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[91].opcodes[1]={type:6,string:[32]},this.rules[91].opcodes[2]={type:6,string:[9]},this.rules[91].opcodes[3]={type:4,index:92},this.rules[91].opcodes[4]={type:4,index:94},this.rules[92].opcodes=[],this.rules[92].opcodes[0]={type:2,children:[1,2]},this.rules[92].opcodes[1]={type:6,string:[59]},this.rules[92].opcodes[2]={type:3,min:0,max:1/0},this.rules[92].opcodes[3]={type:1,children:[4,5]},this.rules[92].opcodes[4]={type:5,min:32,max:126},this.rules[92].opcodes[5]={type:6,string:[9]},this.rules[93].opcodes=[],this.rules[93].opcodes[0]={type:1,children:[1,2,3]},this.rules[93].opcodes[1]={type:6,string:[13,10]},this.rules[93].opcodes[2]={type:6,string:[10]},this.rules[93].opcodes[3]={type:6,string:[13]},this.rules[94].opcodes=[],this.rules[94].opcodes[0]={type:2,children:[1,5]},this.rules[94].opcodes[1]={type:1,children:[2,3,4]},this.rules[94].opcodes[2]={type:6,string:[13,10]},this.rules[94].opcodes[3]={type:6,string:[10]},this.rules[94].opcodes[4]={type:6,string:[13]},this.rules[94].opcodes[5]={type:1,children:[6,7]},this.rules[94].opcodes[6]={type:6,string:[32]},this.rules[94].opcodes[7]={type:6,string:[9]},this.toString=function(){let e="";return e+=";\n",e+="; ABNF for JavaScript APG 2.0 SABNF\n",e+="; RFC 5234 with some restrictions and additions.\n",e+="; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n",e+=';  - accepts %s"string" as a case-sensitive string\n',e+=';  - accepts %i"string" as a case-insensitive string\n',e+=';  - accepts "string" as a case-insensitive string\n',e+=";\n",e+="; Some restrictions:\n",e+=";   1. Rules must begin at first character of each line.\n",e+=";      Indentations on first rule and rules thereafter are not allowed.\n",e+=";   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n",e+=";   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n",e+=";      However, a working parser cannot be generated from them.\n",e+=";\n",e+="; Super set (SABNF) additions:\n",e+=";   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n",e+=";      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n",e+=";      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n",e+=";      e.g. &%d13 or &rule or !(A / B)\n",e+=";   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n",e+=";      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n",e+=";      u_name may be used as an element but no rule definition is given.\n",e+=";      e.g. rule = A / u_myUdt\n",e+=';           A = "a"\n',e+=";      would be a valid grammar.\n",e+=";   3. Case-sensitive, single-quoted strings are accepted.\n",e+=";      e.g. 'abc' would be equivalent to %d97.98.99\n",e+=';      (kept for backward compatibility, but superseded by %s"abc")  \n',e+="; New 12/26/2015\n",e+=";   4. Look-behind operators are accepted as element prefixes.\n",e+=";      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n",e+=";      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n",e+=";      e.g. &&%d13 or &&rule or !!(A / B)\n",e+=";   5. Back reference operators, i.e. \\rulename, are accepted.\n",e+=";      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n",e+=";      to match is a phrase previously matched by the rule 'rulename'.\n",e+=";      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n",e+=";      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n",e+=";      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n",e+=";      Back reference modifiers can be used to specify case and mode.\n",e+=";      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n",e+=";      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n",e+=";      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n",e+=";      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n",e+=";   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";   8. String end anchor, AEN(%$) matches the end of the input string location.\n",e+=";      Returns EMPTY or NOMATCH. Never consumes any characters.\n",e+=";\n",e+="File            = *(BlankLine / Rule / RuleError)\n",e+="BlankLine       = *(%d32/%d9) [comment] LineEnd\n",e+="Rule            = RuleLookup owsp Alternation ((owsp LineEnd)\n",e+="                / (LineEndError LineEnd))\n",e+="RuleLookup      = RuleNameTest owsp DefinedAsTest\n",e+="RuleNameTest    = RuleName/RuleNameError\n",e+="RuleName        = alphanum\n",e+="RuleNameError   = 1*(%d33-60/%d62-126)\n",e+="DefinedAsTest   = DefinedAs / DefinedAsError\n",e+="DefinedAsError  = 1*2%d33-126\n",e+="DefinedAs       = IncAlt / Defined\n",e+="Defined         = %d61\n",e+="IncAlt          = %d61.47\n",e+="RuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\n",e+="LineEndError    = 1*(%d32-126 / %d9  / LineContinue)\n",e+="Alternation     = Concatenation *(owsp AltOp Concatenation)\n",e+="Concatenation   = Repetition *(CatOp Repetition)\n",e+="Repetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\n",e+="Modifier        = (Predicate [RepOp])\n",e+="                / RepOp\n",e+="Predicate       = BkaOp\n",e+="                / BknOp\n",e+="                / AndOp\n",e+="                / NotOp\n",e+="BasicElement    = UdtOp\n",e+="                / RnmOp\n",e+="                / TrgOp\n",e+="                / TbsOp\n",e+="                / TlsOp\n",e+="                / ClsOp\n",e+="                / BkrOp\n",e+="                / AbgOp\n",e+="                / AenOp\n",e+="                / ProsVal\n",e+="BasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\n",e+="Group           = GroupOpen  Alternation (GroupClose / GroupError)\n",e+="GroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="GroupOpen       = %d40 owsp\n",e+="GroupClose      = owsp %d41\n",e+="Option          = OptionOpen Alternation (OptionClose / OptionError)\n",e+="OptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\n",e+="OptionOpen      = %d91 owsp\n",e+="OptionClose     = owsp %d93\n",e+="RnmOp           = alphanum\n",e+="BkrOp           = %d92 [bkrModifier] bkr-name\n",e+="bkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\n",e+="cs              = '%s'\n",e+="ci              = '%i'\n",e+="um              = '%u'\n",e+="pm              = '%p'\n",e+="bkr-name        = uname / ename / rname\n",e+="rname           = alphanum\n",e+="uname           = %d117.95 alphanum\n",e+="ename           = %d101.95 alphanum\n",e+="UdtOp           = udt-empty\n",e+="                / udt-non-empty\n",e+="udt-non-empty   = %d117.95 alphanum\n",e+="udt-empty       = %d101.95 alphanum\n",e+="RepOp           = (rep-min StarOp rep-max)\n",e+="                / (rep-min StarOp)\n",e+="                / (StarOp rep-max)\n",e+="                / StarOp\n",e+="                / rep-min-max\n",e+="AltOp           = %d47 owsp\n",e+="CatOp           = wsp\n",e+="StarOp          = %d42\n",e+="AndOp           = %d38\n",e+="NotOp           = %d33\n",e+="BkaOp           = %d38.38\n",e+="BknOp           = %d33.33\n",e+="AbgOp           = %d37.94\n",e+="AenOp           = %d37.36\n",e+="TrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\n",e+="TbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\n",e+="TlsOp           = TlsCase TlsOpen TlsString TlsClose\n",e+='TlsCase         = ["%i" / "%s"]\n',e+="TlsOpen         = %d34\n",e+="TlsClose        = %d34\n",e+="TlsString       = *(%d32-33/%d35-126/StringTab)\n",e+="StringTab       = %d9\n",e+="ClsOp           = ClsOpen ClsString ClsClose\n",e+="ClsOpen         = %d39\n",e+="ClsClose        = %d39\n",e+="ClsString       = *(%d32-38/%d40-126/StringTab)\n",e+="ProsVal         = ProsValOpen ProsValString ProsValClose\n",e+="ProsValOpen     = %d60\n",e+="ProsValString   = *(%d32-61/%d63-126/StringTab)\n",e+="ProsValClose    = %d62\n",e+="rep-min         = rep-num\n",e+="rep-min-max     = rep-num\n",e+="rep-max         = rep-num\n",e+="rep-num         = 1*(%d48-57)\n",e+="dString         = dnum\n",e+="xString         = xnum\n",e+="bString         = bnum\n",e+="Dec             = (%d68/%d100)\n",e+="Hex             = (%d88/%d120)\n",e+="Bin             = (%d66/%d98)\n",e+="dmin            = dnum\n",e+="dmax            = dnum\n",e+="bmin            = bnum\n",e+="bmax            = bnum\n",e+="xmin            = xnum\n",e+="xmax            = xnum\n",e+="dnum            = 1*(%d48-57)\n",e+="bnum            = 1*%d48-49\n",e+="xnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n",e+=";\n",e+="; Basics\n",e+="alphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\n",e+="owsp            = *space\n",e+="wsp             = 1*space\n",e+="space           = %d32\n",e+="                / %d9\n",e+="                / comment\n",e+="                / LineContinue\n",e+="comment         = %d59 *(%d32-126 / %d9)\n",e+="LineEnd         = %d13.10\n",e+="                / %d10\n",e+="                / %d13\n",e+="LineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n",";\n; ABNF for JavaScript APG 2.0 SABNF\n; RFC 5234 with some restrictions and additions.\n; Updated 11/24/2015 for RFC 7405 case-sensitive literal string notation\n;  - accepts %s\"string\" as a case-sensitive string\n;  - accepts %i\"string\" as a case-insensitive string\n;  - accepts \"string\" as a case-insensitive string\n;\n; Some restrictions:\n;   1. Rules must begin at first character of each line.\n;      Indentations on first rule and rules thereafter are not allowed.\n;   2. Relaxed line endings. CRLF, LF or CR are accepted as valid line ending.\n;   3. Prose values, i.e. <prose value>, are accepted as valid grammar syntax.\n;      However, a working parser cannot be generated from them.\n;\n; Super set (SABNF) additions:\n;   1. Look-ahead (syntactic predicate) operators are accepted as element prefixes.\n;      & is the positive look-ahead operator, succeeds and backtracks if the look-ahead phrase is found\n;      ! is the negative look-ahead operator, succeeds and backtracks if the look-ahead phrase is NOT found\n;      e.g. &%d13 or &rule or !(A / B)\n;   2. User-Defined Terminals (UDT) of the form, u_name and e_name are accepted.\n;      'name' is alpha followed by alpha/num/hyphen just like a rule name.\n;      u_name may be used as an element but no rule definition is given.\n;      e.g. rule = A / u_myUdt\n;           A = \"a\"\n;      would be a valid grammar.\n;   3. Case-sensitive, single-quoted strings are accepted.\n;      e.g. 'abc' would be equivalent to %d97.98.99\n;      (kept for backward compatibility, but superseded by %s\"abc\")  \n; New 12/26/2015\n;   4. Look-behind operators are accepted as element prefixes.\n;      && is the positive look-behind operator, succeeds and backtracks if the look-behind phrase is found\n;      !! is the negative look-behind operator, succeeds and backtracks if the look-behind phrase is NOT found\n;      e.g. &&%d13 or &&rule or !!(A / B)\n;   5. Back reference operators, i.e. \\rulename, are accepted.\n;      A back reference operator acts like a TLS or TBS terminal except that the phrase it attempts\n;      to match is a phrase previously matched by the rule 'rulename'.\n;      There are two modes of previous phrase matching - the parent-frame mode and the universal mode.\n;      In universal mode, \\rulename matches the last match to 'rulename' regardless of where it was found.\n;      In parent-frame mode, \\rulename matches only the last match found on the parent's frame or parse tree level.\n;      Back reference modifiers can be used to specify case and mode.\n;      \\A defaults to case-insensitive and universal mode, e.g. \\A === \\%i%uA\n;      Modifiers %i and %s determine case-insensitive and case-sensitive mode, respectively.\n;      Modifiers %u and %p determine universal mode and parent frame mode, respectively.\n;      Case and mode modifiers can appear in any order, e.g. \\%s%pA === \\%p%sA. \n;   7. String begin anchor, ABG(%^) matches the beginning of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;   8. String end anchor, AEN(%$) matches the end of the input string location.\n;      Returns EMPTY or NOMATCH. Never consumes any characters.\n;\nFile            = *(BlankLine / Rule / RuleError)\nBlankLine       = *(%d32/%d9) [comment] LineEnd\nRule            = RuleLookup owsp Alternation ((owsp LineEnd)\n                / (LineEndError LineEnd))\nRuleLookup      = RuleNameTest owsp DefinedAsTest\nRuleNameTest    = RuleName/RuleNameError\nRuleName        = alphanum\nRuleNameError   = 1*(%d33-60/%d62-126)\nDefinedAsTest   = DefinedAs / DefinedAsError\nDefinedAsError  = 1*2%d33-126\nDefinedAs       = IncAlt / Defined\nDefined         = %d61\nIncAlt          = %d61.47\nRuleError       = 1*(%d32-126 / %d9  / LineContinue) LineEnd\nLineEndError    = 1*(%d32-126 / %d9  / LineContinue)\nAlternation     = Concatenation *(owsp AltOp Concatenation)\nConcatenation   = Repetition *(CatOp Repetition)\nRepetition      = [Modifier] (Group / Option / BasicElement / BasicElementErr)\nModifier        = (Predicate [RepOp])\n                / RepOp\nPredicate       = BkaOp\n                / BknOp\n                / AndOp\n                / NotOp\nBasicElement    = UdtOp\n                / RnmOp\n                / TrgOp\n                / TbsOp\n                / TlsOp\n                / ClsOp\n                / BkrOp\n                / AbgOp\n                / AenOp\n                / ProsVal\nBasicElementErr = 1*(%d33-40/%d42-46/%d48-92/%d94-126)\nGroup           = GroupOpen  Alternation (GroupClose / GroupError)\nGroupError      = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nGroupOpen       = %d40 owsp\nGroupClose      = owsp %d41\nOption          = OptionOpen Alternation (OptionClose / OptionError)\nOptionError     = 1*(%d33-40/%d42-46/%d48-92/%d94-126) ; same as BasicElementErr\nOptionOpen      = %d91 owsp\nOptionClose     = owsp %d93\nRnmOp           = alphanum\nBkrOp           = %d92 [bkrModifier] bkr-name\nbkrModifier     = (cs [um / pm]) / (ci [um / pm]) / (um [cs /ci]) / (pm [cs / ci])\ncs              = '%s'\nci              = '%i'\num              = '%u'\npm              = '%p'\nbkr-name        = uname / ename / rname\nrname           = alphanum\nuname           = %d117.95 alphanum\nename           = %d101.95 alphanum\nUdtOp           = udt-empty\n                / udt-non-empty\nudt-non-empty   = %d117.95 alphanum\nudt-empty       = %d101.95 alphanum\nRepOp           = (rep-min StarOp rep-max)\n                / (rep-min StarOp)\n                / (StarOp rep-max)\n                / StarOp\n                / rep-min-max\nAltOp           = %d47 owsp\nCatOp           = wsp\nStarOp          = %d42\nAndOp           = %d38\nNotOp           = %d33\nBkaOp           = %d38.38\nBknOp           = %d33.33\nAbgOp           = %d37.94\nAenOp           = %d37.36\nTrgOp           = %d37 ((Dec dmin %d45 dmax) / (Hex xmin %d45 xmax) / (Bin bmin %d45 bmax))\nTbsOp           = %d37 ((Dec dString *(%d46 dString)) / (Hex xString *(%d46 xString)) / (Bin bString *(%d46 bString)))\nTlsOp           = TlsCase TlsOpen TlsString TlsClose\nTlsCase         = [\"%i\" / \"%s\"]\nTlsOpen         = %d34\nTlsClose        = %d34\nTlsString       = *(%d32-33/%d35-126/StringTab)\nStringTab       = %d9\nClsOp           = ClsOpen ClsString ClsClose\nClsOpen         = %d39\nClsClose        = %d39\nClsString       = *(%d32-38/%d40-126/StringTab)\nProsVal         = ProsValOpen ProsValString ProsValClose\nProsValOpen     = %d60\nProsValString   = *(%d32-61/%d63-126/StringTab)\nProsValClose    = %d62\nrep-min         = rep-num\nrep-min-max     = rep-num\nrep-max         = rep-num\nrep-num         = 1*(%d48-57)\ndString         = dnum\nxString         = xnum\nbString         = bnum\nDec             = (%d68/%d100)\nHex             = (%d88/%d120)\nBin             = (%d66/%d98)\ndmin            = dnum\ndmax            = dnum\nbmin            = bnum\nbmax            = bnum\nxmin            = xnum\nxmax            = xnum\ndnum            = 1*(%d48-57)\nbnum            = 1*%d48-49\nxnum            = 1*(%d48-57 / %d65-70 / %d97-102)\n;\n; Basics\nalphanum        = (%d97-122/%d65-90) *(%d97-122/%d65-90/%d48-57/%d45)\nowsp            = *space\nwsp             = 1*space\nspace           = %d32\n                / %d9\n                / comment\n                / LineContinue\ncomment         = %d59 *(%d32-126 / %d9)\nLineEnd         = %d13.10\n                / %d10\n                / %d13\nLineContinue    = (%d13.10 / %d10 / %d13) (%d32 / %d9)\n"}}},3479:function(e,t,r){const n=r(8276),i=r(8544);const o=[];o.line=function(e,t,r,i,o){return e===n.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.lines.push({lineNo:o.lines.length,beginChar:r,length:i,textLength:o.textLength,endType:o.endType,invalidChars:o.invalidCount}),n.SEM_OK},o["line-text"]=function(e,t,r,i,o){return e===n.SEM_PRE&&(o.textLength=i),n.SEM_OK},o["last-line"]=function(e,t,r,i,o){return e===n.SEM_PRE?(o.endLength=0,o.textLength=0,o.invalidCount=0):o.strict?(o.lines.push({lineNo:o.lines.length,beginChar:r,length:i,textLength:i,endType:"none",invalidChars:o.invalidCount}),o.errors.push({line:o.lineNo,char:r+i,msg:"no line end on last line - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})):(t.push(10),o.lines.push({lineNo:o.lines.length,beginChar:r,length:i+1,textLength:i,endType:"LF",invalidChars:o.invalidCount})),n.SEM_OK},o.invalid=function(e,t,r,o,s){return e===n.SEM_PRE&&s.errors.push({line:s.lineNo,char:r,msg:`invalid character found '\\x${i.charToHex(t[r])}'`}),n.SEM_OK},o.end=function(e,t,r,i,o){return e===n.SEM_POST&&(o.lineNo+=1),n.SEM_OK},o.lf=function(e,t,r,i,o){return e===n.SEM_PRE&&(o.endType="LF",o.strict&&o.errors.push({line:o.lineNo,char:r,msg:"line end character LF(\\n, \\x0A) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),n.SEM_OK},o.cr=function(e,t,r,i,o){return e===n.SEM_PRE&&(o.endType="CR",o.strict&&o.errors.push({line:o.lineNo,char:r,msg:"line end character CR(\\r, \\x0D) - strict ABNF specifies CRLF(\\r\\n, \\x0D\\x0A)"})),n.SEM_OK},o.crlf=function(e,t,r,i,o){return e===n.SEM_PRE&&(o.endType="CRLF"),n.SEM_OK},t.callbacks=o},6410:function(e){e.exports=function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"file",lower:"file",index:0,isBkr:!1},this.rules[1]={name:"line",lower:"line",index:1,isBkr:!1},this.rules[2]={name:"line-text",lower:"line-text",index:2,isBkr:!1},this.rules[3]={name:"last-line",lower:"last-line",index:3,isBkr:!1},this.rules[4]={name:"valid",lower:"valid",index:4,isBkr:!1},this.rules[5]={name:"invalid",lower:"invalid",index:5,isBkr:!1},this.rules[6]={name:"end",lower:"end",index:6,isBkr:!1},this.rules[7]={name:"CRLF",lower:"crlf",index:7,isBkr:!1},this.rules[8]={name:"LF",lower:"lf",index:8,isBkr:!1},this.rules[9]={name:"CR",lower:"cr",index:9,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,3]},this.rules[0].opcodes[1]={type:3,min:0,max:1/0},this.rules[0].opcodes[2]={type:4,index:1},this.rules[0].opcodes[3]={type:3,min:0,max:1},this.rules[0].opcodes[4]={type:4,index:3},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2]},this.rules[1].opcodes[1]={type:4,index:2},this.rules[1].opcodes[2]={type:4,index:6},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:0,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:4},this.rules[2].opcodes[3]={type:4,index:5},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3]},this.rules[3].opcodes[2]={type:4,index:4},this.rules[3].opcodes[3]={type:4,index:5},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:32,max:126},this.rules[4].opcodes[2]={type:6,string:[9]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:1,children:[1,2,3,4]},this.rules[5].opcodes[1]={type:5,min:0,max:8},this.rules[5].opcodes[2]={type:5,min:11,max:12},this.rules[5].opcodes[3]={type:5,min:14,max:31},this.rules[5].opcodes[4]={type:5,min:127,max:4294967295},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3]},this.rules[6].opcodes[1]={type:4,index:7},this.rules[6].opcodes[2]={type:4,index:8},this.rules[6].opcodes[3]={type:4,index:9},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:6,string:[13,10]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:6,string:[10]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:6,string:[13]},this.toString=function(){let e="";return e+="file = *line [last-line]\n",e+="line = line-text end\n",e+="line-text = *(valid/invalid)\n",e+="last-line = 1*(valid/invalid)\n",e+="valid = %d32-126 / %d9\n",e+="invalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\n",e+="end = CRLF / LF / CR\n",e+="CRLF = %d13.10\n",e+="LF = %d10\n",e+="CR = %d13\n","file = *line [last-line]\nline = line-text end\nline-text = *(valid/invalid)\nlast-line = 1*(valid/invalid)\nvalid = %d32-126 / %d9\ninvalid = %d0-8 / %d11-12 /%d14-31 / %x7f-ffffffff\nend = CRLF / LF / CR\nCRLF = %d13.10\nLF = %d10\nCR = %d13\n"}}},1789:function(e,t,r){e.exports=function(e,t,n,i){const o=r(8737),s=new(r(6410)),{callbacks:a}=r(3479),c=[],u=new o.parser;if(u.ast=new o.ast,u.ast.callbacks=a,i){if("traceObject"!==i.traceObject)throw new TypeError("scanner.js: trace argument is not a trace object");u.trace=i}if(!0!==u.parse(s,"file",e).success)return void t.push({line:0,char:0,msg:"syntax analysis error analyzing input SABNF grammar"});const f={lines:c,lineNo:0,errors:t,strict:!!n};return u.ast.translate(f),c}},1832:function(e,t,r){e.exports=function(){const e=r(8737),t=e.ids,n=function(){this.names=[],this.add=function(e){let t=-1;return-1===this.get(e)&&(t={name:e,lower:e.toLowerCase(),index:this.names.length},this.names.push(t)),t},this.get=function(e){let t=-1;const r=e.toLowerCase();for(let n=0;n<this.names.length;n+=1)if(this.names[n].lower===r){t=this.names[n];break}return t}},i=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1)n=10*n+e[i]-48;return n},o=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1)n=2*n+e[i]-48;return n},s=function(e,t,r){let n=0;for(let i=t;i<t+r;i+=1){let t=e[i];if(t>=48&&t<=57)t-=48;else if(t>=65&&t<=70)t-=55;else{if(!(t>=97&&t<=102))throw new Error("hexnum out of range");t-=87}n=16*n+t}return n};this.callbacks=[],this.callbacks.abgop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.ABG}),s},this.callbacks.aenop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.AEN}),s},this.callbacks.alternation=function(e,r,n,i,o){let s=t.SEM_OK;if(e===t.SEM_PRE){const e=!0;for(;e;){if(null===o.definedas){s=t.SEM_SKIP;break}if(null===o.topStack){if("="===o.definedas){o.topStack={alt:{type:t.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}o.topStack={alt:o.opcodes[0],cat:null},o.altStack.push(o.topStack);break}o.topStack={alt:{type:t.ALT,children:[]},cat:null},o.altStack.push(o.topStack),o.opcodes.push(o.topStack.alt);break}}else e===t.SEM_POST&&(o.altStack.pop(),o.altStack.length>0?o.topStack=o.altStack[o.altStack.length-1]:o.topStack=null);return s},this.callbacks.andop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.AND}),s},this.callbacks.bmax=function(e,r,n,i,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.max=o(r,n,i)),a},this.callbacks.bmin=function(e,r,n,i,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.min=o(r,n,i)),a},this.callbacks.bkaop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.BKA}),s},this.callbacks.bknop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.BKN}),s},this.callbacks.bkrop=function(r,n,i,o,s){const a=t.SEM_OK;return r===t.SEM_PRE?(s.ci=!0,s.cs=!1,s.um=!0,s.pm=!1):r===t.SEM_POST&&s.opcodes.push({type:t.BKR,bkrCase:!0===s.cs?t.BKR_MODE_CS:t.BKR_MODE_CI,bkrMode:!0===s.pm?t.BKR_MODE_PM:t.BKR_MODE_UM,index:{phraseIndex:s.bkrname.phraseIndex,name:e.utils.charsToString(n,s.bkrname.phraseIndex,s.bkrname.phraseLength)}}),a},this.callbacks["bkr-name"]=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.bkrname={phraseIndex:n,phraseLength:i}),s},this.callbacks.bstring=function(e,r,n,i,s){const a=t.SEM_OK;return e===t.SEM_POST&&s.tbsstr.push(o(r,n,i)),a},this.callbacks.clsop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(i<=2?o.opcodes.push({type:t.TLS,string:[]}):o.opcodes.push({type:t.TBS,string:r.slice(n+1,n+i-1)})),s},this.callbacks.ci=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.ci=!0),s},this.callbacks.cs=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.cs=!0),s},this.callbacks.um=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.um=!0),s},this.callbacks.pm=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.pm=!0),s},this.callbacks.concatenation=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE?(o.topStack.alt.children.push(o.opcodes.length),o.topStack.cat={type:t.CAT,children:[]},o.opcodes.push(o.topStack.cat)):e===t.SEM_POST&&(o.topStack.cat=null),s},this.callbacks.defined=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.definedas="="),s},this.callbacks.dmax=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.max=i(r,n,o)),a},this.callbacks.dmin=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.min=i(r,n,o)),a},this.callbacks.dstring=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&s.tbsstr.push(i(r,n,o)),a},this.callbacks.file=function(e,r,i,o,s){const a=t.SEM_OK;if(e===t.SEM_PRE)s.ruleNames=new n,s.udtNames=new n,s.rules=[],s.udts=[],s.rulesLineMap=[],s.opcodes=[],s.altStack=[],s.topStack=null,s.topRule=null;else if(e===t.SEM_POST){let e;s.rules.forEach((r=>{r.isBkr=!1,r.opcodes.forEach((r=>{r.type===t.RNM&&(e=s.ruleNames.get(r.index.name),-1===e?(s.errors.push({line:s.findLine(s.lines,r.index.phraseIndex,s.charsLength),char:r.index.phraseIndex,msg:`Rule name '${r.index.name}' used but not defined.`}),r.index=-1):r.index=e.index)}))})),s.udts.forEach((e=>{e.isBkr=!1})),s.rules.forEach((r=>{r.opcodes.forEach((n=>{n.type===t.BKR&&(r.hasBkr=!0,e=s.ruleNames.get(n.index.name),-1!==e?(s.rules[e.index].isBkr=!0,n.index=e.index):(e=s.udtNames.get(n.index.name),-1!==e?(s.udts[e.index].isBkr=!0,n.index=s.rules.length+e.index):(s.errors.push({line:s.findLine(s.lines,n.index.phraseIndex,s.charsLength),char:n.index.phraseIndex,msg:`Back reference name '${n.index.name}' refers to undefined rule or unamed UDT.`}),n.index=-1)))}))}))}return a},this.callbacks.incalt=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&(o.definedas="=/"),s},this.callbacks.notop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.NOT}),s},this.callbacks.optionopen=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&o.opcodes.push({type:t.REP,min:0,max:1,char:n}),s},this.callbacks["rep-max"]=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.max=i(r,n,o)),a},this.callbacks["rep-min"]=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.min=i(r,n,o)),a},this.callbacks["rep-min-max"]=function(e,r,n,o,s){const a=t.SEM_OK;return e===t.SEM_POST&&(s.max=i(r,n,o),s.min=s.max),a},this.callbacks.repetition=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE&&o.topStack.cat.children.push(o.opcodes.length),s},this.callbacks.repop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE?(o.min=0,o.max=1/0,o.topRep={type:t.REP,min:0,max:1/0},o.opcodes.push(o.topRep)):e===t.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`repetition min cannot be greater than max: min: ${o.min}: max: ${o.max}`}),o.topRep.min=o.min,o.topRep.max=o.max),s},this.callbacks.rnmop=function(r,n,i,o,s){const a=t.SEM_OK;return r===t.SEM_POST&&s.opcodes.push({type:t.RNM,index:{phraseIndex:i,name:e.utils.charsToString(n,i,o)}}),a},this.callbacks.rule=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE&&(o.altStack.length=0,o.topStack=null,o.rulesLineMap.push({line:o.findLine(o.lines,n,o.charsLength),char:n})),s},this.callbacks.rulelookup=function(e,r,n,i,o){const s=t.SEM_OK;if(e===t.SEM_PRE)o.ruleName="",o.definedas="";else if(e===t.SEM_POST){let e;"="===o.definedas?(e=o.ruleNames.add(o.ruleName),-1===e?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`Rule name '${o.ruleName}' previously defined.`})):(o.topRule={name:e.name,lower:e.lower,opcodes:[],index:e.index},o.rules.push(o.topRule),o.opcodes=o.topRule.opcodes)):(e=o.ruleNames.get(o.ruleName),-1===e?(o.definedas=null,o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`Rule name '${o.ruleName}' for incremental alternate not previously defined.`})):(o.topRule=o.rules[e.index],o.opcodes=o.topRule.opcodes))}return s},this.callbacks.rulename=function(r,n,i,o,s){const a=t.SEM_OK;return r===t.SEM_PRE&&(s.ruleName=e.utils.charsToString(n,i,o)),a},this.callbacks.tbsop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE?o.tbsstr=[]:e===t.SEM_POST&&o.opcodes.push({type:t.TBS,string:o.tbsstr}),s},this.callbacks.tlscase=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_POST&&i>0&&(83===r[n+1]||115===r[n+1])&&(o.tlscase=!1),s},this.callbacks.tlsstring=function(e,r,n,i,o){const s=t.SEM_OK;if(e===t.SEM_POST)if(o.tlscase){const e=r.slice(n,n+i);for(let t=0;t<e.length;t+=1)e[t]>=65&&e[t]<=90&&(e[t]+=32);o.opcodes.push({type:t.TLS,string:e})}else o.opcodes.push({type:t.TBS,string:r.slice(n,n+i)});return s},this.callbacks.tlsop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE&&(o.tlscase=!0),s},this.callbacks.trgop=function(e,r,n,i,o){const s=t.SEM_OK;return e===t.SEM_PRE?(o.min=0,o.max=0):e===t.SEM_POST&&(o.min>o.max&&o.errors.push({line:o.findLine(o.lines,n,o.charsLength),char:n,msg:`TRG, (%dmin-max), min cannot be greater than max: min: ${o.min}: max: ${o.max}`}),o.opcodes.push({type:t.TRG,min:o.min,max:o.max})),s},this.callbacks["udt-empty"]=function(r,n,i,o,s){const a=t.SEM_OK;if(r===t.SEM_POST){const r=e.utils.charsToString(n,i,o);let a=s.udtNames.add(r);if(-1===a){if(a=s.udtNames.get(r),-1===a)throw new Error("semUdtEmpty: name look up error")}else s.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!0});s.opcodes.push({type:t.UDT,empty:!0,index:a.index})}return a},this.callbacks["udt-non-empty"]=function(r,n,i,o,s){const a=t.SEM_OK;if(r===t.SEM_POST){const r=e.utils.charsToString(n,i,o);let a=s.udtNames.add(r);if(-1===a){if(a=s.udtNames.get(r),-1===a)throw new Error("semUdtNonEmpty: name look up error")}else s.udts.push({name:a.name,lower:a.lower,index:a.index,empty:!1});s.opcodes.push({type:t.UDT,empty:!1,index:a.index,syntax:null,semantic:null})}return a},this.callbacks.xmax=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.max=s(r,n,i)),a},this.callbacks.xmin=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&(o.min=s(r,n,i)),a},this.callbacks.xstring=function(e,r,n,i,o){const a=t.SEM_OK;return e===t.SEM_POST&&o.tbsstr.push(s(r,n,i)),a}}},2595:function(e){e.exports=function(e=[],t=[],r="index"){let n=[],i=[];const o=[],s=[],a=e,c=t,u=e.length,f=t.length;let h,d="RULE/UDT NAMES";if(!Array.isArray(e)||!e.length)throw new Error("show-rules.js:showRules: rules arg must be array with length > 0");if(!Array.isArray(t))throw new Error("show-rules.js:showRules: udts arg must be array");for(h=0;h<u;h+=1)o.push(h);if(n=o.slice(0),n.sort((function(e,t){return a[e].lower<a[t].lower?-1:a[e].lower>a[t].lower?1:0})),f){for(h=0;h<f;h+=1)s.push(h);i=s.slice(0),i.sort((function(e,t){return c[e].lower<c[t].lower?-1:c[e].lower>c[t].lower?1:0}))}if(97===r.charCodeAt(0)){for(d+=" - alphabetical by rule/UDT name\n",h=0;h<u;h+=1)d+=`${h}: ${n[h]}: ${a[n[h]].name}\n`;if(f)for(h=0;h<f;h+=1)d+=`${h}: ${i[h]}: ${c[i[h]].name}\n`}else{for(d+=" - ordered by rule/UDT index\n",h=0;h<u;h+=1)d+=`${h}: ${a[h].name}\n`;if(f)for(h=0;h<f;h+=1)d+=`${h}: ${c[h].name}\n`}return d}},4216:function(e,t,r){e.exports=function(){const e="syntax-callbacks.js: ",t=r(8737),n=t.ids;let i;this.callbacks=[],this.callbacks.andop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"AND operator(&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.basicelementerr=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:!1===i.basicError&&s.errors.push({line:s.findLine(s.lines,o,s.charsLength),char:o,msg:"Unrecognized SABNF element."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsclose=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:s.errors.push({line:s.findLine(s.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive literal string('...') opened but not closed."}),i.clsOpen=null,i.basicError=!0;break;case n.MATCH:s.strict&&s.errors.push({line:s.findLine(s.lines,i.clsOpen),char:i.clsOpen,msg:"Case-sensitive string operator('...') found - strict ABNF specified."}),i.clsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsopen=function(t,r,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:i.clsOpen=o;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.clsstring=function(t,r,i,o){switch(t.state){case n.ACTIVE:o.stringTabChar=!1;break;case n.EMPTY:case n.NOMATCH:break;case n.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.definedaserror=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Expected '=' or '=/'. Not found."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.file=function(t,r,i,o){switch(t.state){case n.ACTIVE:o.altStack=[],o.repCount=0;break;case n.EMPTY:o.errors.push({line:0,char:0,msg:"grammar file is empty"});break;case n.MATCH:0===o.ruleCount&&o.errors.push({line:0,char:0,msg:"no rules defined"});break;case n.NOMATCH:throw new Error(`${e}synFile: grammar file NOMATCH: design error: should never happen.`);default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.groupclose=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:s.errors.push({line:s.findLine(s.lines,i.groupOpen),char:i.groupOpen,msg:'Group "(...)" opened but not closed.'}),i=s.altStack.pop(),i.groupError=!0;break;case n.MATCH:i=s.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.groupopen=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:i={groupOpen:o,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},s.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.lineenderror=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Unrecognized grammar element or characters."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.lineend=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:if(1===t.phraseLength&&o.strict){const e=13===r[i]?"CR":"LF";o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:`Line end '${e}' found - strict ABNF specified, only CRLF allowed.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.notop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"NOT operator(!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.optionclose=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:s.errors.push({line:s.findLine(s.lines,i.optionOpen),char:i.optionOpen,msg:'Option "[...]" opened but not closed.'}),i=s.altStack.pop(),i.optionError=!0;break;case n.MATCH:i=s.altStack.pop();break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.optionopen=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:i={groupOpen:null,groupError:!1,optionOpen:o,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},s.altStack.push(i);break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalclose=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:s.errors.push({line:s.findLine(s.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) opened but not closed."}),i.basicError=!0,i.prosValOpen=null;break;case n.MATCH:s.errors.push({line:s.findLine(s.lines,i.prosValOpen),char:i.prosValOpen,msg:"Prose value operator(<...>) found. The ABNF syntax is valid, but a parser cannot be generated from this grammar."}),i.prosValOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalopen=function(t,r,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:i.prosValOpen=o;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.prosvalstring=function(t,r,i,o){switch(t.state){case n.ACTIVE:o.stringTabChar=!1;break;case n.EMPTY:case n.NOMATCH:break;case n.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in prose value string."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.repetition=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:case n.MATCH:o.repCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.rule=function(t,r,o,s){switch(t.state){case n.ACTIVE:s.altStack.length=0,i={groupOpen:null,groupError:!1,optionOpen:null,optionError:!1,tlsOpen:null,clsOpen:null,prosValOpen:null,basicError:!1},s.altStack.push(i);break;case n.EMPTY:throw new Error(`${e}synRule: EMPTY: rule cannot be empty`);case n.NOMATCH:break;case n.MATCH:s.ruleCount+=1;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.ruleerror=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Unrecognized SABNF line. Invalid rule, comment or blank line."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.rulenameerror=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Rule names must be alphanum and begin with alphabetic character."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.stringtab=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.stringTabChar=i;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsclose=function(t,r,o,s){switch(t.state){case n.ACTIVE:case n.EMPTY:break;case n.NOMATCH:s.errors.push({line:s.findLine(s.lines,i.tlsOpen),char:i.tlsOpen,msg:'Case-insensitive literal string("...") opened but not closed.'}),i.basicError=!0,i.tlsOpen=null;break;case n.MATCH:i.tlsOpen=null;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsopen=function(t,r,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:i.tlsOpen=o;break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.tlsstring=function(t,r,i,o){switch(t.state){case n.ACTIVE:o.stringTabChar=!1;break;case n.EMPTY:case n.NOMATCH:break;case n.MATCH:!1!==o.stringTabChar&&o.errors.push({line:o.findLine(o.lines,o.stringTabChar),char:o.stringTabChar,msg:"Tab character (\\t, x09) not allowed in literal string (see 'quoted-string' definition, RFC 7405.)"});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.udtop=function(r,i,o,s){switch(r.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:if(s.strict){const e=t.utils.charsToString(i,o,r.phraseLength);s.errors.push({line:s.findLine(s.lines,o,s.charsLength),char:o,msg:`UDT operator found(${e}) - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bkaop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Positive look-behind operator(&&) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bknop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Negative look-behind operator(!!) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.bkrop=function(r,i,o,s){switch(r.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:if(s.strict){const e=t.utils.charsToString(i,o,r.phraseLength);s.errors.push({line:s.findLine(s.lines,o,s.charsLength),char:o,msg:`Back reference operator(${e}) found - strict ABNF specified.`})}break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.abgop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"Beginning of string anchor(%^) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}},this.callbacks.aenop=function(t,r,i,o){switch(t.state){case n.ACTIVE:case n.EMPTY:case n.NOMATCH:break;case n.MATCH:o.strict&&o.errors.push({line:o.findLine(o.lines,i,o.charsLength),char:i,msg:"End of string anchor(%$) found - strict ABNF specified."});break;default:throw new Error(`${e}synFile: unrecognized case.`)}}}},979:function(e,t,r){var n=r(1876).Buffer;const i=this,o=r(6322),s="UTF8",a="UTF16",c="UTF16BE",u="UTF16LE",f="UTF32",h="UTF32BE",d="UTF32LE",l="UINT7",p="ASCII",b="BINARY",m="UINT8",g="UINT16",y="UINT16LE",w="UINT16BE",v="UINT32",E="UINT32LE",A="UINT32BE",x="ESCAPED",M="STRING",S=function(e,t){if("string"!==typeof e||""===e)throw new TypeError(`type: "${e}" not recognized`);const r=function(e){const t={type:"",base64:!1},r=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(e);return r&&(r[2]&&(t.type=r[2].toUpperCase()),r[1]&&(t.base64=!0)),t}(e.toUpperCase());if(r.base64){if(r.type===M)throw new TypeError(`type: "${e} "BASE64:" prefix not allowed with type STRING`);if(n.isBuffer(t))r.data=o.base64.decode(t);else{if("string"!==typeof t)throw new TypeError(`type: "${e} unrecognized data type: typeof(data): ${typeof t}`);{const e=n.from(t,"ascii");r.data=o.base64.decode(e)}}}else r.data=t;switch(r.type){case s:!function(e){e.type=s;const t=e.data;e.bom=0,t.length>=3&&239===t[0]&&187===t[1]&&191===t[2]&&(e.bom=3)}(r);break;case a:case c:case u:!function(e){const t=e.data;switch(e.bom=0,e.type){case a:e.type=c,t.length>=2&&(254===t[0]&&255===t[1]?e.bom=2:255===t[0]&&254===t[1]&&(e.type=u,e.bom=2));break;case c:if(e.type=c,t.length>=2)if(254===t[0]&&255===t[1])e.bom=2;else if(255===t[0]&&254===t[1])throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"');break;case u:if(e.type=u,t.length>=0){if(254===t[0]&&255===t[1])throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');255===t[0]&&254===t[1]&&(e.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${e.type}" unrecognized`)}}(r);break;case f:case h:case d:!function(e){const t=e.data;switch(e.bom=0,e.type){case f:e.type=h,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.type=d,e.bom=4));break;case h:if(e.type=h,t.length>=4&&(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3]&&(e.bom=4),255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case d:if(e.type=d,t.length>=4){if(0===t[0]&&0===t[1]&&254===t[2]&&255===t[3])throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');255===t[0]&&254===t[1]&&0===t[2]&&0===t[3]&&(e.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${e.type}" unrecognized`)}}(r);break;case g:r.type=w;break;case v:r.type=A;break;case p:r.type=l;break;case b:r.type=m;break;case l:case m:case y:case w:case E:case A:case M:case x:break;default:throw new TypeError(`type: "${e}" not recognized`)}if(r.type===M){if("string"!==typeof r.data)throw new TypeError(`type: "${e}" but data is not a string`)}else if(!n.isBuffer(r.data))throw new TypeError(`type: "${e}" but data is not a Buffer`);return r},k=function(e,t){switch(e){case s:return o.utf8.encode(t);case c:return o.utf16be.encode(t);case u:return o.utf16le.encode(t);case h:return o.utf32be.encode(t);case d:return o.utf32le.encode(t);case l:return o.uint7.encode(t);case m:return o.uint8.encode(t);case w:return o.uint16be.encode(t);case y:return o.uint16le.encode(t);case A:return o.uint32be.encode(t);case E:return o.uint32le.encode(t);case M:return o.string.encode(t);case x:return o.escaped.encode(t);default:throw new TypeError(`encode type "${e}" not recognized`)}};t.decode=function(e,t){return function(e){switch(e.type){case s:return o.utf8.decode(e.data,e.bom);case u:return o.utf16le.decode(e.data,e.bom);case c:return o.utf16be.decode(e.data,e.bom);case h:return o.utf32be.decode(e.data,e.bom);case d:return o.utf32le.decode(e.data,e.bom);case l:return o.uint7.decode(e.data);case m:return o.uint8.decode(e.data);case w:return o.uint16be.decode(e.data);case y:return o.uint16le.decode(e.data);case A:return o.uint32be.decode(e.data);case E:return o.uint32le.decode(e.data);case M:return o.string.decode(e.data);case x:return o.escaped.decode(e.data);default:throw new TypeError(`decode type "${e.type}" not recognized`)}}(S(e,t))},t.encode=function(e,t){let r,n;const i=function(e,t){if(!Array.isArray(t))throw new TypeError('dst chars: not array: "'+typeof t);if("string"!==typeof e)throw new TypeError('dst type: not string: "'+typeof e);const r=function(e){let t,r;const n={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(r=e,t=e.slice(0,5),"CRLF:"===t){n.crlf=!0,r=e.slice(5);break}if(t=e.slice(0,3),"LF:"===t){n.lf=!0,r=e.slice(3);break}break}return t=r.split(":"),1===t.length?n.type=t[0]:2===t.length&&"BASE64"===t[1]&&(n.base64=!0,n.type=t[0]),n}(e.toUpperCase());switch(r.type){case s:case c:case u:case h:case d:case l:case m:case y:case w:case E:case A:case x:break;case M:if(r.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case p:r.type=l;break;case b:r.type=m;break;case a:r.type=c;break;case f:r.type=h;break;case g:r.type=w;break;case v:r.type=A;break;default:throw new TypeError(`dst type unrecognized: "${e}" : must have form [crlf:|lf:]type[:base64]`)}return r}(e,t);return i.crlf?(r=o.lineEnds.crlf(t),n=k(i.type,r)):i.lf?(r=o.lineEnds.lf(t),n=k(i.type,r)):n=k(i.type,t),i.base64&&(n=o.base64.encode(n)),n},t.convert=function(e,t,r){return i.encode(r,i.decode(e,t))}},6322:function(e,t,r){var n=r(1876).Buffer;const i=this,o=4294967292,s=4294967293,a=4294967294,c=4294967295,u=[0,1,3,7,15,31,63,127,255,511,1023],f=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),d=[];h.forEach((e=>{d.push(e.charCodeAt(0))})),t.utf8={encode(e){const t=[];return e.forEach((e=>{if(e>=0&&e<=127)t.push(e);else if(e<=2047)t.push(192+(e>>6&u[5])),t.push(128+(e&u[6]));else if(e<55296||e>57343&&e<=65535)t.push(224+(e>>12&u[4])),t.push(128+(e>>6&u[6])),t.push(128+(e&u[6]));else{if(!(e>=65536&&e<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${e}`);{const r=e>>16&u[5];t.push(240+(r>>2)),t.push(128+((r&u[2])<<4)+(e>>12&u[4])),t.push(128+(e>>6&u[6])),t.push(128+(e&u[6]))}}})),n.from(t)},decode(e,t){function r(e,t){if(128!==(192&t))return s;const r=((e&u[5])<<6)+(t&u[6]);return r<128?o:r}function n(e,t,r){if(128!==(192&r)||128!==(192&t))return s;const n=((e&u[4])<<12)+((t&u[6])<<6)+(r&u[6]);return n<2048?o:n>=55296&&n<=57343?a:n}function i(e,t,r,n){if(128!==(192&n)||128!==(192&r)||128!==(192&t))return s;const i=(((e&u[3])<<2)+(t>>4&u[2])<<16)+((t&u[4])<<12)+((r&u[6])<<6)+(n&u[6]);return i<65536?o:i>1114111?a:i}let f,h,d,l,p,b;const m=e.length;let g=t?3:0;const y=[];for(;g<m;){h=e[g],f=c;const t=!0;for(;t;){if(h>=0&&h<=127){f=h,b=1;break}if(d=g+1,d<m&&h>=194&&h<=223){f=r(h,e[d]),b=2;break}if(l=g+2,l<m&&h>=224&&h<=239){f=n(h,e[d],e[l]),b=3;break}if(p=g+3,p<m&&h>=240&&h<=244){f=i(h,e[d],e[l],e[p]),b=4;break}break}if(f>1114111){const e=`byte[${g}]`;if(f===c)throw new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${e}`);if(f===s)throw new RangeError(`utf8.decode: illegal trailing byte found at: ${e}`);if(f===a)throw new RangeError(`utf8.decode: code point out of range found at: ${e}`);if(f===o)throw new RangeError(`utf8.decode: non-shortest form found at: ${e}`);throw new RangeError(`utf8.decode: unrecognized error found at: ${e}`)}y.push(f),g+=b}return y}},t.utf16be={encode(e){const t=[];let r,i,o;for(let n=0;n<e.length;n+=1)if(r=e[n],r>=0&&r<=55295||r>=57344&&r<=65535)t.push(r>>8&u[8]),t.push(r&u[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${n}]: ${r}`);o=r-65536,i=55296+(o>>10),o=56320+(o&u[10]),t.push(i>>8&u[8]),t.push(i&u[8]),t.push(o>>8&u[8]),t.push(o&u[8])}return n.from(t)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${e.length}`);const r=[],n=e.length;let i,o,s,a,c,u,f=t?2:0,h=0;for(;f<n;){const t=!0;for(;t;){if(s=f+1,s<n){if(c=(e[f]<<8)+e[s],c<55296||c>57343){i=c,o=2;break}if(a=f+3,a<n&&(u=(e[f+2]<<8)+e[a],c<=56319&&u>=56320&&u<=57343)){i=65536+(c-55296<<10)+(u-56320),o=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${f}]`)}r[h++]=i,f+=o}return r}},t.utf16le={encode(e){const t=[];let r,i,o;for(let n=0;n<e.length;n+=1)if(r=e[n],r>=0&&r<=55295||r>=57344&&r<=65535)t.push(r&u[8]),t.push(r>>8&u[8]);else{if(!(r>=65536&&r<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${n}]: ${r}`);o=r-65536,i=55296+(o>>10),o=56320+(o&u[10]),t.push(i&u[8]),t.push(i>>8&u[8]),t.push(o&u[8]),t.push(o>>8&u[8])}return n.from(t)},decode(e,t){if(e.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${e.length}`);const r=[],n=e.length;let i,o,s,a,c,u,f=t?2:0,h=0;for(;f<n;){const t=!0;for(;t;){if(s=f+1,s<n){if(c=(e[s]<<8)+e[f],c<55296||c>57343){i=c,o=2;break}if(a=f+3,a<n&&(u=(e[a]<<8)+e[f+2],c<=56319&&u>=56320&&u<=57343)){i=65536+(c-55296<<10)+(u-56320),o=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${f}]`)}r[h++]=i,f+=o}return r}},t.utf32be={encode(e){const t=n.alloc(4*e.length);let r=0;return e.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${r/4}]: ${e}`);t[r++]=e>>24&u[8],t[r++]=e>>16&u[8],t[r++]=e>>8&u[8],t[r++]=e&u[8]})),t},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${e.length}`);const r=[];let n=t?4:0;for(;n<e.length;n+=4){const t=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},t.utf32le={encode(e){const t=n.alloc(4*e.length);let r=0;return e.forEach((e=>{if(e>=55296&&e<=57343||e>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${r/4}]: ${e}`);t[r++]=e&u[8],t[r++]=e>>8&u[8],t[r++]=e>>16&u[8],t[r++]=e>>24&u[8]})),t},decode(e,t){if(e.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${e.length}`);const r=[];let n=t?4:0;for(;n<e.length;n+=4){const t=(e[n+3]<<24)+(e[n+2]<<16)+(e[n+1]<<8)+e[n];if(t>=55296&&t<=57343||t>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${n/4}]: ${t}`);r.push(t)}return r}},t.uint7={encode(e){const t=n.alloc(e.length);for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${r}]: ${e[r]}`);t[r]=e[r]}return t},decode(e){const t=[];for(let r=0;r<e.length;r+=1){if(e[r]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${r}]: ${e[r]}`);t[r]=e[r]}return t}},t.uint8={encode(e){const t=n.alloc(e.length);for(let r=0;r<e.length;r+=1){if(e[r]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${r}]: ${e[r]}`);t[r]=e[r]}return t},decode(e){const t=[];for(let r=0;r<e.length;r+=1)t[r]=e[r];return t}},t.uint16be={encode(e){const t=n.alloc(2*e.length);let r=0;return e.forEach((e=>{if(e>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${r/2}]: ${e}`);t[r++]=e>>8&u[8],t[r++]=e&u[8]})),t},decode(e){if(e.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=2)t.push((e[r]<<8)+e[r+1]);return t}},t.uint16le={encode(e){const t=n.alloc(2*e.length);let r=0;return e.forEach((e=>{if(e>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${r/2}]: ${e}`);t[r++]=e&u[8],t[r++]=e>>8&u[8]})),t},decode(e){if(e.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=2)t.push((e[r+1]<<8)+e[r]);return t}},t.uint32be={encode(e){const t=n.alloc(4*e.length);let r=0;return e.forEach((e=>{t[r++]=e>>24&u[8],t[r++]=e>>16&u[8],t[r++]=e>>8&u[8],t[r++]=e&u[8]})),t},decode(e){if(e.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=4)t.push((e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3]);return t}},t.uint32le={encode(e){const t=n.alloc(4*e.length);let r=0;return e.forEach((e=>{t[r++]=e&u[8],t[r++]=e>>8&u[8],t[r++]=e>>16&u[8],t[r++]=e>>24&u[8]})),t},decode(e){if(e.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${e.length}`);const t=[];for(let r=0;r<e.length;r+=4)t.push((e[r+3]<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]);return t}},t.string={encode:e=>i.utf16le.encode(e).toString("utf16le"),decode:e=>i.utf16le.decode(n.from(e,"utf16le"),0)},t.escaped={encode(e){const t=[];for(let r=0;r<e.length;r+=1){const i=e[r];if(96===i)t.push(i),t.push(i);else if(10===i)t.push(i);else if(i>=32&&i<=126)t.push(i);else{let e="";if(i>=0&&i<=31)e+=`\`x${f[i]}`;else if(i>=127&&i<=255)e+=`\`x${f[i]}`;else if(i>=256&&i<=65535)e+=`\`u${f[i>>8&u[8]]}${f[i&u[8]]}`;else{if(!(i>=65536&&i<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{e+="`u{";const t=i>>24&u[8];t>0&&(e+=f[t]),e+=`${f[i>>16&u[8]]+f[i>>8&u[8]]+f[i&u[8]]}}`}}n.from(e).forEach((e=>{t.push(e)}))}}return n.from(t)},decode(e){function t(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function r(e,r,n){const i={char:null,nexti:e+2,error:!0};if(e+1<r&&t(n[e])&&t(n[e+1])){const t=String.fromCodePoint(n[e],n[e+1]);i.char=parseInt(t,16),Number.isNaN(i.char)||(i.error=!1)}return i}function n(e,r,n){const i={char:null,nexti:e+4,error:!0};if(e+3<r&&t(n[e])&&t(n[e+1])&&t(n[e+2])&&t(n[e+3])){const t=String.fromCodePoint(n[e],n[e+1],n[e+2],n[e+3]);i.char=parseInt(t,16),Number.isNaN(i.char)||(i.error=!1)}return i}function i(e,r,n){const i={char:null,nexti:e+4,error:!0};let o="";for(;e<r&&t(n[e]);)o+=String.fromCodePoint(n[e]),e+=1;return i.char=parseInt(o,16),125!==n[e]||Number.isNaN(i.char)||(i.error=!1),i.nexti=e+1,i}const o=[],s=e.length;let a,c,u,f=0;for(;f<s;){const t=!0;for(;t;){if(u=!0,96!==e[f]){o.push(e[f]),f+=1,u=!1;break}if(a=f+1,a>=s)break;if(96===e[a]){o.push(96),f+=2,u=!1;break}if(120===e[a]){if(c=r(a+1,s,e),c.error)break;o.push(c.char),f=c.nexti,u=!1;break}if(117===e[a]){if(123===e[a+1]){if(c=i(a+2,s,e),c.error)break;o.push(c.char),f=c.nexti,u=!1;break}if(c=n(a+1,s,e),c.error)break;o.push(c.char),f=c.nexti,u=!1;break}break}if(u)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${f}]`)}return o}};const l=10;t.lineEnds={crlf(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===l?r+=2:r+=1,t.push(13),t.push(l);break;case l:t.push(13),t.push(l),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==l&&(t.push(13),t.push(l)),t},lf(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case 13:r+1<e.length&&e[r+1]===l?r+=2:r+=1,t.push(l);break;case l:t.push(l),r+=1;break;default:t.push(e[r]),r+=1}return t.length>0&&t[t.length-1]!==l&&t.push(l),t}},t.base64={encode(e){if(0===e.length)return n.alloc(0);let t,r,i,o=e.length%3;o=o>0?3-o:0;let s=(e.length+o)/3;const a=n.alloc(4*s);o>0&&(s-=1),t=0,r=0;for(let n=0;n<s;n+=1)i=e[t++]<<16,i+=e[t++]<<8,i+=e[t++],a[r++]=d[i>>18&u[6]],a[r++]=d[i>>12&u[6]],a[r++]=d[i>>6&u[6]],a[r++]=d[i&u[6]];return 0===o?a:1===o?(i=e[t++]<<16,i+=e[t]<<8,a[r++]=d[i>>18&u[6]],a[r++]=d[i>>12&u[6]],a[r++]=d[i>>6&u[6]],a[r]=d[64],a):2===o?(i=e[t]<<16,a[r++]=d[i>>18&u[6]],a[r++]=d[i>>12&u[6]],a[r++]=d[64],a[r]=d[64],a):void 0},decode(e){if(0===e.length)return n.alloc(0);const t=function(e){const t=[];let r=0;for(let n=0;n<e.length;n+=1){const i=e[n],o=!0;for(;o&&32!==i&&9!==i&&10!==i&&13!==i;){if(i>=65&&i<=90){t.push(i-65);break}if(i>=97&&i<=122){t.push(i-71);break}if(i>=48&&i<=57){t.push(i+4);break}if(43===i){t.push(62);break}if(47===i){t.push(63);break}if(61===i){t.push(64),r+=1;break}throw new RangeError(`base64.decode: invalid character buf[${n}]: ${i}`)}}if(t.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${t.length}`);switch(r){case 0:break;case 1:if(64!==t[t.length-1])throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(64!==t[t.length-1]||64!==t[t.length-2])throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${r}`)}return{tail:r,buf:n.from(t)}}(e),{tail:r}=t,i=t.buf;let o,s,a,c=i.length/4;const f=n.alloc(3*c-r);r>0&&(c-=1),s=0,o=0;for(let n=0;n<c;n+=1)a=i[o++]<<18,a+=i[o++]<<12,a+=i[o++]<<6,a+=i[o++],f[s++]=a>>16&u[8],f[s++]=a>>8&u[8],f[s++]=a&u[8];return 1===r&&(a=i[o++]<<18,a+=i[o++]<<12,a+=i[o]<<6,f[s++]=a>>16&u[8],f[s]=a>>8&u[8]),2===r&&(a=i[o++]<<18,a+=i[o++]<<12,f[s]=a>>16&u[8]),f},toString(e){if(e.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${e.length}`);let t="",r=0;function n(e,n,i,o){switch(r){case 76:t+=`\r\n${e}${n}${i}${o}`,r=4;break;case 75:t+=`${e}\r\n${n}${i}${o}`,r=3;break;case 74:t+=`${e+n}\r\n${i}${o}`,r=2;break;case 73:t+=`${e+n+i}\r\n${o}`,r=1;break;default:t+=e+n+i+o,r+=4}}for(let o=0;o<e.length;o+=4){for(let t=o;t<o+4;t+=1)if(!((i=e[t])>=65&&i<=90||i>=97&&i<=122||i>=48&&i<=57||43===i||47===i||61===i))throw new RangeError(`base64.toString: buf[${t}]: ${e[t]} : not valid base64 character code`);n(String.fromCharCode(e[o]),String.fromCharCode(e[o+1]),String.fromCharCode(e[o+2]),String.fromCharCode(e[o+3]))}var i;return t}}},580:function(e,t,r){e.exports=function(){const e=r(8276),t=r(8544),n=this;let i=null,o=null,s=null,a=0;const c=[],u=[],f=[],h=[];function d(e){let t="";for(let r=0;r<e;r+=1)t+=" ";return t}this.callbacks=[],this.astObject="astObject",this.init=function(e,t,r){let d;f.length=0,h.length=0,c.length=0,a=0,i=e,o=t,s=r;const l=[];for(d=0;d<i.length;d+=1)l.push(i[d].lower);for(d=0;d<o.length;d+=1)l.push(o[d].lower);for(a=i.length+o.length,d=0;d<a;d+=1)c[d]=!1,u[d]=null;for(const i in n.callbacks){const e=i.toLowerCase();if(d=l.indexOf(e),d<0)throw new Error(`ast.js: init: node '${i}' not a rule or udt name`);"function"===typeof n.callbacks[i]&&(c[d]=!0,u[d]=n.callbacks[i]),!0===n.callbacks[i]&&(c[d]=!0)}},this.ruleDefined=function(e){return!1!==c[e]},this.udtDefined=function(e){return!1!==c[i.length+e]},this.down=function(t,r){const n=h.length;return f.push(n),h.push({name:r,thisIndex:n,thatIndex:null,state:e.SEM_PRE,callbackIndex:t,phraseIndex:null,phraseLength:null,stack:f.length}),n},this.up=function(t,r,n,i){const o=h.length,s=f.pop();return h.push({name:r,thisIndex:o,thatIndex:s,state:e.SEM_POST,callbackIndex:t,phraseIndex:n,phraseLength:i,stack:f.length}),h[s].thatIndex=o,h[s].phraseIndex=n,h[s].phraseLength=i,o},this.translate=function(t){let r,n,i;for(let o=0;o<h.length;o+=1)i=h[o],n=u[i.callbackIndex],i.state===e.SEM_PRE?null!==n&&(r=n(e.SEM_PRE,s,i.phraseIndex,i.phraseLength,t),r===e.SEM_SKIP&&(o=i.thatIndex)):null!==n&&n(e.SEM_POST,s,i.phraseIndex,i.phraseLength,t)},this.setLength=function(e){h.length=e,f.length=e>0?h[e-1].stack:0},this.getLength=function(){return h.length},this.toXml=function(r){let n=t.charsToDec,i="decimal integer character codes";if("string"===typeof r&&r.length>=3){const e=r.slice(0,3).toLowerCase();"asc"===e?(n=t.charsToAscii,i="ASCII for printing characters, hex for non-printing"):"hex"===e?(n=t.charsToHex,i="hexadecimal integer character codes"):"uni"===e&&(n=t.charsToUnicode,i="Unicode UTF-32 integer character codes")}let o="",a=0;return o+='<?xml version="1.0" encoding="utf-8"?>\n',o+=`<root nodes="${h.length/2}" characters="${s.length}">\n`,o+=`\x3c!-- input string, ${i} --\x3e\n`,o+=d(a+2),o+=n(s),o+="\n",h.forEach((t=>{t.state===e.SEM_PRE?(a+=1,o+=d(a),o+=`<node name="${t.name}" index="${t.phraseIndex}" length="${t.phraseLength}">\n`,o+=d(a+2),o+=n(s,t.phraseIndex,t.phraseLength),o+="\n"):(o+=d(a),o+=`</node>\x3c!-- name="${t.name}" --\x3e\n`,a-=1)})),o+="</root>\n",o},this.phrases=function(){const t={};let r,n;for(r=0;r<h.length;r+=1)n=h[r],n.state===e.SEM_PRE&&(Array.isArray(t[n.name])||(t[n.name]=[]),t[n.name].push({index:n.phraseIndex,length:n.phraseLength}));return t}}},2761:function(e){e.exports=function(){let e=-1,t=0;this.init=function(r){if("number"!==typeof r||r<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");t=Math.ceil(r),e=-1},this.increment=function(){return e+=1,(e+t)%t},this.maxSize=function(){return t},this.items=function(){return e+1},this.getListIndex=function(r){return-1===e||r<0||r>e||e-r>=t?-1:(r+t)%t},this.forEach=function(r){if(-1!==e)if(e<t)for(let t=0;t<=e;t+=1)r(t,t);else for(let n=e-t+1;n<=e;n+=1){r((n+t)%t,n)}}}},1593:function(e){e.exports=function(){return"/* This file automatically generated by jsonToless() and LESS. */\n.apg-mono {\n  font-family: monospace;\n}\n.apg-active {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-match {\n  font-weight: bold;\n  color: #264BFF;\n}\n.apg-empty {\n  font-weight: bold;\n  color: #0fbd0f;\n}\n.apg-nomatch {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-lh-match {\n  font-weight: bold;\n  color: #1A97BA;\n}\n.apg-lb-match {\n  font-weight: bold;\n  color: #5F1687;\n}\n.apg-remainder {\n  font-weight: bold;\n  color: #999999;\n}\n.apg-ctrl-char {\n  font-weight: bolder;\n  font-style: italic;\n  font-size: 0.6em;\n}\n.apg-line-end {\n  font-weight: bold;\n  color: #000000;\n}\n.apg-error {\n  font-weight: bold;\n  color: #FF4000;\n}\n.apg-phrase {\n  color: #000000;\n  background-color: #8caae6;\n}\n.apg-empty-phrase {\n  color: #0fbd0f;\n}\ntable.apg-state {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th,\ntable.apg-state td {\n  text-align: left;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-state th:nth-last-child(2),\ntable.apg-state td:nth-last-child(2) {\n  text-align: right;\n}\ntable.apg-state caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-stats {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats th,\ntable.apg-stats td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-stats caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-trace th,\ntable.apg-trace td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-trace th:last-child,\ntable.apg-trace th:nth-last-child(2),\ntable.apg-trace td:last-child,\ntable.apg-trace td:nth-last-child(2) {\n  text-align: left;\n}\ntable.apg-grammar {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-grammar th,\ntable.apg-grammar td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-grammar th:last-child,\ntable.apg-grammar td:last-child {\n  text-align: left;\n}\ntable.apg-rules {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-rules th,\ntable.apg-rules td {\n  text-align: right;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-rules a {\n  color: #003399 !important;\n}\ntable.apg-rules a:hover {\n  color: #8caae6 !important;\n}\ntable.apg-attrs {\n  font-family: monospace;\n  margin-top: 5px;\n  font-size: 11px;\n  line-height: 130%;\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs caption {\n  font-size: 125%;\n  line-height: 130%;\n  font-weight: bold;\n  text-align: left;\n}\ntable.apg-attrs th,\ntable.apg-attrs td {\n  text-align: center;\n  border: 1px solid black;\n  border-collapse: collapse;\n}\ntable.apg-attrs th:nth-child(1),\ntable.apg-attrs th:nth-child(2),\ntable.apg-attrs th:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs td:nth-child(1),\ntable.apg-attrs td:nth-child(2),\ntable.apg-attrs td:nth-child(3) {\n  text-align: right;\n}\ntable.apg-attrs a {\n  color: #003399 !important;\n}\ntable.apg-attrs a:hover {\n  color: #8caae6 !important;\n}\n"}},8276:function(e){e.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},8737:function(e,t,r){e.exports={ast:r(580),circular:r(2761),ids:r(8276),parser:r(8629),stats:r(5403),trace:r(9290),utils:r(8544),emitcss:r(1593),style:r(3932)}},8629:function(e,t,r){e.exports=function(){const e=r(8276),t=r(8544),n=this;let i;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let o,s,a,c,u=null,f=null,h=0,d=0,l=0,p=null,b=null,m=null,g=null,y=null,w=0,v=1/0,E=1/0;const A=function(t,r,n){const o="parser.js: evaluateRule(): ";if(t>=m.length)throw new Error(`${o}rule index: ${t} out of range`);if(r>=a)throw new Error(`${o}phrase index: ${r} out of range`);const{length:s}=u;u.push({type:e.RNM,index:t}),i(s,r,n),u.pop()},x=function(t,r,n){const o="parser.js: evaluateUdt(): ";if(t>=g.length)throw new Error(`${o}udt index: ${t} out of range`);if(r>=a)throw new Error(`${o}phrase index: ${r} out of range`);const{length:s}=u;u.push({type:e.UDT,empty:g[t].empty,index:t}),i(s,r,n),u.pop()},M=function(){h=0,d=0,l=0,w=0,c=[{lookAround:e.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],m=null,g=null,f=null,o=0,s=0,a=0,p=null,b=null,y=null,u=null},S=function(){const e=[];this.push=function(){e.push(function(){const t=e[e.length-1],r={};for(const e in t)r[e]=t[e];return r}())},this.pop=function(t){let r=t;if(r||(r=e.length-1),r<1||r>e.length)throw new Error(`parser.js: backRef.pop(): bad length: ${r}`);return e.length=r,e[e.length-1]},this.length=function(){return e.length},this.savePhrase=function(t,r,n){e[e.length-1][t]={phraseIndex:r,phraseLength:n}},this.getPhrase=function(t){return e[e.length-1][t]},function(){const t={};m.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),g.length>0&&g.forEach((e=>{e.isBkr&&(t[e.lower]=null)})),e.push(t)}()},k=function(){const t=this;this.state=e.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=c[c.length-1],this.uFrame=new S,this.pFrame=new S,this.evaluateRule=A,this.evaluateUdt=x,this.refresh=function(){t.state=e.ACTIVE,t.phraseLength=0,t.lookAround=c[c.length-1]}},C=function(){return c[c.length-1]},T=function(){return c.length>1},_=function(e,r,n){const i="parser.js: initializeInputChars(): ";let c=e,u=r,h=n;if(void 0===c)throw new Error(`${i}input string is undefined`);if(null===c)throw new Error(`${i}input string is null`);if("string"===typeof c)c=t.stringToChars(c);else if(!Array.isArray(c))throw new Error(`${i}input string is not a string or array`);if(c.length>0&&"number"!==typeof c[0])throw new Error(`${i}input string not an array of integers`);if("number"!==typeof u)u=0;else if(u=Math.floor(u),u<0||u>c.length)throw new Error(`${i}input beginning index out of range: ${u}`);if("number"!==typeof h)h=c.length-u;else if(h=Math.floor(h),h<0||h>c.length-u)throw new Error(`${i}input length out of range: ${h}`);f=c,o=u,s=h,a=o+s};this.setMaxTreeDepth=function(e){if("number"!==typeof e)throw new Error(`parser: max tree depth must be integer > 0: ${e}`);if(v=Math.floor(e),v<=0)throw new Error(`parser: max tree depth must be integer > 0: ${e}`)},this.setMaxNodeHits=function(e){if("number"!==typeof e)throw new Error(`parser: max node hits must be integer > 0: ${e}`);if(E=Math.floor(e),E<=0)throw new Error(`parser: max node hits must be integer > 0: ${e}`)};const I=function(t,r,c){let h;!function(e){const t="parser.js: initializeGrammar(): ";if(!e)throw new Error(`${t}grammar object undefined`);if("grammarObject"!==e.grammarObject)throw new Error(`${t}bad grammar object`);m=e.rules,g=e.udts}(t);const v=function(e){const t="parser.js: initializeStartRule(): ";let r=null;if("number"===typeof e){if(e>=m.length)throw new Error(`${t}start rule index too large: max: ${m.length}: index: ${e}`);r=e}else{if("string"!==typeof e)throw new Error(`${t}type of start rule '${typeof e}' not recognized`);{const n=e.toLowerCase();for(let e=0;e<m.length;e+=1)if(n===m[e].lower){r=m[e].index;break}if(null===r)throw new Error(`${t}start rule name '${e}' not recognized`)}}return r}(r);!function(){const e="parser.js: initializeCallbacks(): ";let t,r;for(p=[],b=[],t=0;t<m.length;t+=1)p[t]=null;for(t=0;t<g.length;t+=1)b[t]=null;const i=[];for(t=0;t<m.length;t+=1)i.push(m[t].lower);for(t=0;t<g.length;t+=1)i.push(g[t].lower);for(const o in n.callbacks){if(t=i.indexOf(o.toLowerCase()),t<0)throw new Error(`${e}syntax callback '${o}' not a rule or udt name`);if(r=n.callbacks[o],r||(r=null),"function"!==typeof r&&null!==r)throw new Error(`${e}syntax callback[${o}] must be function reference or 'false' (false/null/undefined/etc.)`);t<m.length?p[t]=r:b[t-m.length]=r}for(t=0;t<g.length;t+=1)if(null===b[t])throw new Error(`${e}all UDT callbacks must be defined. UDT callback[${g[t].lower}] not a function reference`)}(),function(){for(;;){if(void 0===n.trace){n.trace=null;break}if(null===n.trace)break;if("traceObject"!==n.trace.traceObject)throw new Error("parser.js: initializeTrace(): trace object not recognized");break}null!==n.trace&&n.trace.init(m,g,f)}(),function(){for(;;){if(void 0===n.stats){n.stats=null;break}if(null===n.stats)break;if("statsObject"!==n.stats.statsObject)throw new Error("parser.js: initializeStats(): stats object not recognized");break}null!==n.stats&&n.stats.init(m,g)}(),function(){for(;;){if(void 0===n.ast){n.ast=null;break}if(null===n.ast)break;if("astObject"!==n.ast.astObject)throw new Error("parser.js: initializeAst(): ast object not recognized");break}null!==n.ast&&n.ast.init(m,g,f)}();const E=new k;switch(void 0!==c&&null!==c&&(y=c),u=[{type:e.RNM,index:v}],i(0,o,E),u=null,E.state){case e.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case e.NOMATCH:h=!1;break;case e.EMPTY:case e.MATCH:h=E.phraseLength===s;break;default:throw new Error("unrecognized state")}return{success:h,state:E.state,length:s,matched:E.phraseLength,maxMatched:w,maxTreeDepth:d,nodeHits:l,inputLength:f.length,subBegin:o,subEnd:a,subLength:s}};this.parseSubstring=function(e,t,r,n,i,o){return M(),_(r,n,i),I(e,t,o)},this.parse=function(e,t,r,n){return M(),_(r,0,r.length),I(e,t,n)};const B=function(t,r,n){const o=u[t];for(let s=0;s<o.children.length&&(i(o.children[s],r,n),n.state===e.NOMATCH);s+=1);},O=function(t,r,n,i){if(r.phraseLength>n){let e=`parser.js: opRNM(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${r.phraseLength}`,e+=` must be <= remaining chars: ${n}`,new Error(e)}switch(r.state){case e.ACTIVE:if(!0!==i)throw new Error(`parser.js: opRNM(${t.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:r.phraseLength=0;break;case e.MATCH:0===r.phraseLength&&(r.state=e.EMPTY);break;case e.NOMATCH:r.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}},R=function(t,r,o){let s,c,h,d,l,b;const g=u[t],w=m[g.index],v=p[w.index],E=!T();if(E&&(c=n.ast&&n.ast.ruleDefined(g.index),c&&(s=n.ast.getLength(),n.ast.down(g.index,m[g.index].name)),d=o.uFrame.length(),l=o.pFrame.length(),o.uFrame.push(),o.pFrame.push(),b=o.pFrame,o.pFrame=new S),null===v)h=u,u=w.opcodes,i(0,r,o),u=h;else{const t=a-r;o.ruleIndex=w.index,v(o,f,r,y),O(w,o,t,!0),o.state===e.ACTIVE&&(h=u,u=w.opcodes,i(0,r,o),u=h,o.ruleIndex=w.index,v(o,f,r,y),O(w,o,t,!1))}E&&(c&&(o.state===e.NOMATCH?n.ast.setLength(s):n.ast.up(g.index,w.name,r,o.phraseLength)),o.pFrame=b,o.state===e.NOMATCH?(o.uFrame.pop(d),o.pFrame.pop(l)):w.isBkr&&(o.pFrame.savePhrase(w.lower,r,o.phraseLength),o.uFrame.savePhrase(w.lower,r,o.phraseLength)))},N=function(t,r,i){let o,s,c,h,d,l;const p=u[t],w=g[p.index];i.UdtIndex=w.index;const v=!T();v&&(c=n.ast&&n.ast.udtDefined(p.index),c&&(s=m.length+p.index,o=n.ast.getLength(),n.ast.down(s,w.name)),h=i.uFrame.length(),d=i.pFrame.length(),i.uFrame.push(),i.pFrame.push(),l=i.pFrame,i.pFrame=new S);const E=a-r;b[p.index](i,f,r,y),function(t,r,n){if(r.phraseLength>n){let e=`parser.js: opUDT(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${r.phraseLength}`,e+=` must be <= remaining chars: ${n}`,new Error(e)}switch(r.state){case e.ACTIVE:throw new Error(`parser.js: opUDT(${t.name}): callback function return error. ACTIVE state not allowed.`);case e.EMPTY:if(!1===t.empty)throw new Error(`parser.js: opUDT(${t.name}): callback function return error. May not return EMPTY.`);r.phraseLength=0;break;case e.MATCH:if(0===r.phraseLength){if(!1===t.empty)throw new Error(`parser.js: opUDT(${t.name}): callback function return error. May not return EMPTY.`);r.state=e.EMPTY}break;case e.NOMATCH:r.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}}(w,i,E),v&&(c&&(i.state===e.NOMATCH?n.ast.setLength(o):n.ast.up(s,w.name,r,i.phraseLength)),i.pFrame=l,i.state===e.NOMATCH?(i.uFrame.pop(h),i.pFrame.pop(d)):w.isBkr&&(i.pFrame.savePhrase(w.lower,r,i.phraseLength),i.uFrame.savePhrase(w.lower,r,i.phraseLength)))},L=function(t,r,n){c.push({lookAround:e.LOOKAROUND_AHEAD,anchor:r,charsEnd:a,charsLength:s}),a=f.length,s=f.length-o,i(t+1,r,n);const u=c.pop();switch(a=u.charsEnd,s=u.charsLength,n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.EMPTY;break;case e.NOMATCH:n.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${n.state}`)}},P=function(t,r,n){c.push({lookAround:e.LOOKAROUND_AHEAD,anchor:r,charsEnd:a,charsLength:s}),a=f.length,s=f.length-o,i(t+1,r,n);const u=c.pop();switch(a=u.charsEnd,s=u.charsLength,n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.NOMATCH;break;case e.NOMATCH:n.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${n.state}`)}},U=function(t,r,n){n.state=e.NOMATCH,n.phraseLength=0,n.state=0===r?e.EMPTY:e.NOMATCH},D=function(t,r,n){n.state=e.NOMATCH,n.phraseLength=0,n.state=r===f.length?e.EMPTY:e.NOMATCH},$=function(t,r,n){switch(c.push({lookAround:e.LOOKAROUND_BEHIND,anchor:r}),i(t+1,r,n),c.pop(),n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.EMPTY;break;case e.NOMATCH:n.state=e.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${n.state}`)}},F=function(t,r,n){switch(c.push({lookAround:e.LOOKAROUND_BEHIND,anchor:r}),i(t+1,r,n),c.pop(),n.phraseLength=0,n.state){case e.EMPTY:case e.MATCH:n.state=e.NOMATCH;break;case e.NOMATCH:n.state=e.EMPTY;break;default:throw new Error(`opBKN: invalid state ${n.state}`)}};i=function(t,r,o){let s=!0;const p=u[t];if(l+=1,l>E)throw new Error(`parser: maximum number of node hits exceeded: ${E}`);if(h+=1,h>d&&(d=h,d>v))throw new Error(`parser: maximum parse tree depth exceeded: ${v}`);if(o.refresh(),null!==n.trace){const e=C();n.trace.down(p,o.state,r,o.phraseLength,e.anchor,e.lookAround)}if(c[c.length-1].lookAround===e.LOOKAROUND_BEHIND)switch(p.type){case e.ALT:B(t,r,o);break;case e.CAT:!function(t,r,o){let s,a,c,f;const h=u[t],d=o.uFrame.length(),l=o.pFrame.length();n.ast&&(a=n.ast.getLength()),s=!0,c=r,f=0;for(let n=h.children.length-1;n>=0;n-=1)if(i(h.children[n],c,o),c-=o.phraseLength,f+=o.phraseLength,o.state===e.NOMATCH){s=!1;break}s?(o.state=0===f?e.EMPTY:e.MATCH,o.phraseLength=f):(o.state=e.NOMATCH,o.phraseLength=0,o.uFrame.pop(d),o.pFrame.pop(l),n.ast&&n.ast.setLength(a))}(t,r,o);break;case e.REP:!function(t,r,o){let s,a,c,f;const h=u[t];a=r,c=0,f=0;const d=o.uFrame.length(),l=o.pFrame.length();for(n.ast&&(s=n.ast.getLength());!(a<=0)&&(i(t+1,a,o),o.state!==e.NOMATCH)&&o.state!==e.EMPTY&&(f+=1,c+=o.phraseLength,a-=o.phraseLength,f!==h.max););o.state===e.EMPTY||f>=h.min?(o.state=0===c?e.EMPTY:e.MATCH,o.phraseLength=c):(o.state=e.NOMATCH,o.phraseLength=0,o.uFrame.pop(d),o.pFrame.pop(l),n.ast&&n.ast.setLength(s))}(t,r,o);break;case e.RNM:R(t,r,o);break;case e.UDT:N(t,r,o);break;case e.AND:L(t,r,o);break;case e.NOT:P(t,r,o);break;case e.TRG:!function(t,r,n){const i=u[t];if(n.state=e.NOMATCH,n.phraseLength=0,r>0){const t=f[r-1];i.min<=t&&t<=i.max&&(n.state=e.MATCH,n.phraseLength=1)}}(t,r,o);break;case e.TBS:!function(t,r,n){let i;const o=u[t];n.state=e.NOMATCH;const s=o.string.length,a=r-s;if(a>=0){for(i=0;i<s;i+=1)if(f[a+i]!==o.string[i])return;n.state=e.MATCH,n.phraseLength=s}}(t,r,o);break;case e.TLS:!function(t,r,n){let i;const o=u[t];n.state=e.NOMATCH;const s=o.string.length;if(0===s)return void(n.state=e.EMPTY);const a=r-s;if(a>=0){for(let e=0;e<s;e+=1)if(i=f[a+e],i>=65&&i<=90&&(i+=32),i!==o.string[e])return;n.state=e.MATCH,n.phraseLength=s}}(t,r,o);break;case e.BKR:!function(t,r,n){let i,o,s,a;const c=u[t];n.state=e.NOMATCH,n.phraseLength=0,a=c.index<m.length?m[c.index].lower:g[c.index-m.length].lower;const h=c.bkrMode===e.BKR_MODE_PM?n.pFrame.getPhrase(a):n.uFrame.getPhrase(a),d=c.bkrCase===e.BKR_MODE_CI;if(null===h)return;const l=h.phraseIndex,p=h.phraseLength;if(0===p)return n.state=e.EMPTY,void(n.phraseLength=0);const b=r-p;if(b>=0){if(d){for(i=0;i<p;i+=1)if(o=f[b+i],s=f[l+i],o>=65&&o<=90&&(o+=32),s>=65&&s<=90&&(s+=32),o!==s)return;n.state=e.MATCH,n.phraseLength=p}else for(i=0;i<p;i+=1)if(o=f[b+i],s=f[l+i],o!==s)return;n.state=e.MATCH,n.phraseLength=p}}(t,r,o);break;case e.BKA:$(t,r,o);break;case e.BKN:F(t,r,o);break;case e.ABG:U(0,r,o);break;case e.AEN:D(0,r,o);break;default:s=!1}else switch(p.type){case e.ALT:B(t,r,o);break;case e.CAT:!function(t,r,o){let s,a,c,f;const h=u[t],d=o.uFrame.length(),l=o.pFrame.length();n.ast&&(a=n.ast.getLength()),s=!0,c=r,f=0;for(let n=0;n<h.children.length;n+=1){if(i(h.children[n],c,o),o.state===e.NOMATCH){s=!1;break}c+=o.phraseLength,f+=o.phraseLength}s?(o.state=0===f?e.EMPTY:e.MATCH,o.phraseLength=f):(o.state=e.NOMATCH,o.phraseLength=0,o.uFrame.pop(d),o.pFrame.pop(l),n.ast&&n.ast.setLength(a))}(t,r,o);break;case e.REP:!function(t,r,o){let s,c,f,h;const d=u[t];c=r,f=0,h=0;const l=o.uFrame.length(),p=o.pFrame.length();for(n.ast&&(s=n.ast.getLength());!(c>=a)&&(i(t+1,c,o),o.state!==e.NOMATCH)&&o.state!==e.EMPTY&&(h+=1,f+=o.phraseLength,c+=o.phraseLength,h!==d.max););o.state===e.EMPTY||h>=d.min?(o.state=0===f?e.EMPTY:e.MATCH,o.phraseLength=f):(o.state=e.NOMATCH,o.phraseLength=0,o.uFrame.pop(l),o.pFrame.pop(p),n.ast&&n.ast.setLength(s))}(t,r,o);break;case e.RNM:R(t,r,o);break;case e.UDT:N(t,r,o);break;case e.AND:L(t,r,o);break;case e.NOT:P(t,r,o);break;case e.TRG:!function(t,r,n){const i=u[t];n.state=e.NOMATCH,r<a&&i.min<=f[r]&&f[r]<=i.max&&(n.state=e.MATCH,n.phraseLength=1)}(t,r,o);break;case e.TBS:!function(t,r,n){let i;const o=u[t],s=o.string.length;if(n.state=e.NOMATCH,r+s<=a){for(i=0;i<s;i+=1)if(f[r+i]!==o.string[i])return;n.state=e.MATCH,n.phraseLength=s}}(t,r,o);break;case e.TLS:!function(t,r,n){let i,o;const s=u[t];n.state=e.NOMATCH;const c=s.string.length;if(0!==c){if(r+c<=a){for(i=0;i<c;i+=1)if(o=f[r+i],o>=65&&o<=90&&(o+=32),o!==s.string[i])return;n.state=e.MATCH,n.phraseLength=c}}else n.state=e.EMPTY}(t,r,o);break;case e.BKR:!function(t,r,n){let i,o,s,c;const h=u[t];n.state=e.NOMATCH,c=h.index<m.length?m[h.index].lower:g[h.index-m.length].lower;const d=h.bkrMode===e.BKR_MODE_PM?n.pFrame.getPhrase(c):n.uFrame.getPhrase(c),l=h.bkrCase===e.BKR_MODE_CI;if(null===d)return;const p=d.phraseIndex,b=d.phraseLength;if(0!==b){if(r+b<=a){if(l){for(i=0;i<b;i+=1)if(o=f[r+i],s=f[p+i],o>=65&&o<=90&&(o+=32),s>=65&&s<=90&&(s+=32),o!==s)return;n.state=e.MATCH,n.phraseLength=b}else for(i=0;i<b;i+=1)if(o=f[r+i],s=f[p+i],o!==s)return;n.state=e.MATCH,n.phraseLength=b}}else n.state=e.EMPTY}(t,r,o);break;case e.BKA:$(t,r,o);break;case e.BKN:F(t,r,o);break;case e.ABG:U(0,r,o);break;case e.AEN:D(0,r,o);break;default:s=!1}if(!T()&&r+o.phraseLength>w&&(w=r+o.phraseLength),null!==n.stats&&n.stats.collect(p,o),null!==n.trace){const e=C();n.trace.up(p,o.state,r,o.phraseLength,e.anchor,e.lookAround)}return h-=1,s}}},5403:function(e,t,r){e.exports=function(){const e=r(8276),t=r(8544),n=r(3932);let i=[],o=[];const s=[];let a;const c=[],u=[];this.statsObject="statsObject";const f=function(e,t){return e.lower<t.lower?-1:e.lower>t.lower?1:0},h=function(e,t){return e.total<t.total?1:e.total>t.total?-1:f(e,t)},d=function(e,t){return e.index<t.index?-1:e.index>t.index?1:0},l=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},p=function(t,r){switch(t.total+=1,r){case e.EMPTY:t.empty+=1;break;case e.MATCH:t.match+=1;break;case e.NOMATCH:t.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${r}`)}},b=function(e,t){let r="";return r+="<tr>",r+=`<td class="${n.CLASS_ACTIVE}">${e}</td>`,r+=`<td class="${n.CLASS_EMPTY}">${t.empty}</td>`,r+=`<td class="${n.CLASS_MATCH}">${t.match}</td>`,r+=`<td class="${n.CLASS_NOMATCH}">${t.nomatch}</td>`,r+=`<td class="${n.CLASS_ACTIVE}">${t.total}</td>`,r+="</tr>\n",r},m=function(){let t="";return t+=b("ALT",s[e.ALT]),t+=b("CAT",s[e.CAT]),t+=b("REP",s[e.REP]),t+=b("RNM",s[e.RNM]),t+=b("TRG",s[e.TRG]),t+=b("TBS",s[e.TBS]),t+=b("TLS",s[e.TLS]),t+=b("UDT",s[e.UDT]),t+=b("AND",s[e.AND]),t+=b("NOT",s[e.NOT]),t+=b("BKR",s[e.BKR]),t+=b("BKA",s[e.BKA]),t+=b("BKN",s[e.BKN]),t+=b("ABG",s[e.ABG]),t+=b("AEN",s[e.AEN]),t+=b("totals",a),t},g=function(){let e="";e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<i.length;t+=1)c[t].total>0&&(e+="<tr>",e+=`<td class="${n.CLASS_ACTIVE}">${c[t].name}</td>`,e+=`<td class="${n.CLASS_EMPTY}">${c[t].empty}</td>`,e+=`<td class="${n.CLASS_MATCH}">${c[t].match}</td>`,e+=`<td class="${n.CLASS_NOMATCH}">${c[t].nomatch}</td>`,e+=`<td class="${n.CLASS_ACTIVE}">${c[t].total}</td>`,e+="</tr>\n");if(o.length>0){e+="<tr><th></th><th></th><th></th><th></th><th></th></tr>\n",e+="<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>\n";for(let t=0;t<o.length;t+=1)u[t].total>0&&(e+="<tr>",e+=`<td class="${n.CLASS_ACTIVE}">${u[t].name}</td>`,e+=`<td class="${n.CLASS_EMPTY}">${u[t].empty}</td>`,e+=`<td class="${n.CLASS_MATCH}">${u[t].match}</td>`,e+=`<td class="${n.CLASS_NOMATCH}">${u[t].nomatch}</td>`,e+=`<td class="${n.CLASS_ACTIVE}">${u[t].total}</td>`,e+="</tr>\n")}return e};this.validate=function(e){let t=!1;return"string"===typeof e&&"stats"===e&&(t=!0),t},this.init=function(t,r){i=t,o=r,function(){s.length=0,a=new l,s[e.ALT]=new l,s[e.CAT]=new l,s[e.REP]=new l,s[e.RNM]=new l,s[e.TRG]=new l,s[e.TBS]=new l,s[e.TLS]=new l,s[e.UDT]=new l,s[e.AND]=new l,s[e.NOT]=new l,s[e.BKR]=new l,s[e.BKA]=new l,s[e.BKN]=new l,s[e.ABG]=new l,s[e.AEN]=new l,c.length=0;for(let e=0;e<i.length;e+=1)c.push({empty:0,match:0,nomatch:0,total:0,name:i[e].name,lower:i[e].lower,index:i[e].index});if(o.length>0){u.length=0;for(let e=0;e<o.length;e+=1)u.push({empty:0,match:0,nomatch:0,total:0,name:o[e].name,lower:o[e].lower,index:o[e].index})}}()},this.collect=function(t,r){p(a,r.state,r.phraseLength),p(s[t.type],r.state,r.phraseLength),t.type===e.RNM&&p(c[t.index],r.state,r.phraseLength),t.type===e.UDT&&p(u[t.index],r.state,r.phraseLength)},this.toHtml=function(e,t){let r="";r+=`<table class="${n.CLASS_STATS}">\n`,"string"===typeof t&&(r+=`<caption>${t}</caption>\n`),r+=`<tr><th class="${n.CLASS_ACTIVE}">ops</th>\n`,r+=`<th class="${n.CLASS_EMPTY}">EMPTY</th>\n`,r+=`<th class="${n.CLASS_MATCH}">MATCH</th>\n`,r+=`<th class="${n.CLASS_NOMATCH}">NOMATCH</th>\n`,r+=`<th class="${n.CLASS_ACTIVE}">totals</th></tr>\n`;for(;;){if(void 0===e){r+=m();break}if(null===e){r+=m();break}if("ops"===e){r+=m();break}if("index"===e){c.sort(d),u.length>0&&u.sort(d),r+=m(),r+=g();break}if("hits"===e){c.sort(h),u.length>0&&u.sort(d),r+=m(),r+=g();break}if("alpha"===e){c.sort(f),u.length>0&&u.sort(f),r+=m(),r+=g();break}break}return r+="</table>\n",r},this.toHtmlPage=function(e,r,n){return t.htmlToPage(this.toHtml(e,r),n)}}},3932:function(e){e.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},9290:function(e,t,r){e.exports=function(){const e=r(8544),t=r(3932),n=new(r(2761)),i=r(8276),o=this,s=16,a=80,c=[];let u=5e3,f=-1,h=0,d=0;const l=[];let p=null,b=null,m=null;const g=[],y=[],w=`<span class="${t.CLASS_LINEEND}">&bull;</span>`,v=`<span class="${t.CLASS_LINEEND}">&hellip;</span>`,E=`<span class="${t.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(e,t){f=-1,"number"===typeof e&&e>0?(u=Math.ceil(e),"number"===typeof t&&(f=Math.floor(t),f<0&&(f=-1))):u=0},this.getMaxRecords=function(){return u},this.getLastRecord=function(){return f},this.init=function(e,t,r){c.length=0,l.length=0,h=0,d=0,p=r,b=e,m=t,function(){const e=function(e){g[i.ALT]=e,g[i.CAT]=e,g[i.REP]=e,g[i.TLS]=e,g[i.TBS]=e,g[i.TRG]=e,g[i.AND]=e,g[i.NOT]=e,g[i.BKR]=e,g[i.BKA]=e,g[i.BKN]=e,g[i.ABG]=e,g[i.AEN]=e};let t=0;for(const r in o.filter.operators)t+=1;if(0!==t){for(const t in o.filter.operators){const r=t.toUpperCase();if("<ALL>"===r)return void e(!0);if("<NONE>"===r)return void e(!1)}e(!1);for(const e in o.filter.operators){const t=e.toUpperCase();if("ALT"===t)g[i.ALT]=!0===o.filter.operators[e];else if("CAT"===t)g[i.CAT]=!0===o.filter.operators[e];else if("REP"===t)g[i.REP]=!0===o.filter.operators[e];else if("AND"===t)g[i.AND]=!0===o.filter.operators[e];else if("NOT"===t)g[i.NOT]=!0===o.filter.operators[e];else if("TLS"===t)g[i.TLS]=!0===o.filter.operators[e];else if("TBS"===t)g[i.TBS]=!0===o.filter.operators[e];else if("TRG"===t)g[i.TRG]=!0===o.filter.operators[e];else if("BKR"===t)g[i.BKR]=!0===o.filter.operators[e];else if("BKA"===t)g[i.BKA]=!0===o.filter.operators[e];else if("BKN"===t)g[i.BKN]=!0===o.filter.operators[e];else if("ABG"===t)g[i.ABG]=!0===o.filter.operators[e];else{if("AEN"!==t)throw new Error(`trace.js: initOpratorFilter: '${e}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);g[i.AEN]=!0===o.filter.operators[e]}}}else e(!1)}(),function(){const e=function(e){g[i.RNM]=e,g[i.UDT]=e;const t=b.length+m.length;y.length=0;for(let r=0;r<t;r+=1)y.push(e)};let t,r;const n=[];for(r=0;r<b.length;r+=1)n.push(b[r].lower);for(r=0;r<m.length;r+=1)n.push(m[r].lower);y.length=0,t=0;for(const i in o.filter.rules)t+=1;if(0!==t){for(const t in o.filter.rules){const r=t.toLowerCase();if("<all>"===r)return void e(!0);if("<none>"===r)return void e(!1)}e(!1),g[i.RNM]=!0,g[i.UDT]=!0;for(const e in o.filter.rules){const t=e.toLowerCase();if(r=n.indexOf(t),r<0)throw new Error(`trace.js: initRuleFilter: '${e}' not a valid rule or udt name`);y[r]=!0===o.filter.rules[e]}}else e(!0)}(),n.init(u)};const A=function(e){let t=!1;return t=e.type===i.RNM?!(!g[e.type]||!y[e.index]):e.type===i.UDT?!(!g[e.type]||!y[b.length+e.index]):g[e.type],t},x=function(e){return-1===f||e<=f};this.down=function(e,t,r,i,o,s){x(h)&&A(e)&&(l.push(h),c[n.increment()]={dirUp:!1,depth:d,thisLine:h,thatLine:void 0,opcode:e,state:t,phraseIndex:r,phraseLength:i,lookAnchor:o,lookAround:s},h+=1,d+=1)},this.up=function(e,t,r,i,o,s){if(x(h)&&A(e)){const a=h,u=l.pop(),f=n.getListIndex(u);-1!==f&&(c[f].thatLine=a),d-=1,c[n.increment()]={dirUp:!0,depth:d,thisLine:a,thatLine:u,opcode:e,state:t,phraseIndex:r,phraseLength:i,lookAnchor:o,lookAround:s},h+=1}};this.toTree=function(t){const r=function(){function t(t,r){let n,o,s;if(r)switch(t.op={id:r.type,name:e.opcodeToString(r.type)},t.opData=void 0,r.type){case i.RNM:t.opData=b[r.index].name;break;case i.UDT:t.opData=m[r.index].name;break;case i.BKR:n=r.index<b.length?b[r.index].name:m[r.index-b.length].name,o=r.bkrCase===i.BKR_MODE_CI?"%i":"%s",s=r.bkrMode===i.BKR_MODE_UM?"%u":"%p",t.opData=`\\\\${o}${s}${n}`;break;case i.TLS:t.opData=[];for(let e=0;e<r.string.length;e+=1)t.opData.push(r.string[e]);break;case i.TBS:t.opData=[];for(let e=0;e<r.string.length;e+=1)t.opData.push(r.string[e]);break;case i.TRG:case i.REP:t.opData=[r.min,r.max];break;default:throw new Error("unrecognized opcode")}else t.op={id:void 0,name:void 0},t.opData=void 0}function r(e,t,r){return e===i.MATCH?{index:t,length:r}:e===i.NOMATCH||e===i.EMPTY?{index:t,length:0}:null}let o=-1;function s(n,i,s){const a={id:o++,branch:-1,parent:n,up:!1,down:!1,depth:s,children:[]};return i?(a.down=!0,a.state={id:i.state,name:e.stateToString(i.state)},a.phrase=null,t(a,i.opcode)):(a.state={id:void 0,name:void 0},a.phrase=r(),t(a,void 0)),a}function a(n,i){i&&(n.up=!0,n.state={id:i.state,name:e.stateToString(i.state)},n.phrase=r(i.state,i.phraseIndex,i.phraseLength),n.down||t(n,i.opcode))}let u=0,f=-1,h=1;const l=[];let g,y,w,v,E=!0;const A=s(null,null,-1);for(l.push(A),y=A,n.forEach((e=>{if(v=c[e],E&&(E=!1,v.depth>0)){const e=v.dirUp?v.depth+1:v.depth;for(let t=0;t<e;t+=1)w=y,y=s(y,null,t),l.push(y),w.children.push(y)}v.dirUp?(y=l.pop(),a(y,v),y=l[l.length-1]):(w=y,y=s(y,v,v.depth),l.push(y),w.children.push(y))}));l.length>1;)y=l.pop(),a(y,null);if(0===A.children.length)throw new Error("trace.toTree(): parse tree has no nodes");if(0===l.length)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");g=A.children[0];let x=g;for(;g&&!g.down&&!g.up;)x=g,g=g.children[0];g=x,g.leftMost=!0,g.rightMost=!0,function e(t){if(f+=1,t.branch=h,f>d&&(d=f),0===t.children.length)u+=1;else for(let r=0;r<t.children.length;r+=1)r>0&&(h+=1),t.children[r].leftMost=!1,t.children[r].rightMost=!1,t.leftMost&&(t.children[r].leftMost=0===r),t.rightMost&&(t.children[r].rightMost=r===t.children.length-1),e(t.children[r]);f-=1}(g),g.branch=0;const M={string:[]};for(let e=0;e<p.length;e+=1)M.string[e]=p[e];M.rules=[];for(let e=0;e<b.length;e+=1)M.rules[e]=b[e].name;M.udts=[];for(let e=0;e<m.length;e+=1)M.udts[e]=m[e].name;let S;return M.id={},M.id.ALT={id:i.ALT,name:"ALT"},M.id.CAT={id:i.CAT,name:"CAT"},M.id.REP={id:i.REP,name:"REP"},M.id.RNM={id:i.RNM,name:"RNM"},M.id.TLS={id:i.TLS,name:"TLS"},M.id.TBS={id:i.TBS,name:"TBS"},M.id.TRG={id:i.TRG,name:"TRG"},M.id.UDT={id:i.UDT,name:"UDT"},M.id.AND={id:i.AND,name:"AND"},M.id.NOT={id:i.NOT,name:"NOT"},M.id.BKR={id:i.BKR,name:"BKR"},M.id.BKA={id:i.BKA,name:"BKA"},M.id.BKN={id:i.BKN,name:"BKN"},M.id.ABG={id:i.ABG,name:"ABG"},M.id.AEN={id:i.AEN,name:"AEN"},M.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},M.id.MATCH={id:i.MATCH,name:"MATCH"},M.id.EMPTY={id:i.EMPTY,name:"EMPTY"},M.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},M.treeDepth=d,M.leafNodes=u,S=g.down?g.up?"none":"right":g.up?"left":"both",M.branchesIncomplete=S,M.tree=function e(t,r){let n;const i={};if(i.id=t.id,i.branch=t.branch,i.leftMost=t.leftMost,i.rightMost=t.rightMost,n=t.state.name?t.state.name:"ACTIVE",i.state={id:t.state.id,name:n},n=t.op.name?t.op.name:"?",i.op={id:t.op.id,name:n},"string"===typeof t.opData)i.opData=t.opData;else if(Array.isArray(t.opData)){i.opData=[];for(let e=0;e<t.opData.length;e+=1)i.opData[e]=t.opData[e]}else i.opData=void 0;t.phrase?i.phrase={index:t.phrase.index,length:t.phrase.length}:i.phrase=null,i.depth=t.depth,i.children=[];for(let o=0;o<t.children.length;o+=1)t.children.length,i.children[o]=e(t.children[o],r);return i}(g,g.depth),M}();return t?JSON.stringify(r):r},this.toHtmlPage=function(t,r,n){return e.htmlToPage(this.toHtml(t,r),n)};this.indent=function(e){let t="";for(let r=0;r<e;r+=1)t+=".";return t};const M=function(t,r,n,i,o){if(0===i)return"";let a="";const c=o?",":"";switch(t){case s:a=c+e.charsToHex(r,n,i);break;case 10:if(o)return`,${e.charsToDec(r,n,i)}`;a=c+e.charsToDec(r,n,i);break;case 32:a=e.charsToUnicode(r,n,i);break;default:a=e.charsToAsciiHtml(r,n,i)}return a},S=function(e,r,n,o,s,c){let u,f,h,d,l="",p=w;const b=`<span class="${t.CLASS_REMAINDER}">`,m="</span>";let g=!1;switch(n){case i.EMPTY:l+=E;case i.NOMATCH:case i.ACTIVE:u=o,f=0,h=o,d=r.length-h;break;case i.MATCH:u=o,f=s,h=o+f,d=r.length-h;break;default:throw new Error("unrecognized state")}return p=w,f>a?(f=a,p=v,d=0):f+d>a&&(p=v,d=a-f),f>0&&(l+=c,l+=M(e,r,u,f,g),l+=m,g=!0),d>0&&(l+=b,l+=M(e,r,h,d,g),l+=m),l+p},k=function(r){if(null===b)return"";let u,f,h,d,l,g,y="";return y+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",y+="<th>operator</th><th>phrase</th></tr>\n",n.forEach((n=>{const A=c[n];switch(u=A.thisLine,f=void 0!==A.thatLine?A.thatLine:"--",h=!1,d=!1,l=!1,A.lookAround===i.LOOKAROUND_AHEAD&&(h=!0,l=!0,g=A.lookAnchor),A.opcode.type!==i.AND&&A.opcode.type!==i.NOT||(h=!0,l=!0,g=A.phraseIndex),A.lookAround===i.LOOKAROUND_BEHIND&&(d=!0,l=!0,g=A.lookAnchor),A.opcode.type!==i.BKA&&A.opcode.type!==i.BKN||(d=!0,l=!0,g=A.phraseIndex),y+="<tr>",y+=`<td>${u}</td><td>${f}</td>`,y+=`<td>${A.phraseIndex}</td>`,y+=`<td>${A.phraseLength}</td>`,y+=`<td>${A.depth}</td>`,y+="<td>",A.state){case i.ACTIVE:y+=`<span class="${t.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:y+=`<span class="${t.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:y+=`<span class="${t.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:y+=`<span class="${t.CLASS_EMPTY}">&uarr;E</span>`;break;default:y+=`<span class="${t.CLASS_ACTIVE}">--</span>`}if(y+="</td>",y+="<td>",y+=o.indent(A.depth),h?y+=`<span class="${t.CLASS_LOOKAHEAD}">`:d&&(y+=`<span class="${t.CLASS_LOOKBEHIND}">`),y+=e.opcodeToString(A.opcode.type),A.opcode.type===i.RNM&&(y+=`(${b[A.opcode.index].name}) `),A.opcode.type===i.BKR){const e=A.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",t=A.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";y+=`(\\${e}${t}${b[A.opcode.index].name}) `}A.opcode.type===i.UDT&&(y+=`(${m[A.opcode.index].name}) `),A.opcode.type===i.TRG&&(y+=`(${function(e,t){let r="";if(t.type===i.TRG)if(e===s||32===e){let n=t.min.toString(16).toUpperCase();n.length%2!==0&&(n=`0${n}`),r+=e===s?"%x":"U+",r+=n,n=t.max.toString(16).toUpperCase(),n.length%2!==0&&(n=`0${n}`),r+=`&ndash;${n}`}else r=`%d${t.min.toString(10)}&ndash;${t.max.toString(10)}`;return r}(r,A.opcode)}) `),A.opcode.type===i.TBS&&(y+=`(${function(e,t){let r="";if(t.type===i.TBS){const n=Math.min(t.string.length,10);if(e===s||32===e){r+=e===s?"%x":"U+";for(let e=0;e<n;e+=1){let n;e>0&&(r+="."),n=t.string[e].toString(16).toUpperCase(),n.length%2!==0&&(n=`0${n}`),r+=n}}else{r="%d";for(let e=0;e<n;e+=1)e>0&&(r+="."),r+=t.string[e].toString(10)}n<t.string.length&&(r+=v)}return r}(r,A.opcode)}) `),A.opcode.type===i.TLS&&(y+=`(${function(t,r){let n="";if(r.type===i.TLS){const i=Math.min(r.string.length,5);if(t===s||10===t){let e,o,a;t===s?(n="%x",a=16):(n="%d",a=10);for(let t=0;t<i;t+=1)t>0&&(n+="."),o=r.string[t],o>=97&&o<=122?(e=o-32,n+=`${e.toString(a)}/${o.toString(a)}`.toUpperCase()):o>=65&&o<=90?(e=o,o+=32,n+=`${e.toString(a)}/${o.toString(a)}`.toUpperCase()):n+=o.toString(a).toUpperCase();i<r.string.length&&(n+=v)}else{n='"';for(let t=0;t<i;t+=1)n+=e.asciiChars[r.string[t]];i<r.string.length&&(n+=v),n+='"'}}return n}(r,A.opcode)}) `),A.opcode.type===i.REP&&(y+=`(${function(e,t){let r="";if(t.type===i.REP)if(e===s){let e=t.min.toString(16).toUpperCase();e.length%2!==0&&(e=`0${e}`),r=`x${e}`,t.max<1/0?(e=t.max.toString(16).toUpperCase(),e.length%2!==0&&(e=`0${e}`)):e="inf",r+=`&ndash;${e}`}else r=t.max<1/0?`${t.min.toString(10)}&ndash;${t.max.toString(10)}`:`${t.min.toString(10)}&ndash;inf`;return r}(r,A.opcode)}) `),l&&(y+="</span>"),y+="</td>",y+="<td>",y+=d?function(e,r,n,o,s,c){let u,f,h,d,l="",p=w;const b=`<span class="${t.CLASS_LOOKBEHIND}">`,m=`<span class="${t.CLASS_REMAINDER}">`,g="</span>";let y=!1;switch(n){case i.EMPTY:l+=E;case i.NOMATCH:case i.MATCH:case i.ACTIVE:u=o-s,f=c-u,h=c,d=r.length-h;break;default:throw new Error("unrecognized state")}return p=w,f>a?(f=a,p=v,d=0):f+d>a&&(p=v,d=a-f),f>0&&(l+=b,l+=M(e,r,u,f,y),l+=g,y=!0),d>0&&(l+=m,l+=M(e,r,h,d,y),l+=g),l+p}(r,p,A.state,A.phraseIndex,A.phraseLength,g):h?function(e,r,n,i,o){const s=`<span class="${t.CLASS_LOOKAHEAD}">`;return S(e,r,n,i,o,s)}(r,p,A.state,A.phraseIndex,A.phraseLength):function(e,r,n,i,o){const s=`<span class="${t.CLASS_MATCH}">`;return S(e,r,n,i,o,s)}(r,p,A.state,A.phraseIndex,A.phraseLength),y+="</td></tr>\n"})),y+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",y+="<th>operator</th><th>phrase</th></tr>\n",y+="</table>\n",y};this.toHtml=function(e,r){let n=8;if("string"===typeof e&&e.length>=3){const t=e.toLowerCase().slice(0,3);"hex"===t?n=s:"dec"===t?n=10:"uni"===t&&(n=32)}let i="";return i+=function(e,r){let n;switch(e){case s:n="hexadecimal";break;case 10:n="decimal";break;case 8:n="ASCII";break;case 32:n="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${e}`)}let i="";return i+=`<p>display mode: ${n}</p>\n`,i+=`<table class="${t.CLASS_TRACE}">\n`,"string"===typeof r&&(i+=`<caption>${r}</caption>`),i}(n,r),i+=k(n),i+=function(){let e="";return e+="</table>\n",e+=`<p class="${t.CLASS_MONOSPACE}">legend:<br>\n`,e+="(a)&nbsp;-&nbsp;line number<br>\n",e+="(b)&nbsp;-&nbsp;matching line number<br>\n",e+="(c)&nbsp;-&nbsp;phrase offset<br>\n",e+="(d)&nbsp;-&nbsp;phrase length<br>\n",e+="(e)&nbsp;-&nbsp;tree depth<br>\n",e+="(f)&nbsp;-&nbsp;operator state<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">&uarr;M</span> phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>\n`,e+="operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>\n",e+="phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>\n",e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_MATCH}">matched characters</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${t.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${E} empty string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${w} end of input string<br>\n`,e+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${v} input string display truncated<br>\n`,e+="</p>\n",e+=`<p class="${t.CLASS_MONOSPACE}">\n`,e+="<sup>&dagger;</sup>original ABNF operators:<br>\n",e+="ALT - alternation<br>\n",e+="CAT - concatenation<br>\n",e+="REP - repetition<br>\n",e+="RNM - rule name<br>\n",e+="TRG - terminal range<br>\n",e+="TLS - terminal literal string (case insensitive)<br>\n",e+="TBS - terminal binary string (case sensitive)<br>\n",e+="<br>\n",e+="<sup>&Dagger;</sup>super set SABNF operators:<br>\n",e+="UDT - user-defined terminal<br>\n",e+="AND - positive look ahead<br>\n",e+="NOT - negative look ahead<br>\n",e+="BKA - positive look behind<br>\n",e+="BKN - negative look behind<br>\n",e+="BKR - back reference<br>\n",e+="ABG - anchor - begin of input string<br>\n",e+="AEN - anchor - end of input string<br>\n",e+="</p>\n",e}(),i}}},8544:function(e,t,r){const n=r(3932),i=r(979),o=r(1593),s=r(8276),a=this,c=function(e,t,r){let n,i=t;for(;;){if(e<=0){i=0,n=0;break}if("number"!==typeof i){i=0,n=e;break}if(i>=e){i=e,n=e;break}if("number"!==typeof r){n=e;break}if(n=i+r,n>e){n=e;break}break}return{beg:i,end:n}};t.htmlToPage=function(e,t){let r;if("string"!==typeof e)throw new Error("utilities.js: htmlToPage: input HTML is not a string");r="string"!==typeof t?"htmlToPage":t;let n="";return n+="<!DOCTYPE html>\n",n+='<html lang="en">\n',n+="<head>\n",n+='<meta charset="utf-8">\n',n+=`<title>${r}</title>\n`,n+="<style>\n",n+=o(),n+="</style>\n",n+="</head>\n<body>\n",n+=`<p>${new Date}</p>\n`,n+=e,n+="</body>\n</html>\n",n},t.parserResultToHtml=function(e,t){let r,i,o=null;"string"===typeof t&&""!==t&&(o=t),r=!0===e.success?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,i=e.state===s.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:e.state===s.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:e.state===s.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let a="";return a+=`<table class="${n.CLASS_STATE}">\n`,o&&(a+=`<caption>${o}</caption>\n`),a+="<tr><th>state item</th><th>value</th><th>description</th></tr>\n",a+=`<tr><td>parser success</td><td>${r}</td>\n`,a+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,\n`,a+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,a+="<br><i>NOTE: for success, entire string must be matched</i></td></tr>\n",a+=`<tr><td>parser state</td><td>${i}</td>\n`,a+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,a+=`<span class="${n.CLASS_MATCH}">MATCH</span> or \n`,a+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>\n`,a+=`<tr><td>string length</td><td>${e.length}</td><td>length of the input (sub)string</td></tr>\n`,a+=`<tr><td>matched length</td><td>${e.matched}</td><td>number of input string characters matched</td></tr>\n`,a+=`<tr><td>max matched</td><td>${e.maxMatched}</td><td>maximum number of input string characters matched</td></tr>\n`,a+=`<tr><td>max tree depth</td><td>${e.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>\n`,a+=`<tr><td>node hits</td><td>${e.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>\n`,a+=`<tr><td>input length</td><td>${e.inputLength}</td><td>length of full input string</td></tr>\n`,a+=`<tr><td>sub-string begin</td><td>${e.subBegin}</td><td>sub-string first character index</td></tr>\n`,a+=`<tr><td>sub-string end</td><td>${e.subEnd}</td><td>sub-string end-of-string index</td></tr>\n`,a+=`<tr><td>sub-string length</td><td>${e.subLength}</td><td>sub-string length</td></tr>\n`,a+="</table>\n",a},t.charsToString=function(e,t,r){let n,o;if("number"===typeof t){if(t>=e.length)return"";n=t<0?0:t}else n=0;if("number"===typeof r){if(r<=0)return"";o=r>e.length-n?e.length:n+r}else o=e.length;return n<o?i.encode("UTF16LE",e.slice(n,o)).toString("utf16le"):""},t.stringToChars=function(e){return i.decode("STRING",e)},t.opcodeToString=function(e){let t="unknown";switch(e){case s.ALT:t="ALT";break;case s.CAT:t="CAT";break;case s.RNM:t="RNM";break;case s.UDT:t="UDT";break;case s.AND:t="AND";break;case s.NOT:t="NOT";break;case s.REP:t="REP";break;case s.TRG:t="TRG";break;case s.TBS:t="TBS";break;case s.TLS:t="TLS";break;case s.BKR:t="BKR";break;case s.BKA:t="BKA";break;case s.BKN:t="BKN";break;case s.ABG:t="ABG";break;case s.AEN:t="AEN";break;default:throw new Error("unrecognized opcode")}return t},t.stateToString=function(e){let t="unknown";switch(e){case s.ACTIVE:t="ACTIVE";break;case s.MATCH:t="MATCH";break;case s.EMPTY:t="EMPTY";break;case s.NOMATCH:t="NOMATCH";break;default:throw new Error("unrecognized state")}return t},t.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],t.charToHex=function(e){let t=e.toString(16).toUpperCase();switch(t.length){case 1:case 3:case 7:t=`0${t}`;break;case 2:case 6:t=`00${t}`;break;case 4:break;case 5:t=`000${t}`;break;default:throw new Error("unrecognized option")}return t},t.charsToDec=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToDec: input must be an array of integers");const i=c(e.length,t,r);if(i.end>i.beg){n+=e[i.beg];for(let t=i.beg+1;t<i.end;t+=1)n+=`,${e[t]}`}return n},t.charsToHex=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");const i=c(e.length,t,r);if(i.end>i.beg){n+=`\\x${a.charToHex(e[i.beg])}`;for(let t=i.beg+1;t<i.end;t+=1)n+=`,\\x${a.charToHex(e[t])}`}return n},t.charsToHtmlEntities=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToHex: input must be an array of integers");const i=c(e.length,t,r);if(i.end>i.beg)for(let o=i.beg;o<i.end;o+=1)n+=`&#x${e[o].toString(16)};`;return n},t.charsToUnicode=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");const i=c(e.length,t,r);if(i.end>i.beg)for(let s=i.beg;s<i.end;s+=1)n+=(o=e[s])>=55296&&o<=57343||o>1114111?` U+${a.charToHex(e[s])}`:`&#${e[s]};`;var o;return n},t.charsToJsUnicode=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");const i=c(e.length,t,r);if(i.end>i.beg){n+=`\\u${a.charToHex(e[i.beg])}`;for(let t=i.beg+1;t<i.end;t+=1)n+=`,\\u${a.charToHex(e[t])}`}return n},t.charsToAscii=function(e,t,r){let n="";if(!Array.isArray(e))throw new Error("utilities.js: charsToAscii: input must be an array of integers");const i=c(e.length,t,r);for(let o=i.beg;o<i.end;o+=1){const t=e[o];n+=t>=32&&t<=126?String.fromCharCode(t):`\\x${a.charToHex(t)}`}return n},t.charsToAsciiHtml=function(e,t,r){if(!Array.isArray(e))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let i,o="";const s=c(e.length,t,r);for(let c=s.beg;c<s.end;c+=1)i=e[c],o+=i<32||127===i?`<span class="${n.CLASS_CTRLCHAR}">${a.asciiChars[i]}</span>`:i>127?`<span class="${n.CLASS_CTRLCHAR}">U+${a.charToHex(i)}</span>`:a.asciiChars[i];return o},t.stringToAsciiHtml=function(e){const t=i.decode("STRING",e);return this.charsToAsciiHtml(t)}},9669:function(e,t,r){e.exports=r(1609)},5448:function(e,t,r){"use strict";var n=r(4867),i=r(6026),o=r(4372),s=r(5327),a=r(4097),c=r(4109),u=r(7985),f=r(5061),h=r(7874),d=r(5263);e.exports=function(e){return new Promise((function(t,r){var l,p=e.data,b=e.headers,m=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(l),e.signal&&e.signal.removeEventListener("abort",l)}n.isFormData(p)&&delete b["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";b.Authorization="Basic "+btoa(w+":"+v)}var E=a(e.baseURL,e.url);function A(){if(y){var n="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};i((function(e){t(e),g()}),(function(e){r(e),g()}),o),y=null}}if(y.open(e.method.toUpperCase(),s(E,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=A:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(A)},y.onabort=function(){y&&(r(f("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){r(f("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(f(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},n.isStandardBrowserEnv()){var x=(e.withCredentials||u(E))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;x&&(b[e.xsrfHeaderName]=x)}"setRequestHeader"in y&&n.forEach(b,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete b[t]:y.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),m&&"json"!==m&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(l=function(e){y&&(r(!e||e&&e.type?new d("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(l),e.signal&&(e.signal.aborted?l():e.signal.addEventListener("abort",l))),p||(p=null),y.send(p)}))}},1609:function(e,t,r){"use strict";var n=r(4867),i=r(1849),o=r(321),s=r(7185);var a=function e(t){var r=new o(t),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(r(5546));a.Axios=o,a.Cancel=r(5263),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.all=function(e){return Promise.all(e)},a.spread=r(8713),a.isAxiosError=r(6268),e.exports=a,e.exports.default=a},5263:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:function(e,t,r){"use strict";var n=r(5263);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:function(e,t,r){"use strict";var n=r(4867),i=r(5327),o=r(782),s=r(3572),a=r(7185),c=r(4875),u=c.validators;function f(e){this.defaults=e,this.interceptors={request:new o,response:new o}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,f=[];if(this.interceptors.response.forEach((function(e){f.push(e.fulfilled,e.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(f),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=t;n.length;){var l=n.shift(),p=n.shift();try{d=l(d)}catch(b){p(b);break}}try{o=s(d)}catch(b){return Promise.reject(b)}for(;f.length;)o=o.then(f.shift(),f.shift());return o},f.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){f.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=f},782:function(e,t,r){"use strict";var n=r(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:function(e,t,r){"use strict";var n=r(1793),i=r(7303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},5061:function(e,t,r){"use strict";var n=r(481);e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},3572:function(e,t,r){"use strict";var n=r(4867),i=r(8527),o=r(6502),s=r(5546),a=r(5263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function c(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||o,i=t(e);n.isUndefined(i)&&t!==c||(r[e]=i)})),r}},6026:function(e,t,r){"use strict";var n=r(5061);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},8527:function(e,t,r){"use strict";var n=r(4867),i=r(5546);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},5546:function(e,t,r){"use strict";var n=r(3454),i=r(4867),o=r(6016),s=r(481),a=r(7874),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var f={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof n&&"[object process]"===Object.prototype.toString.call(n))&&(e=r(5448)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||f.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(a){if(o){if("SyntaxError"===a.name)throw s(a,this,"E_JSON_PARSE");throw a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){f.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){f.headers[e]=i.merge(c)})),e.exports=f},7874:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:function(e){e.exports={version:"0.26.1"}},1849:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},5327:function(e,t,r){"use strict";var n=r(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:function(e,t,r){"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},7985:function(e,t,r){"use strict";var n=r(4867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:function(e,t,r){"use strict";var n=r(4867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},4109:function(e,t,r){"use strict";var n=r(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},8713:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:function(e,t,r){"use strict";var n=r(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!==typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],c=void 0===a||s(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},4867:function(e,t,r){"use strict";var n=r(1849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return"undefined"===typeof e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function f(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:c,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:f,isStream:function(e){return c(e)&&f(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:h,merge:function e(){var t={};function r(r,n){u(t[n])&&u(r)?t[n]=e(t[n],r):u(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)h(arguments[n],r);return t},extend:function(e,t,r){return h(t,(function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},7715:function(e,t){"use strict";t.gW=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let h=0;h<r.length;h++){const e=r.charAt(h);n[e]=h}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const c=(e=s).lastIndexOf("1");if(-1===c)return"No separator character for "+e;if(0===c)return"Missing prefix for "+e;const u=e.slice(0,c),f=e.slice(c+1);if(f.length<6)return"Data too short";let h=o(u);if("string"===typeof h)return h;const d=[];for(let t=0;t<f.length;++t){const e=f.charAt(t),r=n[e];if(void 0===r)return"Unknown character "+e;h=i(h)^r,t+6>=f.length||d.push(r)}return h!==t?"Invalid checksum for "+e:{prefix:u,words:d}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"===typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"===typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"===typeof a)throw new Error(a);let c=e+"1";for(let t=0;t<n.length;++t){const e=n[t];if(e>>5!==0)throw new Error("Non 5-bit word");a=i(a)^e,c+=r.charAt(e)}for(let t=0;t<6;++t)a=i(a);a^=t;for(let t=0;t<6;++t){c+=r.charAt(a>>5*(5-t)&31)}return c},toWords:a,fromWordsUnsafe:c,fromWords:u}}t.gW=f("bech32"),f("bech32m")},8442:function(e,t,r){const n=r(9488);function i(e,t,r){const n=e[t]+e[r];let i=e[t+1]+e[r+1];n>=4294967296&&i++,e[t]=n,e[t+1]=i}function o(e,t,r,n){let i=e[t]+r;r<0&&(i+=4294967296);let o=e[t+1]+n;i>=4294967296&&o++,e[t]=i,e[t+1]=o}function s(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function a(e,t,r,n,s,a){const c=h[s],u=h[s+1],d=h[a],l=h[a+1];i(f,e,t),o(f,e,c,u);let p=f[n]^f[e],b=f[n+1]^f[e+1];f[n]=b,f[n+1]=p,i(f,r,n),p=f[t]^f[r],b=f[t+1]^f[r+1],f[t]=p>>>24^b<<8,f[t+1]=b>>>24^p<<8,i(f,e,t),o(f,e,d,l),p=f[n]^f[e],b=f[n+1]^f[e+1],f[n]=p>>>16^b<<16,f[n+1]=b>>>16^p<<16,i(f,r,n),p=f[t]^f[r],b=f[t+1]^f[r+1],f[t]=b>>>31^p<<1,f[t+1]=p>>>31^b<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(e){return 2*e}))),f=new Uint32Array(32),h=new Uint32Array(32);function d(e,t){let r=0;for(r=0;r<16;r++)f[r]=e.h[r],f[r+16]=c[r];for(f[24]=f[24]^e.t,f[25]=f[25]^e.t/4294967296,t&&(f[28]=~f[28],f[29]=~f[29]),r=0;r<32;r++)h[r]=s(e.b,4*r);for(r=0;r<12;r++)a(0,8,16,24,u[16*r+0],u[16*r+1]),a(2,10,18,26,u[16*r+2],u[16*r+3]),a(4,12,20,28,u[16*r+4],u[16*r+5]),a(6,14,22,30,u[16*r+6],u[16*r+7]),a(0,10,20,30,u[16*r+8],u[16*r+9]),a(2,12,22,24,u[16*r+10],u[16*r+11]),a(4,14,16,26,u[16*r+12],u[16*r+13]),a(6,8,18,28,u[16*r+14],u[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^f[r]^f[r+16]}const l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function p(e,t,r,n){if(0===e||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw new Error("Illegal personal, expected Uint8Array with length is 16");const i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};l.fill(0),l[0]=e,t&&(l[1]=t.length),l[2]=1,l[3]=1,r&&l.set(r,32),n&&l.set(n,48);for(let o=0;o<16;o++)i.h[o]=c[o]^s(l,4*o);return t&&(b(i,t),i.c=128),i}function b(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function m(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;d(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function g(e,t,r,i,o){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),o&&(o=n.normalizeInput(o));const s=p(r,t,i,o);return b(s,e),m(s)}e.exports={blake2b:g,blake2bHex:function(e,t,r,i,o){const s=g(e,t,r,i,o);return n.toHex(s)},blake2bInit:p,blake2bUpdate:b,blake2bFinal:m}},5297:function(e,t,r){const n=r(9488);function i(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function o(e,t,r,n,i,o){u[e]=u[e]+u[t]+i,u[n]=s(u[n]^u[e],16),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],12),u[e]=u[e]+u[t]+o,u[n]=s(u[n]^u[e],8),u[r]=u[r]+u[n],u[t]=s(u[t]^u[r],7)}function s(e,t){return e>>>t^e<<32-t}const a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),f=new Uint32Array(16);function h(e,t){let r=0;for(r=0;r<8;r++)u[r]=e.h[r],u[r+8]=a[r];for(u[12]^=e.t,u[13]^=e.t/4294967296,t&&(u[14]=~u[14]),r=0;r<16;r++)f[r]=i(e.b,4*r);for(r=0;r<10;r++)o(0,4,8,12,f[c[16*r+0]],f[c[16*r+1]]),o(1,5,9,13,f[c[16*r+2]],f[c[16*r+3]]),o(2,6,10,14,f[c[16*r+4]],f[c[16*r+5]]),o(3,7,11,15,f[c[16*r+6]],f[c[16*r+7]]),o(0,5,10,15,f[c[16*r+8]],f[c[16*r+9]]),o(1,6,11,12,f[c[16*r+10]],f[c[16*r+11]]),o(2,7,8,13,f[c[16*r+12]],f[c[16*r+13]]),o(3,4,9,14,f[c[16*r+14]],f[c[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=u[r]^u[r+8]}function d(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");const r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");const n={h:new Uint32Array(a),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(l(n,t),n.c=64),n}function l(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;h(e,!0);const t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function b(e,t,r){r=r||32,e=n.normalizeInput(e);const i=d(r,t);return l(i,e),p(i)}e.exports={blake2s:b,blake2sHex:function(e,t,r){const i=b(e,t,r);return n.toHex(i)},blake2sInit:d,blake2sUpdate:l,blake2sFinal:p}},1191:function(e,t,r){const n=r(8442),i=r(5297);e.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},9488:function(e){function t(e){return(4294967296+e).toString(16).substring(1)}e.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else{if("string"!==typeof e)throw new Error("Input must be an string, Buffer or Uint8Array");t=(new TextEncoder).encode(e)}return t},toHex:function(e){return Array.prototype.map.call(e,(function(e){return(e<16?"0":"")+e.toString(16)})).join("")},debugPrint:function(e,r,n){let i="\n"+e+" = ";for(let o=0;o<r.length;o+=2){if(32===n)i+=t(r[o]).toUpperCase(),i+=" ",i+=t(r[o+1]).toUpperCase();else{if(64!==n)throw new Error("Invalid size "+n);i+=t(r[o+1]).toUpperCase(),i+=t(r[o]).toUpperCase()}o%6===4?i+="\n"+new Array(e.length+4).join(" "):o<r.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=(new Date).getTime();const i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=s%256;const o=(new Date).getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let s=0;s<r;s++){const r=e(i),o=(new Date).getTime(),s=o-n;n=o,console.log("Hashed in "+s+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(s/1e3)*100)/100+" MB PER SECOND")}}}},3550:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(6601).Buffer}catch(T){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),c=t;c<a;c++){var u=e.charCodeAt(c)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,n(u>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(T){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?d[6-c.length]+c+r:c+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=l[e],f=p[e];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var b=h.modrn(f).toString(e);r=(h=h.idivn(f)).isZero()?b+r:d[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function b(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,h=67108863&c,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[l])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],h=8191&f,d=f>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],g=8191&m,y=m>>>13,w=0|s[3],v=8191&w,E=w>>>13,A=0|s[4],x=8191&A,M=A>>>13,S=0|s[5],k=8191&S,C=S>>>13,T=0|s[6],_=8191&T,I=T>>>13,B=0|s[7],O=8191&B,R=B>>>13,N=0|s[8],L=8191&N,P=N>>>13,U=0|s[9],D=8191&U,$=U>>>13,F=0|a[0],j=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,V=0|a[2],G=8191&V,J=V>>>13,Y=0|a[3],W=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],he=8191&fe,de=fe>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,j)|0))<<13)|0;u=((o=Math.imul(d,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(b,j)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,K)|0;var ye=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(v,j),i=(i=Math.imul(v,z))+Math.imul(E,j)|0,o=Math.imul(E,z),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,K)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,J)|0;var we=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,W)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,j),i=(i=Math.imul(x,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,K)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Z)|0;var ve=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,z))+Math.imul(C,j)|0,o=Math.imul(C,z),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var Ee=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(I,j)|0,o=Math.imul(I,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Ae=(u+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(R,j)|0,o=Math.imul(R,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var xe=(u+(n=n+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,K)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Me=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul($,j)|0,o=Math.imul($,z),n=n+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0;var Se=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul($,q)|0,o=Math.imul($,K),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var ke=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,J))+Math.imul($,G)|0,o=Math.imul($,J),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0;var Ce=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,Z))+Math.imul($,W)|0,o=Math.imul($,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,de)|0;var Te=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul($,Q)|0,o=Math.imul($,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(k,he)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,he)|0,o=o+Math.imul(C,de)|0;var _e=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,be)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul($,re)|0,o=Math.imul($,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Ie=(u+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul($,oe)|0,o=Math.imul($,se),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,de)|0;var Be=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul($,ce)|0,o=Math.imul($,ue),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,de)|0;var Oe=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul($,he)|0,o=Math.imul($,de);var Re=(u+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ne=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul($,pe)|0))<<13)|0;return u=((o=Math.imul($,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=we,c[4]=ve,c[5]=Ee,c[6]=Ae,c[7]=xe,c[8]=Me,c[9]=Se,c[10]=ke,c[11]=Ce,c[12]=Te,c[13]=_e,c[14]=Ie,c[15]=Be,c[16]=Oe,c[17]=Re,c[18]=Ne,0!==u&&(c[19]=u,r.length++),r};function g(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,h=(0|e.words[f])*(0|t.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function y(e,t,r){return g(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(m=b),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):r<63?b(this,e,t):r<1024?g(this,e,t):y(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},w.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=c,d=u,l=0;l<s;l++){var p=r[f+l],b=n[f+l],m=r[f+l+s],g=n[f+l+s],y=h*m-d*g;g=h*g+d*m,m=y,r[f+l]=p+m,n[f+l]=b+g,r[f+l+s]=p-m,n[f+l+s]=b-g,l!==a&&(y=c*h-u*d,d=c*d+u*h,h=y)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,h,n,i);for(var l=0;l<n;l++){var p=a[l]*f[l]-c[l]*h[l];c[l]=a[l]*h[l]+c[l]*f[l],a[l]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),y(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var h=0|this.words[u];this.words[u]=f<<26-o|h>>>o,f=h&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;0===(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0===(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0===(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(A,E),A.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(x,E),i(M,E),i(S,E),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new x;else if("p192"===e)t=new M;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return v[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var h=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var b=l,m=0;0!==b.cmp(a);m++)b=b.redSqr();n(m<p);var g=this.pow(h,new o(1).iushln(p-m-1));d=d.redMul(g),h=g.redSqr(),l=l.redMul(h),p=m}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var h=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},i(C,k),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},9931:function(e,t,r){var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=r(9214);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(s){}},5456:function(e){"use strict";e.exports=function e(t){if("number"===typeof t&&isNaN(t))throw new Error("NaN is not allowed");if("number"===typeof t&&!isFinite(t))throw new Error("Infinity is not allowed");if(null===t||"object"!==typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){return`[${t.reduce(((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"===typeof r?null:r)}`),"")}]`}return`{${Object.keys(t).sort().reduce(((r,n)=>{if(void 0===t[n]||"symbol"===typeof t[n])return r;return`${r}${0===r.length?"":","}${e(n)}:${e(t[n])}`}),"")}}`}},1227:function(e,t,r){var n=r(3454);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(r){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(r){}!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:function(e,t,r){e.exports=function(e){function t(e){let r,i,o,s=null;function a(...e){if(!a.enabled)return;const n=a,i=Number(new Date),o=i-(r||i);n.diff=o,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!==typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const o=t.formatters[i];if("function"===typeof o){const t=e[s];r=o.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"===typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+("undefined"===typeof r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"===typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},544:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getEthTypesFromInputDocEthers=t.getEthTypesFromInputDoc=void 0;var i=r(3222);function o(e,t){var r=new Map,n=new Array,s=JSON.parse((0,i.canonicalize)(e));for(var a in s){var c=s[a],u=typeof c;if("boolean"===u)n.push({name:a,type:"bool"});else if("number"===u||"bigint"===u)n.push({name:a,type:"uint256"});else if("string"===u)n.push({name:a,type:"string"});else{if("object"!==u)throw new Error("Bad Type Found in Input Document");if(Array.isArray(c)){if(0===c.length)throw new Error("Array with length 0 found");var f=typeof c[0];if("boolean"!==f&&"number"!==f&&"string"!==f)throw new Error("Array with elements of unknown type found");for(var h in c)if(typeof h!==f)throw new Error("Array with different types found");"boolean"===f?n.push({name:a,type:"bool[]"}):"number"===f?n.push({name:a,type:"number[]"}):"string"===f&&n.push({name:a,type:"string[]"})}else{var d=o(c,t),l=d.get(t),p=a.charAt(0).toUpperCase()+a.substring(1);for(var b in n.push({name:a,type:p}),r.set(p,l),d)b!==t&&r.set(b,d.get(b))}}}return r.set(t,n),r}t.getEthTypesFromInputDoc=function(e,t){void 0===t&&(t="Document");var r=o(e,t);if(!r.has("Proof"))throw new Error("No proof was found on input document");var i=Object.fromEntries(r);return i=n({EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"}]},i)},t.getEthTypesFromInputDocEthers=function(e,t){void 0===t&&(t="Document");var r=o(e,t);if(!r.has("Proof"))throw new Error("No proof was found on input document");return Object.fromEntries(r)}},4516:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(544),t)},6266:function(e,t,r){"use strict";var n=t;n.version=r(8597).i8,n.utils=r(953),n.rand=r(9931),n.curve=r(8254),n.curves=r(5427),n.ec=r(7954),n.eddsa=r(5980)},4918:function(e,t,r){"use strict";var n=r(3785),i=r(953),o=i.getNAF,s=i.getJSF,a=i.assert;function c(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s,c,u=[];for(s=0;s<n.length;s+=r.step){c=0;for(var f=s+r.step-1;f>=s;f--)c=(c<<1)+n[f];u.push(c)}for(var h=this.jpoint(null,null,null),d=this.jpoint(null,null,null),l=i;l>0;l--){for(s=0;s<u.length;s++)(c=u[s])===l?d=d.mixedAdd(r.points[s]):c===-l&&(d=d.mixedAdd(r.points[s].neg()));h=h.add(d)}return h.toP()},c.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),c=this.jpoint(null,null,null),u=s.length-1;u>=0;u--){for(var f=0;u>=0&&0===s[u];u--)f++;if(u>=0&&f++,c=c.dblp(f),u<0)break;var h=s[u];a(0!==h),c="affine"===e.type?h>0?c.mixedAdd(i[h-1>>1]):c.mixedAdd(i[-h-1>>1].neg()):h>0?c.add(i[h-1>>1]):c.add(i[-h-1>>1].neg())}return"affine"===e.type?c.toP():c},c.prototype._wnafMulAdd=function(e,t,r,n,i){var a,c,u,f=this._wnafT1,h=this._wnafT2,d=this._wnafT3,l=0;for(a=0;a<n;a++){var p=(u=t[a])._getNAFPoints(e);f[a]=p.wnd,h[a]=p.points}for(a=n-1;a>=1;a-=2){var b=a-1,m=a;if(1===f[b]&&1===f[m]){var g=[t[b],null,null,t[m]];0===t[b].y.cmp(t[m].y)?(g[1]=t[b].add(t[m]),g[2]=t[b].toJ().mixedAdd(t[m].neg())):0===t[b].y.cmp(t[m].y.redNeg())?(g[1]=t[b].toJ().mixedAdd(t[m]),g[2]=t[b].add(t[m].neg())):(g[1]=t[b].toJ().mixedAdd(t[m]),g[2]=t[b].toJ().mixedAdd(t[m].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],w=s(r[b],r[m]);for(l=Math.max(w[0].length,l),d[b]=new Array(l),d[m]=new Array(l),c=0;c<l;c++){var v=0|w[0][c],E=0|w[1][c];d[b][c]=y[3*(v+1)+(E+1)],d[m][c]=0,h[b]=g}}else d[b]=o(r[b],f[b],this._bitLength),d[m]=o(r[m],f[m],this._bitLength),l=Math.max(d[b].length,l),l=Math.max(d[m].length,l)}var A=this.jpoint(null,null,null),x=this._wnafT4;for(a=l;a>=0;a--){for(var M=0;a>=0;){var S=!0;for(c=0;c<n;c++)x[c]=0|d[c][a],0!==x[c]&&(S=!1);if(!S)break;M++,a--}if(a>=0&&M++,A=A.dblp(M),a<0)break;for(c=0;c<n;c++){var k=x[c];0!==k&&(k>0?u=h[c][k-1>>1]:k<0&&(u=h[c][-k-1>>1].neg()),A="affine"===u.type?A.mixedAdd(u):A.add(u))}}for(a=0;a<n;a++)h[a]=null;return i?A:A.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(e){return this.encode(e,!0)},u.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},u.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},u.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},u.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},u.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},u.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},1138:function(e,t,r){"use strict";var n=r(953),i=r(3785),o=r(5717),s=r(4918),a=n.assert;function c(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function u(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,s),e.exports=c,c.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)},c.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),c=i.redMul(s),u=o.redMul(a),f=i.redMul(a),h=s.redMul(o);return this.curve.point(c,u,h,f)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(c);this.zOne?(e=s.redSub(a).redSub(c).redMul(u.redSub(this.curve.two)),t=u.redMul(n.redSub(c)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),o=u.redSub(i).redISub(i),e=s.redSub(a).redISub(c).redMul(o),t=u.redMul(n.redSub(c)),r=u.redMul(o))}else n=a.redAdd(c),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(c)),r=n.redMul(o);return this.curve.point(e,t,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),c=r.redAdd(t),u=o.redMul(s),f=a.redMul(c),h=o.redMul(c),d=s.redMul(a);return this.curve.point(u,f,d,h)},u.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),c=i.redSub(a),u=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),h=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(o))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(o)),r=this.curve._mulC(c).redMul(u)),this.curve.point(h,t,r)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},8254:function(e,t,r){"use strict";var n=t;n.base=r(4918),n.short=r(6673),n.mont=r(2881),n.edwards=r(1138)},2881:function(e,t,r){"use strict";var n=r(3785),i=r(5717),o=r(4918),s=r(953);function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),c=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,c)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},6673:function(e,t,r){"use strict";var n=r(953),i=r(3785),o=r(5717),s=r(4918),a=n.assert;function c(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,s),e.exports=c,c.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},c.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,c,u,f,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,l=this.n.clone(),p=new i(1),b=new i(0),m=new i(0),g=new i(1),y=0;0!==d.cmpn(0);){var w=l.div(d);u=l.sub(w.mul(d)),f=m.sub(w.mul(p));var v=g.sub(w.mul(b));if(!n&&u.cmp(h)<0)t=c.neg(),r=p,n=u.neg(),o=f;else if(n&&2===++y)break;c=u,l=d,d=u,m=p,p=f,g=b,b=v}s=u.neg(),a=f;var E=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(E)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},c.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},c.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},c.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},o(u,s.BasePoint),c.prototype.point=function(e,t,r){return new u(this,e,t,r)},c.prototype.pointFromJSON=function(e,t){return u.fromJSON(this,e,t)},u.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},u.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),c.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),h=n.redMul(u),d=c.redSqr().redIAdd(f).redISub(h).redISub(h),l=c.redMul(h.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),h=a.redSqr().redIAdd(u).redISub(f).redISub(f),d=a.redMul(f.redISub(h)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),h=u.redSqr(),d=h.redSqr(),l=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),g=l.redMul(m);g=g.redIAdd(g).redISub(d);var y=u.redMul(a);t+1<e&&(c=c.redMul(d)),o=b,a=y,u=g}return this.curve.jpoint(o,u.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(f).redISub(d);l=l.redIAdd(l);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(f).redMul(this.x.redAdd(f));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,l,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(a).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},5427:function(e,t,r){"use strict";var n,i=t,o=r(3715),s=r(8254),a=r(953).assert;function c(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new c(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(1037)}catch(f){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7954:function(e,t,r){"use strict";var n=r(3785),i=r(2156),o=r(953),s=r(5427),a=r(9931),c=o.assert,u=r(1251),f=r(611);function h(e){if(!(this instanceof h))return new h(e);"string"===typeof e&&(c(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=h,h.prototype.keyPair=function(e){return new u(this,e)},h.prototype.keyFromPrivate=function(e,t){return u.fromPrivate(this,e,t)},h.prototype.keyFromPublic=function(e,t){return u.fromPublic(this,e,t)},h.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},h.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},h.prototype.sign=function(e,t,r,o){"object"===typeof r&&(o=r,r=null),o||(o={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new n(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),c=e.toArray("be",s),u=new i({hash:this.hash,entropy:a,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),h=this.n.sub(new n(1)),d=0;;d++){var l=o.k?o.k(d):new n(u.generate(this.n.byteLength()));if(!((l=this._truncateToN(l,!0)).cmpn(1)<=0||l.cmp(h)>=0)){var p=this.g.mul(l);if(!p.isInfinity()){var b=p.getX(),m=b.umod(this.n);if(0!==m.cmpn(0)){var g=l.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==b.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new f({r:m,s:g,recoveryParam:y})}}}}}},h.prototype.verify=function(e,t,r,i){e=this._truncateToN(new n(e,16)),r=this.keyFromPublic(r,i);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,c=s.invm(this.n),u=c.mul(e).umod(this.n),h=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),h)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(u,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},h.prototype.recoverPubKey=function(e,t,r,i){c((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,u=t.s,h=1&r,d=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");a=d?this.curve.pointFromX(a.add(this.curve.n),h):this.curve.pointFromX(a,h);var l=t.r.invm(o),p=o.sub(s).mul(l).umod(o),b=u.mul(l).umod(o);return this.g.mulAdd(p,a,b)},h.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1251:function(e,t,r){"use strict";var n=r(3785),i=r(953).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},611:function(e,t,r){"use strict";var n=r(3785),i=r(953),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=c(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=c(e,r);if(!1===s)return!1;var u=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=c(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;var h=e.slice(r.place,f+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===h[0]){if(!(128&h[1]))return!1;h=h.slice(1)}return this.r=new n(u),this.s=new n(h),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},5980:function(e,t,r){"use strict";var n=r(3715),i=r(5427),o=r(953),s=o.assert,a=o.parseBytes,c=r(9087),u=r(3622);function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),c=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},f.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},9087:function(e,t,r){"use strict";var n=r(953),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},3622:function(e,t,r){"use strict";var n=r(3785),i=r(953),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function c(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=c},1037:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},953:function(e,t,r){"use strict";var n=t,i=r(3785),o=r(9746),s=r(4504);n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0===(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},3785:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(5568).Buffer}catch(S){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function c(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function u(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=c(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,c=0,f=r;f<a;f+=n)c=u(e,f,f+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){var h=1;for(c=u(e,f,e.length,t),f=0;f<s;f++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function l(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,c=s/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var f=c>>>26,h=67108863&c,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[l])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],c=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?f[6-c.length]+c+r:c+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var u=h[e],l=d[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var b=p.modn(l).toString(e);r=(p=p.idivn(l)).isZero()?b+r:f[u-b.length]+b+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,c="le"===t,u=new e(o),f=this.clone();if(c){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[a]=s;for(;a<o;a++)u[a]=0}else{for(a=0;a<o-i;a++)u[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),u[o-a-1]=s}return u},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,c=r.words,u=0,f=0|s[0],h=8191&f,d=f>>>13,l=0|s[1],p=8191&l,b=l>>>13,m=0|s[2],g=8191&m,y=m>>>13,w=0|s[3],v=8191&w,E=w>>>13,A=0|s[4],x=8191&A,M=A>>>13,S=0|s[5],k=8191&S,C=S>>>13,T=0|s[6],_=8191&T,I=T>>>13,B=0|s[7],O=8191&B,R=B>>>13,N=0|s[8],L=8191&N,P=N>>>13,U=0|s[9],D=8191&U,$=U>>>13,F=0|a[0],j=8191&F,z=F>>>13,H=0|a[1],q=8191&H,K=H>>>13,V=0|a[2],G=8191&V,J=V>>>13,Y=0|a[3],W=8191&Y,Z=Y>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ce=8191&ae,ue=ae>>>13,fe=0|a[8],he=8191&fe,de=fe>>>13,le=0|a[9],pe=8191&le,be=le>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(u+(n=Math.imul(h,j))|0)+((8191&(i=(i=Math.imul(h,z))+Math.imul(d,j)|0))<<13)|0;u=((o=Math.imul(d,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(b,j)|0,o=Math.imul(b,z);var ge=(u+(n=n+Math.imul(h,q)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(d,q)|0))<<13)|0;u=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,j),i=(i=Math.imul(g,z))+Math.imul(y,j)|0,o=Math.imul(y,z),n=n+Math.imul(p,q)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,K)|0;var ye=(u+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(d,G)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(v,j),i=(i=Math.imul(v,z))+Math.imul(E,j)|0,o=Math.imul(E,z),n=n+Math.imul(g,q)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,K)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(b,G)|0,o=o+Math.imul(b,J)|0;var we=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(d,W)|0))<<13)|0;u=((o=o+Math.imul(d,Z)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,j),i=(i=Math.imul(x,z))+Math.imul(M,j)|0,o=Math.imul(M,z),n=n+Math.imul(v,q)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,K)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Z)|0;var ve=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,j),i=(i=Math.imul(k,z))+Math.imul(C,j)|0,o=Math.imul(C,z),n=n+Math.imul(x,q)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,K)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,J)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,J)|0,n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0;var Ee=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((o=o+Math.imul(d,ne)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(I,j)|0,o=Math.imul(I,z),n=n+Math.imul(k,q)|0,i=(i=i+Math.imul(k,K)|0)+Math.imul(C,q)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,J)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,J)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,Z)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0;var Ae=(u+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(d,oe)|0))<<13)|0;u=((o=o+Math.imul(d,se)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(O,j),i=(i=Math.imul(O,z))+Math.imul(R,j)|0,o=Math.imul(R,z),n=n+Math.imul(_,q)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,K)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,J)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(y,re)|0,o=o+Math.imul(y,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0;var xe=(u+(n=n+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((o=o+Math.imul(d,ue)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(P,j)|0,o=Math.imul(P,z),n=n+Math.imul(O,q)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(R,q)|0,o=o+Math.imul(R,K)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,J)|0,n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(E,re)|0,o=o+Math.imul(E,ne)|0,n=n+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(b,ce)|0,o=o+Math.imul(b,ue)|0;var Me=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,de)|0)+Math.imul(d,he)|0))<<13)|0;u=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(D,j),i=(i=Math.imul(D,z))+Math.imul($,j)|0,o=Math.imul($,z),n=n+Math.imul(L,q)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(P,q)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,J)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(M,re)|0,o=o+Math.imul(M,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(y,ce)|0,o=o+Math.imul(y,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,de)|0;var Se=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,be)|0)+Math.imul(d,pe)|0))<<13)|0;u=((o=o+Math.imul(d,be)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(D,q),i=(i=Math.imul(D,K))+Math.imul($,q)|0,o=Math.imul($,K),n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(O,W)|0,i=(i=i+Math.imul(O,Z)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,se)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(E,ce)|0,o=o+Math.imul(E,ue)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,he)|0,o=o+Math.imul(y,de)|0;var ke=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,be)|0)+Math.imul(b,pe)|0))<<13)|0;u=((o=o+Math.imul(b,be)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,J))+Math.imul($,G)|0,o=Math.imul($,J),n=n+Math.imul(L,W)|0,i=(i=i+Math.imul(L,Z)|0)+Math.imul(P,W)|0,o=o+Math.imul(P,Z)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(_,re)|0,i=(i=i+Math.imul(_,ne)|0)+Math.imul(I,re)|0,o=o+Math.imul(I,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(M,ce)|0,o=o+Math.imul(M,ue)|0,n=n+Math.imul(v,he)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,de)|0;var Ce=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,be)|0)+Math.imul(y,pe)|0))<<13)|0;u=((o=o+Math.imul(y,be)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,Z))+Math.imul($,W)|0,o=Math.imul($,Z),n=n+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,se)|0,n=n+Math.imul(k,ce)|0,i=(i=i+Math.imul(k,ue)|0)+Math.imul(C,ce)|0,o=o+Math.imul(C,ue)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(M,he)|0,o=o+Math.imul(M,de)|0;var Te=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,be)|0)+Math.imul(E,pe)|0))<<13)|0;u=((o=o+Math.imul(E,be)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul($,Q)|0,o=Math.imul($,ee),n=n+Math.imul(L,re)|0,i=(i=i+Math.imul(L,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(_,ce)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(I,ce)|0,o=o+Math.imul(I,ue)|0,n=n+Math.imul(k,he)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(C,he)|0,o=o+Math.imul(C,de)|0;var _e=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,be)|0)+Math.imul(M,pe)|0))<<13)|0;u=((o=o+Math.imul(M,be)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(D,re),i=(i=Math.imul(D,ne))+Math.imul($,re)|0,o=Math.imul($,ne),n=n+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(O,ce)|0,i=(i=i+Math.imul(O,ue)|0)+Math.imul(R,ce)|0,o=o+Math.imul(R,ue)|0,n=n+Math.imul(_,he)|0,i=(i=i+Math.imul(_,de)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,de)|0;var Ie=(u+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,be)|0)+Math.imul(C,pe)|0))<<13)|0;u=((o=o+Math.imul(C,be)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul($,oe)|0,o=Math.imul($,se),n=n+Math.imul(L,ce)|0,i=(i=i+Math.imul(L,ue)|0)+Math.imul(P,ce)|0,o=o+Math.imul(P,ue)|0,n=n+Math.imul(O,he)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(R,he)|0,o=o+Math.imul(R,de)|0;var Be=(u+(n=n+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,be)|0)+Math.imul(I,pe)|0))<<13)|0;u=((o=o+Math.imul(I,be)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(D,ce),i=(i=Math.imul(D,ue))+Math.imul($,ce)|0,o=Math.imul($,ue),n=n+Math.imul(L,he)|0,i=(i=i+Math.imul(L,de)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,de)|0;var Oe=(u+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,be)|0)+Math.imul(R,pe)|0))<<13)|0;u=((o=o+Math.imul(R,be)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(D,he),i=(i=Math.imul(D,de))+Math.imul($,he)|0,o=Math.imul($,de);var Re=(u+(n=n+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,be)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,be)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ne=(u+(n=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,be))+Math.imul($,pe)|0))<<13)|0;return u=((o=Math.imul($,be))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,c[0]=me,c[1]=ge,c[2]=ye,c[3]=we,c[4]=ve,c[5]=Ee,c[6]=Ae,c[7]=xe,c[8]=Me,c[9]=Se,c[10]=ke,c[11]=Ce,c[12]=Te,c[13]=_e,c[14]=Ie,c[15]=Be,c[16]=Oe,c[17]=Re,c[18]=Ne,0!==u&&(c[19]=u,r.length++),r};function b(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=l),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?l(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var f=o-u,h=(0|e.words[f])*(0|t.words[u]),d=67108863&h;a=67108863&(d=d+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):b(this,e,t),r},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var h=c,d=u,l=0;l<s;l++){var p=r[f+l],b=n[f+l],m=r[f+l+s],g=n[f+l+s],y=h*m-d*g;g=h*g+d*m,m=y,r[f+l]=p+m,n[f+l]=b+g,r[f+l+s]=p-m,n[f+l+s]=b-g,l!==a&&(y=c*h-u*d,d=c*d+u*h,h=y)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),h=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,f,h,n,i);for(var l=0;l<n;l++){var p=a[l]*f[l]-c[l]*h[l];c[l]=a[l]*h[l]+c[l]*f[l],a[l]=p}return this.conjugate(a,c,n),this.transform(a,c,d,o,n,i),this.conjugate(d,o,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,c=(0|this.words[t])-a<<r;this.words[t]=c|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,c=r;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var h=0|this.words[u];this.words[u]=f<<26-o|h>>>o,f=h&a}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var c=(0|e.words[i])*t;a=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,c=n.length-i.length;if("mod"!==t){(a=new o(null)).length=c+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var f=n.clone()._ishlnsubmul(i,1,c);0===f.negative&&(n=f,a&&(a.words[c]=1));for(var h=c-1;h>=0;h--){var d=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(i,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=d)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),c=new o(1),u=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++u;for(var f=r.clone(),h=t.clone();!t.isZero();){for(var d=0,l=1;0===(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,b=1;0===(r.words[0]&b)&&p<26;++p,b<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||c.isOdd())&&(a.iadd(f),c.isub(h)),a.iushrn(1),c.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(c)):(r.isub(t),a.isub(i),c.isub(s))}return{a:a,b:c,gcd:r.iushln(u)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),c=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,f=1;0===(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,d=1;0===(r.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new x(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var g={k256:null,p224:null,p192:null,p25519:null};function y(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function M(e){x.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},y.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},y.prototype.split=function(e,t){e.iushrn(this.n,0,t)},y.prototype.imulK=function(e){return e.imul(this.k)},i(w,y),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,y),i(E,y),i(A,y),A.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(g[e])return g[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return g[e]=t,t},x.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},x.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},x.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},x.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},x.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},x.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},x.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},x.prototype.isqr=function(e){return this.imul(e,e.clone())},x.prototype.sqr=function(e){return this.mul(e,e)},x.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),c=a.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var h=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),l=this.pow(e,i),p=s;0!==l.cmp(a);){for(var b=l,m=0;0!==b.cmp(a);m++)b=b.redSqr();n(m<p);var g=this.pow(h,new o(1).iushln(p-m-1));d=d.redMul(g),h=g.redSqr(),l=l.redMul(h),p=m}return d},x.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var h=u>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}c=26}return i},x.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},x.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new M(e)},i(M,x),M.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},M.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},M.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},5035:function(e){"use strict";e.exports=function(e,t){t||(t={}),"function"===typeof t&&(t={cmp:t});var r,n="boolean"===typeof t.cycles&&t.cycles,i=t.cmp&&(r=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},o={key:n,value:e[n]};return r(i,o)}}),o=[];return function e(t){if(t&&t.toJSON&&"function"===typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!==typeof t)return JSON.stringify(t);var r,s;if(Array.isArray(t)){for(s="[",r=0;r<t.length;r++)r&&(s+=","),s+=e(t[r])||"null";return s+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=o.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(s="",r=0;r<c.length;r++){var u=c[r],f=e(t[u]);f&&(s&&(s+=","),s+=JSON.stringify(u)+":"+f)}return o.splice(a,1),"{"+s+"}"}}(e)}},3715:function(e,t,r){var n=t;n.utils=r(6436),n.common=r(5772),n.sha=r(9041),n.ripemd=r(2949),n.hmac=r(2344),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},5772:function(e,t,r){"use strict";var n=r(6436),i=r(9746);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},2344:function(e,t,r){"use strict";var n=r(6436),i=r(9746);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},2949:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=n.rotl32,s=n.sum32,a=n.sum32_3,c=n.sum32_4,u=i.BlockHash;function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function l(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,u),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],f=this.h[4],y=r,w=n,v=i,E=u,A=f,x=0;x<80;x++){var M=s(o(c(r,h(x,n,i,u),e[p[x]+t],d(x)),m[x]),f);r=f,f=u,u=o(i,10),i=n,n=M,M=s(o(c(y,h(79-x,w,v,E),e[b[x]+t],l(x)),g[x]),A),y=A,A=E,E=o(v,10),v=w,w=M}M=a(this.h[1],i,E),this.h[1]=a(this.h[2],u,A),this.h[2]=a(this.h[3],f,y),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],n,v),this.h[0]=M},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9041:function(e,t,r){"use strict";t.sha1=r(4761),t.sha224=r(799),t.sha256=r(9344),t.sha384=r(772),t.sha512=r(5900)},4761:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(7038),s=n.rotl32,a=n.sum32,c=n.sum32_5,u=o.ft_1,f=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,f),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),b=c(s(i,5),u(p,o,f,d),l,r[n],h[p]);l=d,d=f,f=s(o,30),o=i,i=b}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],l)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},799:function(e,t,r){"use strict";var n=r(6436),i=r(9344);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},9344:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(7038),s=r(9746),a=n.sum32,c=n.sum32_4,u=n.sum32_5,f=o.ch32,h=o.maj32,d=o.s0_256,l=o.s1_256,p=o.g0_256,b=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}n.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(b(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],w=this.h[5],v=this.h[6],E=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var A=u(E,l(y),f(y,w,v),this.k[n],r[n]),x=a(d(i),h(i,o,m));E=v,v=w,w=y,y=a(g,A),g=m,m=o,o=i,i=a(A,x)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],g),this.h[4]=a(this.h[4],y),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],E)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},772:function(e,t,r){"use strict";var n=r(6436),i=r(5900);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},5900:function(e,t,r){"use strict";var n=r(6436),i=r(5772),o=r(9746),s=n.rotr64_hi,a=n.rotr64_lo,c=n.shr64_hi,u=n.shr64_lo,f=n.sum64,h=n.sum64_hi,d=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,b=n.sum64_5_hi,m=n.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function v(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function A(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function x(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function M(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,1)^s(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function _(e,t){var r=a(e,t,1)^a(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,19)^s(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,19)^a(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(w,g),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=I(r[n-4],r[n-3]),o=B(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=T(r[n-30],r[n-29]),u=_(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=l(i,o,s,a,c,u,f,h),r[n+1]=p(i,o,s,a,c,u,f,h)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],w=this.h[10],T=this.h[11],_=this.h[12],I=this.h[13],B=this.h[14],O=this.h[15];o(this.k.length===r.length);for(var R=0;R<r.length;R+=2){var N=B,L=O,P=k(g,y),U=C(g,y),D=v(g,y,w,T,_),$=E(g,y,w,T,_,I),F=this.k[R],j=this.k[R+1],z=r[R],H=r[R+1],q=b(N,L,P,U,D,$,F,j,z,H),K=m(N,L,P,U,D,$,F,j,z,H);N=M(n,i),L=S(n,i),P=A(n,i,s,a,c),U=x(n,i,s,a,c,u);var V=h(N,L,P,U),G=d(N,L,P,U);B=_,O=I,_=w,I=T,w=g,T=y,g=h(l,p,q,K),y=d(p,p,q,K),l=c,p=u,c=s,u=a,s=n,a=i,n=h(q,K,V,G),i=d(q,K,V,G)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,c,u),f(this.h,6,l,p),f(this.h,8,g,y),f(this.h,10,w,T),f(this.h,12,_,I),f(this.h,14,B,O)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7038:function(e,t,r){"use strict";var n=r(6436).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},6436:function(e,t,r){"use strict";var n=r(9746),i=r(5717);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=c(i.toString(16))}return r},t.zero2=a,t.zero8=c,t.join32=function(e,t,r,i){var o=r-t;n(o%4===0);for(var s=new Array(o/4),a=0,c=t;a<s.length;a++,c+=4){var u;u="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],s[a]=u>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+o>>>0)<o?1:0,e+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var f=0,h=t;return f+=(h=h+n>>>0)<t?1:0,f+=(h=h+o>>>0)<o?1:0,f+=(h=h+a>>>0)<a?1:0,e+r+i+s+c+(f+=(h=h+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},2156:function(e,t,r){"use strict";var n=r(3715),i=r(4504),o=r(9746);function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},8679:function(e,t,r){"use strict";var n=r(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function c(e){return n.isMemo(e)?s:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=s;var u=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(p){var i=l(r);i&&i!==p&&e(t,i,n)}var s=f(r);h&&(s=s.concat(h(r)));for(var a=c(t),b=c(r),m=0;m<s.length;++m){var g=s[m];if(!o[g]&&(!n||!n[g])&&(!b||!b[g])&&(!a||!a[g])){var y=d(r,g);try{u(t,g,y)}catch(w){}}}}return t}},5717:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1094:function(e,t,r){var n,i=r(3454);!function(){"use strict";var o="input is invalid type",s="object"===typeof window,a=s?window:{};a.JS_SHA3_NO_WINDOW&&(s=!1);var c=!s&&"object"===typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"===typeof i&&i.versions&&i.versions.node?a=r.g:c&&(a=self);var u=!a.JS_SHA3_NO_COMMON_JS&&e.exports,f=r.amdO,h=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),l=[4,1024,262144,67108864],p=[0,8,16,24],b=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!a.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new L(e,t,e).update(n)[r]()}},E=function(e,t,r){return function(n,i){return new L(e,t,i).update(n)[r]()}},A=function(e,t,r){return function(t,n,i,o){return C["cshake"+e].update(t,n,i,o)[r]()}},x=function(e,t,r){return function(t,n,i,o){return C["kmac"+e].update(t,n,i,o)[r]()}},M=function(e,t,r,n){for(var i=0;i<y.length;++i){var o=y[i];e[o]=t(r,n,o)}return e},S=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new L(e,t,e)},r.update=function(e){return r.create().update(e)},M(r,v,e,t)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=E(e,t,"hex");return r.create=function(r){return new L(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},M(r,E,e,t)}},{name:"cshake",padding:l,bits:g,createMethod:function(e,t){var r=w[e],n=A(e,0,"hex");return n.create=function(n,i,o){return i||o?new L(e,t,n).bytepad([i,o],r):C["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},M(n,A,e,t)}},{name:"kmac",padding:l,bits:g,createMethod:function(e,t){var r=w[e],n=x(e,0,"hex");return n.create=function(n,i,o){return new P(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},M(n,x,e,t)}}],C={},T=[],_=0;_<k.length;++_)for(var I=k[_],B=I.bits,O=0;O<B.length;++O){var R=I.name+"_"+B[O];if(T.push(R),C[R]=I.createMethod(B[O],I.padding),"sha3"!==I.name){var N=I.name+B[O];T.push(N),C[N]=C[R]}}function L(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function P(e,t,r){L.call(this,e,t,r)}L.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var n,i,s=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,f=0,d=this.s;f<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<u+1;++n)s[n]=0;if(t)for(n=this.start;f<c&&n<a;++f)s[n>>2]|=e[f]<<p[3&n++];else for(n=this.start;f<c&&n<a;++f)(i=e.charCodeAt(f))<128?s[n>>2]|=i<<p[3&n++]:i<2048?(s[n>>2]|=(192|i>>6)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):i<55296||i>=57344?(s[n>>2]|=(224|i>>12)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++f)),s[n>>2]|=(240|i>>18)<<p[3&n++],s[n>>2]|=(128|i>>12&63)<<p[3&n++],s[n>>2]|=(128|i>>6&63)<<p[3&n++],s[n>>2]|=(128|63&i)<<p[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[u],n=0;n<u;++n)d[n]^=s[n];U(d),this.reset=!0}else this.start=n}return this},L.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},L.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(o);if(null===e)throw new Error(o);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}var n=0,i=e.length;if(t)n=i;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},L.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];U(n)}},L.prototype.toString=L.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(U(r),o=0)}return i&&(e=r[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},L.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t===0&&U(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},L.prototype.buffer=L.prototype.arrayBuffer,L.prototype.digest=L.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r===0&&U(n)}return o&&(e=a<<2,t=n[s],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},P.prototype=new L,P.prototype.finalize=function(){return this.encode(this.outputBits,!0),L.prototype.finalize.call(this)};var U=function(e){var t,r,n,i,o,s,a,c,u,f,h,d,l,p,m,g,y,w,v,E,A,x,M,S,k,C,T,_,I,B,O,R,N,L,P,U,D,$,F,j,z,H,q,K,V,G,J,Y,W,Z,X,Q,ee,te,re,ne,ie,oe,se,ae,ce,ue,fe;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],f=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(l=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(f<<1|h>>>31),r=a^(h<<1|f>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(d<<1|l>>>31),r=u^(l<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=f^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],m=e[1],G=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,P=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,W=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,fe=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,w=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,$=e[26]<<25|e[27]>>>7,F=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,j=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,M=e[49]<<14|e[48]>>>18,e[0]=p^~g&w,e[1]=m^~y&v,e[10]=S^~C&_,e[11]=k^~T&I,e[20]=L^~U&$,e[21]=P^~D&F,e[30]=K^~G&Y,e[31]=V^~J&W,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=g^~w&E,e[3]=y^~v&A,e[12]=C^~_&B,e[13]=T^~I&O,e[22]=U^~$&j,e[23]=D^~F&z,e[32]=G^~Y&Z,e[33]=J^~W&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=w^~E&x,e[5]=v^~A&M,e[14]=_^~B&R,e[15]=I^~O&N,e[24]=$^~j&H,e[25]=F^~z&q,e[34]=Y^~Z&Q,e[35]=W^~X&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&fe,e[6]=E^~x&p,e[7]=A^~M&m,e[16]=B^~R&S,e[17]=O^~N&k,e[26]=j^~H&L,e[27]=z^~q&P,e[36]=Z^~Q&K,e[37]=X^~ee&V,e[46]=ae^~ue&te,e[47]=ce^~fe&re,e[8]=x^~p&g,e[9]=M^~m&y,e[18]=R^~S&C,e[19]=N^~k&T,e[28]=H^~L&U,e[29]=q^~P&D,e[38]=Q^~K&G,e[39]=ee^~V&J,e[48]=ue^~te&ne,e[49]=fe^~re&ie,e[0]^=b[n],e[1]^=b[n+1]};if(u)e.exports=C;else{for(_=0;_<T.length;++_)a[T[_]]=C[T[_]];f&&(void 0===(n=function(){return C}.call(t,r,t,e))||(e.exports=n))}}()},3222:function(e,t,r){"use strict";function n(e){var t="";return r(e),t;function r(e){if(null===e||"object"!==typeof e||null!=e.toJSON)t+=JSON.stringify(e);else if(Array.isArray(e)){t+="[";var n=!1;e.forEach((function(e){n&&(t+=","),n=!0,void 0===e&&(e=null),r(e)})),t+="]"}else{t+="{",Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().forEach((function(n,i){return function(e,n,i){i>0&&(t+=",");t+=JSON.stringify(n),t+=":",r(e[n])}(e,n,i)})),t+="}"}}}function i(e,t){var r="",n=t&&t.include,i=t&&t.exclude;return i&&"string"===typeof i&&(i=[i]),n&&n.sort(),o(e),r;function o(e,t){if(null===e||"object"!==typeof e||null!=e.toJSON)r+=JSON.stringify(e);else if(Array.isArray(e)){r+="[";var i=!1;e.forEach((function(t){i&&(r+=","),i=!0,o(t,e)})),r+="]"}else{if(r+="{",!t&&n)n.forEach((function(t,r){e.hasOwnProperty(t)&&s(e,t,r)}));else Object.keys(e).sort().forEach((function(t,r){return s(e,t,r)}));r+="}"}}function s(e,t,n){if(i&&i.length)for(var s=0,a=i;s<a.length;s++){if(a[s]===t)return}n>0&&(r+=","),r+=JSON.stringify(t),r+=":",o(e[t],e)}}r.r(t),r.d(t,{canonicalize:function(){return n},canonicalizeEx:function(){return i}})},9746:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},4504:function(e,t){"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},7824:function(e){var t=1e3,r=60*t,n=60*r,i=24*n,o=7*i,s=365.25*i;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a)return;var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var o=Math.abs(e);if(o>=i)return a(e,o,i,"day");if(o>=n)return a(e,o,n,"hour");if(o>=r)return a(e,o,r,"minute");if(o>=t)return a(e,o,t,"second");return e+" ms"}(e):function(e){var o=Math.abs(e);if(o>=i)return Math.round(e/i)+"d";if(o>=n)return Math.round(e/n)+"h";if(o>=r)return Math.round(e/r)+"m";if(o>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3454:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"===typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(7663)},1876:function(e){!function(){var t={449:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=c(e),s=o[0],a=o[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),f=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(f(e,a,a+s>c?c:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function f(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(u(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},877:function(e,t,r){"use strict";var n=r(449),i=r(543),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|b(e,t),n=a(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return d(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(z(e,ArrayBuffer)||e&&z(e.buffer,ArrayBuffer))return l(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(z(e,SharedArrayBuffer)||e&&z(e.buffer,SharedArrayBuffer)))return l(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);var i=function(e){if(c.isBuffer(e)){var t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||H(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),a(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function b(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return _(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){var o,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(u(e,o)===u(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===c)return f*s}else-1!==f&&(o-=o-f),f=-1}else for(r+c>a&&(r=a-c),o=r;o>=0;o--){for(var h=!0,d=0;d<c;d++)if(u(e,o+d)!==u(t,d)){h=!1;break}if(h)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(H(a))return s;e[r+s]=a}return s}function E(e,t,r,n){return j($(t,e.length-r),e,r,n)}function A(e,t,r,n){return j(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function x(e,t,r,n){return A(e,t,r,n)}function M(e,t,r,n){return j(F(t),e,r,n)}function S(e,t,r,n){return j(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],f=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=r)switch(h){case 1:u<128&&(f=u);break;case 2:128===(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(f=c);break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(f=c)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=h}return T(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),z(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=c.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(z(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=b,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(c.prototype[o]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(z(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(n,i),f=e.slice(t,r),h=0;h<a;++h)if(u[h]!==f[h]){o=u[h],s=f[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return M(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=q[e[o]];return i}function O(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,i,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},c.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||N(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);N(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,r){return P(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return P(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=c.isBuffer(e)?e:c.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var D=/[^+/0-9A-Za-z-_]/g;function $(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function j(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!==e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},543:function(e,t){t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,f=-7,h=r?i-1:0,d=r?-1:1,l=e[t+h];for(h+=d,o=l&(1<<-f)-1,l>>=-f,f+=a;f>0;o=256*o+e[t+h],h+=d,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+h],h+=d,f-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(l?-1:1);s+=Math.pow(2,n),o-=u}return(l?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,c,u=8*o-i-1,f=(1<<u)-1,h=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:o-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=f?(a=0,s=f):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+l]=255&a,l+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[r+l]=255&s,l+=p,s/=256,u-=8);e[r+l-p]|=128*b}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(877);e.exports=i}()},7663:function(e){!function(){var t={308:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,c=[],u=!1,f=-1;function h(){u&&a&&(u=!1,a.length?c=a.concat(c):f=-1,c.length&&d())}function d(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(a=c,c=[];++f<t;)a&&a[f].run();f=-1,t=c.length}a=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new l(e,t)),1!==c.length||u||s(d)},l.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i=n(308);e.exports=i}()},6830:function(e){"use strict";e.exports=function(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},6526:function(e){"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}},2099:function(e){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},8546:function(e,t,r){"use strict";const n=r(5698);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}},9808:function(e,t,r){"use strict";const n=r(6830),i=r(6526),o=r(2099),s=r(8546),a=r(4535),c=r(2249);e.exports={compare:n,concat:i,equals:o,fromString:s,toString:a,xor:c}},4535:function(e,t,r){"use strict";const n=r(5698);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}},5698:function(e,t,r){"use strict";const{bases:n}=r(7527);function i(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=i("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),s=i("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),a={utf8:o,"utf-8":o,hex:n.base16,latin1:s,ascii:s,binary:s,...n};e.exports=a},2249:function(e){"use strict";e.exports=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}},9921:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,a=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,l=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,b=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,v=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case f:case h:case o:case a:case s:case l:return e;default:switch(e=e&&e.$$typeof){case u:case d:case m:case b:case c:return e;default:return t}}case i:return t}}}function A(e){return E(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=m,t.Memo=b,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=l,t.isAsyncMode=function(e){return A(e)||E(e)===f},t.isConcurrentMode=A,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===b},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===a},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===l},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===l||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===b||e.$$typeof===c||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v||e.$$typeof===g)},t.typeOf=E},9864:function(e,t,r){"use strict";e.exports=r(9921)},1144:function(e,t,r){"use strict";var n=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var c,u,f,h=a(r(7294)),d=r(7949),l=r(1776),p=d.keyframes(c||(c=n(["\n  0% {transform: rotate(0deg)}\n  50% {transform: rotate(180deg)}\n  100% {transform: rotate(360deg)}\n"],["\n  0% {transform: rotate(0deg)}\n  50% {transform: rotate(180deg)}\n  100% {transform: rotate(360deg)}\n"]))),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=function(e){var r=t.props,i=r.size,o=r.color,s=r.speedMultiplier,a=l.parseLengthAndUnit(i),c=a.value,f=a.unit;return d.css(u||(u=n(["\n      position: absolute;\n      height: ",";\n      width: ",";\n      border: 1px solid ",";\n      border-radius: 100%;\n      transition: 2s;\n      border-bottom: none;\n      border-right: none;\n      top: ","%;\n      left: ",'%;\n      animation-fill-mode: "";\n      animation: '," ","s ","s infinite linear;\n    "],["\n      position: absolute;\n      height: ",";\n      width: ",";\n      border: 1px solid ",";\n      border-radius: 100%;\n      transition: 2s;\n      border-bottom: none;\n      border-right: none;\n      top: ","%;\n      left: ",'%;\n      animation-fill-mode: "";\n      animation: '," ","s ","s infinite linear;\n    "])),""+c*(1-e/10)+f,""+c*(1-e/10)+f,o,.7*e*2.5,.35*e*2.5,p,1/s,.2*e/s)},t.wrapper=function(){var e=t.props.size;return d.css(f||(f=n(["\n      position: relative;\n      width: ",";\n      height: ",";\n    "],["\n      position: relative;\n      width: ",";\n      height: ",";\n    "])),l.cssValue(e),l.cssValue(e))},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,r=e.css;return t?d.jsx("span",{css:[this.wrapper(),r]},d.jsx("span",{css:this.style(0)}),d.jsx("span",{css:this.style(1)}),d.jsx("span",{css:this.style(2)}),d.jsx("span",{css:this.style(3)}),d.jsx("span",{css:this.style(4)})):null},t.defaultProps=l.sizeDefaults(50),t}(h.PureComponent);t.default=b},4333:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(r||(r={}));t.calculateRgba=function(e,t){if(Object.keys(r).includes(e)&&(e=r[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var n="";e.split("").forEach((function(e){n+=e,n+=e})),e=n}return"rgba("+(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},1776:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9710),t),i(r(4333),t),i(r(6657),t)},9710:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heightWidthRadiusDefaults=t.heightWidthDefaults=t.sizeMarginDefaults=t.sizeDefaults=void 0;var r={loading:!0,color:"#000000",css:"",speedMultiplier:1};function n(e){return Object.assign({},r,{size:e})}function i(e,t){return Object.assign({},r,{height:e,width:t})}t.sizeDefaults=n,t.sizeMarginDefaults=function(e){return Object.assign({},n(e),{margin:2})},t.heightWidthDefaults=i,t.heightWidthRadiusDefaults=function(e,t,r){return void 0===r&&(r=2),Object.assign({},i(e,t),{radius:r,margin:2})}},6657:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var i=(e.match(/[^0-9]*$/)||"").toString();return r[i]?{value:t,unit:i}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=n,t.cssValue=function(e){var t=n(e);return""+t.value+t.unit}},7221:function(e,t,r){e.exports=r(9119)(r(8573))},8573:function(e,t,r){const n=new(0,r(6266).ec)("secp256k1"),i=n.curve,o=i.n.constructor;function s(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new o(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let s=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==s.isOdd()&&(s=s.redNeg()),n.keyPair({pub:{x:r,y:s}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let s=new o(t),a=new o(r);if(s.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(s=s.toRed(i.red),a=a.toRed(i.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;const c=s.redSqr().redIMul(s);return a.redSqr().redISub(c.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:s,y:a}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function a(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new o(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new o(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new o(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===s(e)?1:0,publicKeyCreate(e,t){const r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return a(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=s(t);if(null===r)return 1;return a(e,r.getPublic()),0},publicKeyNegate(e,t){const r=s(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=s(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(a(e,n),0)},publicKeyTweakAdd(e,t,r){const n=s(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0)return 2;const c=n.getPublic().add(i.g.mul(r));return c.isInfinity()?2:(a(e,c),0)},publicKeyTweakMul(e,t,r){const n=s(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0||r.isZero())return 2;return a(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new o(e.subarray(0,32)),r=new o(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new o(r).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;const{output:s}=e;let a=s.subarray(4,37);a[0]=0,a.set(r,1);let c=33,u=0;for(;c>1&&0===a[u]&&!(128&a[u+1]);--c,++u);if(a=a.subarray(u),128&a[0])return 1;if(c>1&&0===a[0]&&!(128&a[1]))return 1;let f=s.subarray(39,72);f[0]=0,f.set(n,1);let h=33,d=0;for(;h>1&&0===f[d]&&!(128&f[d+1]);--h,++d);return f=f.subarray(d),128&f[0]||h>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+c+h,s[0]=48,s[1]=e.outputlen-2,s[2]=2,s[3]=a.length,s.set(a,4),s[4+c]=2,s[5+c]=f.length,s.set(f,6+c),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let s=t.subarray(4,4+r);if(33===s.length&&0===s[0]&&(s=s.subarray(1)),s.length>32)return 1;let a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let c=new o(s);c.cmp(i.n)>=0&&(c=new o(0));let u=new o(t.subarray(6+r));return u.cmp(i.n)>=0&&(u=new o(0)),e.set(c.toArrayLike(Uint8Array,"be",32),0),e.set(u.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,s,a){if(a){const e=a;a=n=>{const i=e(t,r,null,s,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const c=new o(r);if(c.cmp(i.n)>=0||c.isZero())return 1;let u;try{u=n.sign(t,r,{canonical:!0,k:a,pers:s})}catch(f){return 1}return e.signature.set(u.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(u.s.toArrayLike(Uint8Array,"be",32),32),e.recid=u.recoveryParam,0},ecdsaVerify(e,t,r){const a={r:e.subarray(0,32),s:e.subarray(32,64)},c=new o(a.r),u=new o(a.s);if(c.cmp(i.n)>=0||u.cmp(i.n)>=0)return 1;if(1===u.cmp(n.nh)||c.isZero()||u.isZero())return 3;const f=s(r);if(null===f)return 2;const h=f.getPublic();return n.verify(t,a,h)?0:3},ecdsaRecover(e,t,r,s){const c={r:t.slice(0,32),s:t.slice(32,64)},u=new o(c.r),f=new o(c.s);if(u.cmp(i.n)>=0||f.cmp(i.n)>=0)return 1;if(u.isZero()||f.isZero())return 2;let h;try{h=n.recoverPubKey(s,c,r)}catch(d){return 2}return a(e,h),0},ecdh(e,t,r,a,c,u,f){const h=s(t);if(null===h)return 1;const d=new o(r);if(d.cmp(i.n)>=0||d.isZero())return 2;const l=h.getPublic().mul(d);if(void 0===c){const t=l.encode(null,!0),r=n.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{u||(u=new Uint8Array(32));const t=l.getX().toArray("be",32);for(let e=0;e<32;++e)u[e]=t[e];f||(f=new Uint8Array(32));const r=l.getY().toArray("be",32);for(let e=0;e<32;++e)f[e]=r[e];const n=c(u,f,a);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},9119:function(e){const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",o="Private Key is invalid",s="Public Key could not be parsed",a="Public Key serialization error",c="The sum of the public keys is not valid",u="Signature could not be parsed",f="The nonce generation function failed, or the private key was invalid",h="Public key could not be recover",d="Scalar was invalid (zero or overflow)";function l(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(l(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;l(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;l(t.length===r,n)}}function b(e){l("Boolean"===g(e),"Expected compressed to be a Boolean")}function m(e=(e=>new Uint8Array(e)),t){return"function"===typeof e&&(e=e(t)),p("output",e,t),e}function g(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(l(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(p("private key",t,32),b(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(a)}},publicKeyConvert(t,r=!0,n){switch(p("public key",t,[33,65]),b(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(a)}},publicKeyNegate(r,n=!0,i){switch(p("public key",r,[33,65]),b(n),i=m(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(t);case 3:throw new Error(a)}},publicKeyCombine(t,r=!0,n){l(Array.isArray(t),"Expected public keys to be an Array"),l(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(b(r),n=m(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(c);case 3:throw new Error(a)}},publicKeyTweakAdd(t,n,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",n,32),b(i),o=m(o,i?33:65),e.publicKeyTweakAdd(o,t,n)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",r,32),b(i),o=m(o,i?33:65),e.publicKeyTweakMul(o,t,r)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(u)}},signatureExport(r,n){p("signature",r,64);const i={output:n=m(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(u);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=m(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(u);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},o){p("message",r,32),p("private key",n,32),l("Object"===g(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&l("Function"===g(i.noncefn),"Expected options.noncefn to be a Function");const s={signature:o=m(o,64),recid:null};switch(e.ecdsaSign(s,r,n,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(f);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(u);case 2:throw new Error(s)}},ecdsaRecover(r,n,i,o=!0,s){switch(p("signature",r,64),l("Number"===g(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),b(o),s=m(s,o?33:65),e.ecdsaRecover(s,r,n,i)){case 0:return s;case 1:throw new Error(u);case 2:throw new Error(h);case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(p("public key",t,[33,65]),p("private key",r,32),l("Object"===g(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(l("Function"===g(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=m(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(d)}}})},6988:function(e){e.exports=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a||o>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i}},1312:function(e){e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var o=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-o+1,n};var t=Math.pow(2,31)},4676:function(e,t,r){e.exports={encode:r(1312),decode:r(6988),encodingLength:r(82)}},82:function(e){var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},1605:function(e,t,r){"use strict";r.d(t,{m:function(){return Df}});var n={};r.r(n),r.d(n,{code:function(){return Ft},decode:function(){return zt},encode:function(){return jt},name:function(){return $t}});var i={};r.r(i),r.d(i,{keyToDidDoc:function(){return wn}});var o={};r.r(o),r.d(o,{keyToDidDoc:function(){return En}});var s={};r.r(s),r.d(s,{keyToDidDoc:function(){return Nn},pubKeyBytesToXY:function(){return Ln}});var a={};r.r(a),r.d(a,{keyToDidDoc:function(){return Pn},pubKeyBytesToXY:function(){return Un}});var c={};r.r(c),r.d(c,{keyToDidDoc:function(){return Dn},pubKeyBytesToXY:function(){return $n}});var u={};r.r(u),r.d(u,{code:function(){return ks},decode:function(){return Ts},encode:function(){return Cs},name:function(){return Ss}});var f=r(318),h=r(5528),d=r(8737);class l{constructor(e){const t=new h('\nsign-in-with-ethereum =\n    domain %s" wants you to sign in with your Ethereum account:" LF\n    address LF\n    LF\n    [ statement LF ]\n    LF\n    %s"URI: " URI LF\n    %s"Version: " version LF\n    %s"Chain ID: " chain-id LF\n    %s"Nonce: " nonce LF\n    %s"Issued At: " issued-at\n    [ LF %s"Expiration Time: " expiration-time ]\n    [ LF %s"Not Before: " not-before ]\n    [ LF %s"Request ID: " request-id ]\n    [ LF %s"Resources:"\n    resources ]\n\ndomain = dnsauthority\n\naddress = "0x" 40*40HEXDIG\n    ; Must also conform to captilization\n    ; checksum encoding specified in EIP-55\n    ; where applicable (EOAs).\n\nstatement = *( reserved / unreserved / " " )\n    ; The purpose is to exclude LF (line breaks).\n\nversion = "1"\n\nnonce = 8*( ALPHA / DIGIT )\n\nissued-at = date-time\nexpiration-time = date-time\nnot-before = date-time\n\nrequest-id = *pchar\n\nchain-id = 1*DIGIT\n    ; See EIP-155 for valid CHAIN_IDs.\n\nresources = *( LF resource )\n\nresource = "- " URI\n\n; ------------------------------------------------------------------------------\n; RFC 3986\n\nURI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]\n\nhier-part     = "//" authority path-abempty\n              / path-absolute\n              / path-rootless\n              / path-empty\n\nscheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )\n\nauthority     = [ userinfo "@" ] host [ ":" port ]\nuserinfo      = *( unreserved / pct-encoded / sub-delims / ":" )\nhost          = IP-literal / IPv4address / reg-name\nport          = *DIGIT\n\nIP-literal    = "[" ( IPv6address / IPvFuture  ) "]"\n\nIPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )\n\nIPv6address   =                            6( h16 ":" ) ls32\n              /                       "::" 5( h16 ":" ) ls32\n              / [               h16 ] "::" 4( h16 ":" ) ls32\n              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32\n              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32\n              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32\n              / [ *4( h16 ":" ) h16 ] "::"              ls32\n              / [ *5( h16 ":" ) h16 ] "::"              h16\n              / [ *6( h16 ":" ) h16 ] "::"\n\nh16           = 1*4HEXDIG\nls32          = ( h16 ":" h16 ) / IPv4address\nIPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet\ndec-octet     = DIGIT                 ; 0-9\n                 / %x31-39 DIGIT         ; 10-99\n                 / "1" 2DIGIT            ; 100-199\n                 / "2" %x30-34 DIGIT     ; 200-249\n                 / "25" %x30-35          ; 250-255\n\nreg-name      = *( unreserved / pct-encoded / sub-delims )\n\npath-abempty  = *( "/" segment )\npath-absolute = "/" [ segment-nz *( "/" segment ) ]\npath-rootless = segment-nz *( "/" segment )\npath-empty    = 0pchar\n\nsegment       = *pchar\nsegment-nz    = 1*pchar\n\npchar         = unreserved / pct-encoded / sub-delims / ":" / "@"\n\nquery         = *( pchar / "/" / "?" )\n\nfragment      = *( pchar / "/" / "?" )\n\npct-encoded   = "%" HEXDIG HEXDIG\n\nunreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"\nreserved      = gen-delims / sub-delims\ngen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"\nsub-delims    = "!" / "$" / "&" / "\'" / "(" / ")"\n              / "*" / "+" / "," / ";" / "="\n\n; ------------------------------------------------------------------------------\n; RFC 4501\n\ndnsauthority    = host [ ":" port ]\n                             ; See RFC 3986 for the\n                             ; definition of "host" and "port".\n\n; ------------------------------------------------------------------------------\n; RFC 3339\n\ndate-fullyear   = 4DIGIT\ndate-month      = 2DIGIT  ; 01-12\ndate-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on\n                          ; month/year\ntime-hour       = 2DIGIT  ; 00-23\ntime-minute     = 2DIGIT  ; 00-59\ntime-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second\n                          ; rules\ntime-secfrac    = "." 1*DIGIT\ntime-numoffset  = ("+" / "-") time-hour ":" time-minute\ntime-offset     = "Z" / time-numoffset\n\npartial-time    = time-hour ":" time-minute ":" time-second\n                  [time-secfrac]\nfull-date       = date-fullyear "-" date-month "-" date-mday\nfull-time       = partial-time time-offset\n\ndate-time       = full-date "T" full-time\n\n; ------------------------------------------------------------------------------\n; RFC 5234\n\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nLF             =  %x0A\n                  ; linefeed\nDIGIT          =  %x30-39\n                  ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n');if(t.generate(),t.errors.length)throw console.error(t.errorsToAscii()),console.error(t.linesToAscii()),console.log(t.displayAttributeErrors()),new Error("ABNF grammar has errors");const r=t.toObject(),n=new d.parser;n.ast=new d.ast;const i=d.ids;n.ast.callbacks.domain=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.domain=d.utils.charsToString(t,r,n)),s};n.ast.callbacks.address=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.address=d.utils.charsToString(t,r,n)),s};n.ast.callbacks.statement=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.statement=d.utils.charsToString(t,r,n)),s};n.ast.callbacks.uri=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.uri||(o.uri=d.utils.charsToString(t,r,n))),s};n.ast.callbacks.version=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.version=d.utils.charsToString(t,r,n)),s};n.ast.callbacks["chain-id"]=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.chainId=d.utils.charsToString(t,r,n)),s};n.ast.callbacks.nonce=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.nonce=d.utils.charsToString(t,r,n)),s};n.ast.callbacks["issued-at"]=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.issuedAt=d.utils.charsToString(t,r,n)),s};n.ast.callbacks["expiration-time"]=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.expirationTime=d.utils.charsToString(t,r,n)),s};n.ast.callbacks["not-before"]=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.notBefore=d.utils.charsToString(t,r,n)),s};n.ast.callbacks["request-id"]=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.requestId=d.utils.charsToString(t,r,n)),s};n.ast.callbacks.resources=function(e,t,r,n,o){const s=i.SEM_OK;return e===i.SEM_PRE&&(o.resources=d.utils.charsToString(t,r,n).slice(3).split("\n- ")),s};const o=n.parse(r,"sign-in-with-ethereum",e);if(!o.success)throw new Error(`Invalid message: ${JSON.stringify(o)}`);const s={};n.ast.translate(s);for(const[a,c]of Object.entries(s))this[a]=c}}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}var b={name:"chainId",regex:"[-:a-zA-Z0-9]{5,41}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"}}}},m={name:"assetName",regex:"[-:a-zA-Z0-9]{5,73}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,64}"}}}},g={2:b,10:{name:"accountId",regex:"[-:a-zA-Z0-9]{7,106}",parameters:{delimiter:":",values:{0:{name:"namespace",regex:"[-a-z0-9]{3,8}"},1:{name:"reference",regex:"[-a-zA-Z0-9]{1,32}"},2:{name:"address",regex:"[a-zA-Z0-9]{1,64}"}}}},19:{assetName:m,assetType:{name:"assetType",regex:"[-:a-zA-Z0-9]{11,115}",parameters:{delimiter:"/",values:{0:b,1:m}}},assetId:{name:"assetId",regex:"[-:a-zA-Z0-9]{13,148}",parameters:{delimiter:"/",values:{0:b,1:m,2:{name:"tokenId",regex:"[-a-zA-Z0-9]{1,32}"}}}}}};function y(e,t){return e.split(t.parameters.delimiter)}function w(e,t){var r=y(e,t),n={};return r.forEach((function(e,r){n[t.parameters.values[r].name]=e})),n}function v(e,t){return Object.values(t.parameters.values).map((function(t){var r=e[t.name];return"string"===typeof r?r:v(r,t)})).join(t.parameters.delimiter)}function E(e,t){if(!new RegExp(t.regex).test(e))return!1;var r=y(e,t);return r.length===Object.keys(t.parameters.values).length&&r.map((function(e,r){return new RegExp(t.parameters.values[r].regex).test(e)})).filter((function(e){return!!e})).length===r.length}var A=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!E(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(w(t,this.spec)).toJSON()},e.format=function(e){return v(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();A.spec=g[2];var x=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new A(t.chainId),this.address=t.address}e.parse=function(t){if(!E(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);var r=w(t,this.spec),n=r.namespace,i=r.reference,o=r.address;return new e({chainId:new A({namespace:n,reference:i}),address:o}).toJSON()},e.format=function(e){return v(p({},new A(e.chainId).toJSON(),{address:e.address}),this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),address:this.address}},e}();x.spec=g[10];var M,S,k=function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.namespace=t.namespace,this.reference=t.reference}e.parse=function(t){if(!E(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(w(t,this.spec)).toJSON()},e.format=function(e){return v(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{namespace:this.namespace,reference:this.reference}},e}();k.spec=g[19].assetName,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new A(t.chainId),this.assetName=new k(t.assetName)}e.parse=function(t){if(!E(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(w(t,this.spec)).toJSON()},e.format=function(e){return v(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName}},e}()).spec=g[19].assetType,(function(){function e(t){"string"===typeof t&&(t=e.parse(t)),this.chainId=new A(t.chainId),this.assetName=new k(t.assetName),this.tokenId=t.tokenId}e.parse=function(t){if(!E(t,this.spec))throw new Error("Invalid "+this.spec.name+" provided: "+t);return new e(w(t,this.spec)).toJSON()},e.format=function(e){return v(e,this.spec)};var t=e.prototype;return t.toString=function(){return e.format(this.toJSON())},t.toJSON=function(){return{chainId:this.chainId.toJSON(),assetName:this.assetName.toJSON(),tokenId:this.tokenId}},e}()).spec=g[19].assetId,function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}(M||(M={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(S||(S={}));class C extends class{static fromCacao(e){const t=x.parse(e.p.iss.replace("did:pkh:","")),r=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new A(t.chainId).reference});return e.p.statement&&(r.statement=e.p.statement),e.p.nonce&&(r.nonce=e.p.nonce),e.p.iat&&(r.issuedAt=e.p.iat),e.p.exp&&(r.expirationTime=e.p.exp),e.p.nbf&&(r.notBefore=e.p.nbf),e.p.requestId&&(r.requestId=e.p.requestId),e.p.resources&&(r.resources=e.p.resources),e.s&&(e.s.s&&(r.signature=e.s.s),"eip191"===e.s.t&&(r.type=S.PERSONAL_SIGNATURE)),r}toMessage(e){return function(e,t){const r=`${e.domain} wants you to sign in with your ${t} account:`,n=`URI: ${e.uri}`;let i=[r,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=`Chain ID: ${e.chainId}`,c=[n,o,a,s];e.issuedAt&&Date.parse(e.issuedAt);if(e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),c.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;c.push(t)}e.notBefore&&c.push(`Not Before: ${e.notBefore}`);e.requestId&&c.push(`Request ID: ${e.requestId}`);e.resources&&e.resources.length>=1&&c.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const u=c.join("\n");e.statement&&(i=[i,e.statement].join("\n\n"));return[i,u].join("\n\n")}(this,e)}constructor(e){if(this.statement=void 0,this.nonce=void 0,this.issuedAt=void 0,this.expirationTime=void 0,this.notBefore=void 0,this.requestId=void 0,this.resources=void 0,this.signature=void 0,"string"===typeof e){const t=new l(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;return this.type,S.PERSONAL_SIGNATURE,e=this.toMessage(),e}}const T=["string","number","bigint","symbol"],_=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function I(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(T.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(_.includes(t))return t;return}(e);return r||"Object"}class B{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}B.uint=new B(0,"uint",!0),B.negint=new B(1,"negint",!0),B.bytes=new B(2,"bytes",!0),B.string=new B(3,"string",!0),B.array=new B(4,"array",!1),B.map=new B(5,"map",!1),B.tag=new B(6,"tag",!1),B.float=new B(7,"float",!0),B.false=new B(7,"false",!0),B.true=new B(7,"true",!0),B.null=new B(7,"null",!0),B.undefined=new B(7,"undefined",!0),B.break=new B(7,"break",!0);class O{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const R=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,N=new TextDecoder,L=new TextEncoder;function P(e){return R&&globalThis.Buffer.isBuffer(e)}function U(e){return e instanceof Uint8Array?P(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const D=R?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):K(e,t,r):(e,t,r)=>r-t>64?N.decode(e.subarray(t,r)):K(e,t,r),$=R?e=>e.length>64?globalThis.Buffer.from(e):q(e):e=>e.length>64?L.encode(e):q(e),F=e=>Uint8Array.from(e),j=R?(e,t,r)=>P(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),z=R?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),U(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},H=R?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function q(e,t=1/0){let r;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128===(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128===(192&r)&&128===(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=V)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=V));return r}(n)}const V=4096;class G{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=H(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=j(r,0,this.cursor)}else t=z(this.chunks,this.cursor);return e&&this.reset(),t}}const J=[];function Y(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}J[23]=1,J[24]=2,J[25]=3,J[26]=5,J[27]=9;const W=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Z(e,t,r){Y(e,t,1);const n=e[t];if(!0===r.strict&&n<W[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function X(e,t,r){Y(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<W[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function Q(e,t,r){Y(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<W[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function ee(e,t,r){Y(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<W[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function te(e,t){return re(e,0,t.value)}function re(e,t,r){if(r<W[0]){const n=Number(r);e.push([t|n])}else if(r<W[1]){const n=Number(r);e.push([24|t,n])}else if(r<W[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<W[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<W[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}te.encodedSize=function(e){return re.encodedSize(e.value)},re.encodedSize=function(e){return e<W[0]?1:e<W[1]?2:e<W[2]?3:e<W[3]?5:9},te.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const ne=BigInt(-1),ie=BigInt(1);function oe(e,t){const r=t.value,n="bigint"===typeof r?r*ne-ie:-1*r-1;re(e,t.type.majorEncoded,n)}function se(e,t,r,n){Y(e,t,r+n);const i=j(e,t+r,t+r+n);return new O(B.bytes,i,r+n)}function ae(e,t,r,n){return se(e,t,1,r)}function ce(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===B.string?$(e.value):e.value),e.encodedBytes}function ue(e,t){const r=ce(t);re(e,t.type.majorEncoded,r.length),e.push(r)}function fe(e,t,r,n,i){const o=r+n;Y(e,t,o);const s=new O(B.string,D(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=j(e,t+r,t+o)),s}function he(e,t,r,n){return fe(e,t,1,r,n)}oe.encodedSize=function(e){const t=e.value,r="bigint"===typeof t?t*ne-ie:-1*t-1;return r<W[0]?1:r<W[1]?2:r<W[2]?3:r<W[3]?5:9},oe.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},ue.encodedSize=function(e){const t=ce(e);return re.encodedSize(t.length)+t.length},ue.compareTokens=function(e,t){return r=ce(e),n=ce(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(P(e)&&P(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const de=ue;function le(e,t,r,n){return new O(B.array,n,r)}function pe(e,t,r,n){return le(0,0,1,r)}function be(e,t){re(e,B.array.majorEncoded,t.value)}function me(e,t,r,n){return new O(B.map,n,r)}function ge(e,t,r,n){return me(0,0,1,r)}function ye(e,t){re(e,B.map.majorEncoded,t.value)}function we(e,t,r,n){return new O(B.tag,r,1)}function ve(e,t){re(e,B.tag.majorEncoded,t.value)}be.compareTokens=te.compareTokens,be.encodedSize=function(e){return re.encodedSize(e.value)},ye.compareTokens=te.compareTokens,ye.encodedSize=function(e){return re.encodedSize(e.value)},ve.compareTokens=te.compareTokens,ve.encodedSize=function(e){return re.encodedSize(e.value)};function Ee(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new O(B.float,e,t)}function Ae(e,t,r){const n=t.value;if(!1===n)e.push([20|B.float.majorEncoded]);else if(!0===n)e.push([21|B.float.majorEncoded]);else if(null===n)e.push([22|B.float.majorEncoded]);else if(void 0===n)e.push([23|B.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(ke(n),t=Ce(Se,1),n===t||Number.isNaN(n)?(Se[0]=249,e.push(Se.slice(0,3)),o=!0):(Te(n),t=_e(Se,1),n===t&&(Se[0]=250,e.push(Se.slice(0,5)),o=!0))),o||(i=n,Me.setFloat64(0,i,!1),t=Ie(Se,1),Se[0]=251,e.push(Se.slice(0,9)))}var i}Ae.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null===r||void 0===r)return 1;if(!t||!0!==t.float64){ke(r);let e=Ce(Se,1);if(r===e||Number.isNaN(r))return 3;if(Te(r),e=_e(Se,1),r===e)return 5}return 9};const xe=new ArrayBuffer(9),Me=new DataView(xe,1),Se=new Uint8Array(xe,0);function ke(e){if(e===1/0)Me.setUint16(0,31744,!1);else if(e===-1/0)Me.setUint16(0,64512,!1);else if(Number.isNaN(e))Me.setUint16(0,32256,!1);else{Me.setFloat32(0,e);const t=Me.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)Me.setUint16(0,31744,!1);else if(0===r)Me.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?Me.setUint16(0,0):e<-14?Me.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Me.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function Ce(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function Te(e){Me.setFloat32(0,e,!1)}function _e(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Ie(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function Be(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Oe(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Ae.compareTokens=te.compareTokens;const Re=[];for(let $f=0;$f<=23;$f++)Re[$f]=Be;Re[24]=function(e,t,r,n){return new O(B.uint,Z(e,t+1,n),2)},Re[25]=function(e,t,r,n){return new O(B.uint,X(e,t+1,n),3)},Re[26]=function(e,t,r,n){return new O(B.uint,Q(e,t+1,n),5)},Re[27]=function(e,t,r,n){return new O(B.uint,ee(e,t+1,n),9)},Re[28]=Be,Re[29]=Be,Re[30]=Be,Re[31]=Be;for(let $f=32;$f<=55;$f++)Re[$f]=Be;Re[56]=function(e,t,r,n){return new O(B.negint,-1-Z(e,t+1,n),2)},Re[57]=function(e,t,r,n){return new O(B.negint,-1-X(e,t+1,n),3)},Re[58]=function(e,t,r,n){return new O(B.negint,-1-Q(e,t+1,n),5)},Re[59]=function(e,t,r,n){const i=ee(e,t+1,n);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new O(B.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new O(B.negint,ne-BigInt(i),9)},Re[60]=Be,Re[61]=Be,Re[62]=Be,Re[63]=Be;for(let $f=64;$f<=87;$f++)Re[$f]=ae;Re[88]=function(e,t,r,n){return se(e,t,2,Z(e,t+1,n))},Re[89]=function(e,t,r,n){return se(e,t,3,X(e,t+1,n))},Re[90]=function(e,t,r,n){return se(e,t,5,Q(e,t+1,n))},Re[91]=function(e,t,r,n){const i=ee(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return se(e,t,9,i)},Re[92]=Be,Re[93]=Be,Re[94]=Be,Re[95]=Oe("indefinite length bytes/strings are not supported");for(let $f=96;$f<=119;$f++)Re[$f]=he;Re[120]=function(e,t,r,n){return fe(e,t,2,Z(e,t+1,n),n)},Re[121]=function(e,t,r,n){return fe(e,t,3,X(e,t+1,n),n)},Re[122]=function(e,t,r,n){return fe(e,t,5,Q(e,t+1,n),n)},Re[123]=function(e,t,r,n){const i=ee(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return fe(e,t,9,i,n)},Re[124]=Be,Re[125]=Be,Re[126]=Be,Re[127]=Oe("indefinite length bytes/strings are not supported");for(let $f=128;$f<=151;$f++)Re[$f]=pe;Re[152]=function(e,t,r,n){return le(0,0,2,Z(e,t+1,n))},Re[153]=function(e,t,r,n){return le(0,0,3,X(e,t+1,n))},Re[154]=function(e,t,r,n){return le(0,0,5,Q(e,t+1,n))},Re[155]=function(e,t,r,n){const i=ee(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return le(0,0,9,i)},Re[156]=Be,Re[157]=Be,Re[158]=Be,Re[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return le(0,0,1,1/0)};for(let $f=160;$f<=183;$f++)Re[$f]=ge;Re[184]=function(e,t,r,n){return me(0,0,2,Z(e,t+1,n))},Re[185]=function(e,t,r,n){return me(0,0,3,X(e,t+1,n))},Re[186]=function(e,t,r,n){return me(0,0,5,Q(e,t+1,n))},Re[187]=function(e,t,r,n){const i=ee(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return me(0,0,9,i)},Re[188]=Be,Re[189]=Be,Re[190]=Be,Re[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return me(0,0,1,1/0)};for(let $f=192;$f<=215;$f++)Re[$f]=we;Re[216]=function(e,t,r,n){return new O(B.tag,Z(e,t+1,n),2)},Re[217]=function(e,t,r,n){return new O(B.tag,X(e,t+1,n),3)},Re[218]=function(e,t,r,n){return new O(B.tag,Q(e,t+1,n),5)},Re[219]=function(e,t,r,n){return new O(B.tag,ee(e,t+1,n),9)},Re[220]=Be,Re[221]=Be,Re[222]=Be,Re[223]=Be;for(let $f=224;$f<=243;$f++)Re[$f]=Oe("simple values are not supported");Re[244]=Be,Re[245]=Be,Re[246]=Be,Re[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new O(B.null,null,1):new O(B.undefined,void 0,1)},Re[248]=Oe("simple values are not supported"),Re[249]=function(e,t,r,n){return Ee(Ce(e,t+1),3,n)},Re[250]=function(e,t,r,n){return Ee(_e(e,t+1),5,n)},Re[251]=function(e,t,r,n){return Ee(Ie(e,t+1),9,n)},Re[252]=Be,Re[253]=Be,Re[254]=Be,Re[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new O(B.break,void 0,1)};const Ne=[];for(let $f=0;$f<24;$f++)Ne[$f]=new O(B.uint,$f,1);for(let $f=-1;$f>=-24;$f--)Ne[31-$f]=new O(B.negint,$f,1);Ne[64]=new O(B.bytes,new Uint8Array(0),1),Ne[96]=new O(B.string,"",1),Ne[128]=new O(B.array,0,1),Ne[160]=new O(B.map,0,1),Ne[244]=new O(B.false,!1,1),Ne[245]=new O(B.true,!0,1),Ne[246]=new O(B.null,null,1);const Le={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=Pe[i].compareTokens(r,n);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case B.false:return F([244]);case B.true:return F([245]);case B.null:return F([246]);case B.bytes:return e.value.length?void 0:F([64]);case B.string:return""===e.value?F([96]):void 0;case B.array:return 0===e.value?F([128]):void 0;case B.map:return 0===e.value?F([160]):void 0;case B.uint:return e.value<24?F([Number(e.value)]):void 0;case B.negint:if(e.value>=-24)return F([31-Number(e.value)])}}};const Pe=function(){const e=[];return e[B.uint.major]=te,e[B.negint.major]=oe,e[B.bytes.major]=ue,e[B.string.major]=de,e[B.array.major]=be,e[B.map.major]=ye,e[B.tag.major]=ve,e[B.float.major]=Ae,e}(),Ue=new G;class De{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new De(t,e)}}const $e={null:new O(B.null,null),undefined:new O(B.undefined,void 0),true:new O(B.true,!0),false:new O(B.false,!1),emptyArray:new O(B.array,0),emptyMap:new O(B.map,0)},Fe={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new O(e>=0?B.uint:B.negint,e):new O(B.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new O(B.uint,e):new O(B.negint,e),Uint8Array:(e,t,r,n)=>new O(B.bytes,e),string:(e,t,r,n)=>new O(B.string,e),boolean:(e,t,r,n)=>e?$e.true:$e.false,null:(e,t,r,n)=>$e.null,undefined:(e,t,r,n)=>$e.undefined,ArrayBuffer:(e,t,r,n)=>new O(B.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new O(B.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[$e.emptyArray,new O(B.break)]:$e.emptyArray;n=De.createCheck(n,e);const i=[];let o=0;for(const s of e)i[o++]=je(s,r,n);return r.addBreakTokens?[new O(B.array,e.length),i,new O(B.break)]:[new O(B.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[$e.emptyMap,new O(B.break)]:$e.emptyMap;n=De.createCheck(n,e);const a=[];let c=0;for(const u of o)a[c++]=[je(u,r,n),je(i?e.get(u):e[u],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new O(B.map,s),a,new O(B.break)]:[new O(B.map,s),a]}};Fe.Map=Fe.Object,Fe.Buffer=Fe.Uint8Array;for(const $f of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Fe[`${$f}Array`]=Fe.DataView;function je(e,t={},r){const n=I(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Fe[n];if("function"===typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=Fe[n];if(!o)throw new Error(`CBOR encode error: unsupported type: ${n}`);return o(e,n,t,r)}function ze(e,t,r,n){if(Array.isArray(t))for(const i of t)ze(e,i,r,n);else r[t.type.major](e,t,n)}function He(e,t,r){const n=je(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new G(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return U(t.chunks[0])}}return Ue.reset(),ze(Ue,n,t,r),Ue.toBytes(!0)}const qe={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ke{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Ne[e];if(void 0===t){const r=Re[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const Ve=Symbol.for("DONE"),Ge=Symbol.for("BREAK");function Je(e,t){if(e.done())return Ve;const r=e.next();if(r.type===B.break)return Ge;if(r.type.terminal)return r.value;if(r.type===B.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=Je(t,r);if(o===Ge){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===Ve)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===B.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=Je(t,r);if(a===Ge){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Ve)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(a)||!n&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=Je(t,r);if(c===Ve)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===B.tag){if(t.tags&&"function"===typeof t.tags[r.value]){const n=Je(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}var Ye=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=We;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},We=Math.pow(2,31);var Ze=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var Xe=Math.pow(2,7),Qe=Math.pow(2,14),et=Math.pow(2,21),tt=Math.pow(2,28),rt=Math.pow(2,35),nt=Math.pow(2,42),it=Math.pow(2,49),ot=Math.pow(2,56),st=Math.pow(2,63),at={encode:Ye,decode:Ze,encodingLength:function(e){return e<Xe?1:e<Qe?2:e<et?3:e<tt?4:e<rt?5:e<nt?6:e<it?7:e<ot?8:e<st?9:10}};const ct=(e,t=0)=>[at.decode(e,t),at.decode.bytes],ut=(e,t,r=0)=>(at.encode(e,t,r),t),ft=e=>at.encodingLength(e),ht=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class dt{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var lt=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},pt=lt;class bt{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class mt{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return yt(this,e)}}class gt{constructor(e){this.decoders=e}or(e){return yt(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const yt=(e,t)=>new gt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class wt{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new bt(e,t,r),this.decoder=new mt(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const vt=({name:e,prefix:t,encode:r,decode:n})=>new wt(e,t,r,n),Et=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=pt(r,t);return vt({prefix:e,name:t,encode:n,decode:e=>ht(i(e))})},At=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>vt({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),xt=Et({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Mt=(Et({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),At({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));At({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),At({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),At({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),At({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),At({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),At({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),At({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),At({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class St{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Nt,byteLength:Nt,code:Rt,version:Rt,multihash:Rt,bytes:Rt,_baseCache:Nt,asCID:Nt})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==_t)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==It)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return St.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,n=ft(e),i=n+ft(r),o=new Uint8Array(i+r);return ut(e,o,0),ut(r,o,n),o.set(t,i),new dt(e,r,t,o)})(e,t);return St.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&((e,t)=>e===t||e.code===t.code&&e.size===t.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,t.bytes))(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?Ct(t,n,e||xt.encoder):Tt(t,n,e||Mt.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Lt(/^0\.0/,Pt),!(!e||!e[Ot]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof St)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new St(t,r,n,i||Bt(t,r,n.bytes))}if(null!=e&&!0===e[Ot]){const{version:t,multihash:r,code:n}=e,i=(e=>{const t=ht(e),[r,n]=ct(t),[i,o]=ct(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new dt(r,i,s,t)})(r);return St.create(t,n,i)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==_t)throw new Error(`Version 0 CID must use dag-pb (code: ${_t}) block encoding`);return new St(e,t,r,r.bytes);case 1:{const n=Bt(e,t,r.bytes);return new St(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return St.create(0,_t,e)}static createV1(e,t){return St.create(1,e,t)}static decode(e){const[t,r]=St.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=St.inspectBytes(e),r=t.size-t.multihashSize,n=ht(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new dt(t.multihashCode,t.digestSize,i,n);return[0===t.version?St.createV0(o):St.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=ct(e.subarray(t));return t+=n,r};let n=r(),i=_t;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=kt(e,t),i=St.decode(n);return i._baseCache.set(r,e),i}}const kt=(e,t)=>{switch(e[0]){case"Q":{const r=t||xt;return[xt.prefix,r.decode(`${xt.prefix}${e}`)]}case xt.prefix:{const r=t||xt;return[xt.prefix,r.decode(e)]}case Mt.prefix:{const r=t||Mt;return[Mt.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Ct=(e,t,r)=>{const{prefix:n}=r;if(n!==xt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},Tt=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},_t=112,It=18,Bt=(e,t,r)=>{const n=ft(e),i=n+ft(t),o=new Uint8Array(i+r.byteLength);return ut(e,o,0),ut(t,o,n),o.set(r,i),o},Ot=Symbol.for("@ipld/js-cid/CID"),Rt={writable:!1,configurable:!1,enumerable:!0},Nt={writable:!1,enumerable:!1,configurable:!1},Lt=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Pt="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";const Ut={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=St.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new O(B.tag,42),new O(B.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Dt={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};Dt.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return St.decode(e.subarray(1))};const $t="dag-cbor",Ft=113,jt=e=>{return t=e,r=Ut,r=Object.assign({},Le,r),He(t,Pe,r);var t,r},zt=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},qe,t)).tokenizer||new Ke(e,t),n=Je(r,t);if(n===Ve)throw new Error("CBOR decode error: did not find any content to decode");if(n===Ge)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}(e,Dt);var Ht=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=qt;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},qt=Math.pow(2,31);var Kt=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var Vt=Math.pow(2,7),Gt=Math.pow(2,14),Jt=Math.pow(2,21),Yt=Math.pow(2,28),Wt=Math.pow(2,35),Zt=Math.pow(2,42),Xt=Math.pow(2,49),Qt=Math.pow(2,56),er=Math.pow(2,63),tr={encode:Ht,decode:Kt,encodingLength:function(e){return e<Vt?1:e<Gt?2:e<Jt?3:e<Yt?4:e<Wt?5:e<Zt?6:e<Xt?7:e<Qt?8:e<er?9:10}};const rr=(e,t=0)=>[tr.decode(e,t),tr.decode.bytes],nr=(e,t,r=0)=>(tr.encode(e,t,r),t),ir=e=>tr.encodingLength(e),or=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),sr=(e,t)=>{const r=t.byteLength,n=ir(e),i=n+ir(r),o=new Uint8Array(i+r);return nr(e,o,0),nr(r,o,n),o.set(t,i),new ar(e,r,t,o)};class ar{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var cr=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},ur=cr;class fr{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class hr{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return lr(this,e)}}class dr{constructor(e){this.decoders=e}or(e){return lr(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const lr=(e,t)=>new dr({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class pr{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new fr(e,t,r),this.decoder=new hr(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const br=({name:e,prefix:t,encode:r,decode:n})=>new pr(e,t,r,n),mr=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=ur(r,t);return br({prefix:e,name:t,encode:n,decode:e=>or(i(e))})},gr=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>br({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),yr=mr({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),wr=(mr({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),gr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));gr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),gr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),gr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),gr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),gr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),gr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});class vr{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:_r,byteLength:_r,code:Tr,version:Tr,multihash:Tr,bytes:Tr,_baseCache:_r,asCID:_r})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==Mr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Sr)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return vr.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=sr(e,t);return vr.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&((e,t)=>e===t||e.code===t.code&&e.size===t.size&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,t.bytes))(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?Ar(t,n,e||yr.encoder):xr(t,n,e||wr.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Ir(/^0\.0/,Br),!(!e||!e[Cr]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof vr)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new vr(t,r,n,i||kr(t,r,n.bytes))}if(null!=e&&!0===e[Cr]){const{version:t,multihash:r,code:n}=e,i=(e=>{const t=or(e),[r,n]=rr(t),[i,o]=rr(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new ar(r,i,s,t)})(r);return vr.create(t,n,i)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Mr)throw new Error(`Version 0 CID must use dag-pb (code: ${Mr}) block encoding`);return new vr(e,t,r,r.bytes);case 1:{const n=kr(e,t,r.bytes);return new vr(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return vr.create(0,Mr,e)}static createV1(e,t){return vr.create(1,e,t)}static decode(e){const[t,r]=vr.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=vr.inspectBytes(e),r=t.size-t.multihashSize,n=or(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new ar(t.multihashCode,t.digestSize,i,n);return[0===t.version?vr.createV0(o):vr.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=rr(e.subarray(t));return t+=n,r};let n=r(),i=Mr;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=Er(e,t),i=vr.decode(n);return i._baseCache.set(r,e),i}}const Er=(e,t)=>{switch(e[0]){case"Q":{const r=t||yr;return[yr.prefix,r.decode(`${yr.prefix}${e}`)]}case yr.prefix:{const r=t||yr;return[yr.prefix,r.decode(e)]}case wr.prefix:{const r=t||wr;return[wr.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Ar=(e,t,r)=>{const{prefix:n}=r;if(n!==yr.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},xr=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},Mr=112,Sr=18,kr=(e,t,r)=>{const n=ir(e),i=n+ir(t),o=new Uint8Array(i+r.byteLength);return nr(e,o,0),nr(t,o,n),o.set(r,i),o},Cr=Symbol.for("@ipld/js-cid/CID"),Tr={writable:!1,configurable:!1,enumerable:!0},_r={writable:!1,enumerable:!1,configurable:!1},Ir=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},Br="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Or=({name:e,code:t,encode:r})=>new Rr(e,t,r);class Rr{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?sr(this.code,t):t.then((e=>sr(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Nr=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),Lr=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const e=[...t,r];if(null!=n&&"object"===typeof n)if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t],i=vr.asCID(r);i?yield[n.join("/"),i]:"object"===typeof r&&(yield*Lr(r,n))}else{const t=vr.asCID(n);t?yield[e.join("/"),t]:yield*Lr(n,e)}}},Pr=function*(e,t){if(null!=e)for(const[r,n]of Object.entries(e)){const e=[...t,r];if(yield e.join("/"),null!=n&&!(n instanceof Uint8Array)&&"object"===typeof n&&!vr.asCID(n))if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t];yield n.join("/"),"object"!==typeof r||vr.asCID(r)||(yield*Pr(r,n))}else yield*Pr(n,e)}};class Ur{constructor({cid:e,bytes:t,value:r}){if(!e||!t||"undefined"===typeof r)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Nr(),bytes:Nr(),value:Nr(),asBlock:Nr()})}links(){return Lr(this.value,[])}tree(){return Pr(this.value,[])}get(e="/"){return((e,t)=>{let r=e;for(const[n,i]of t.entries()){if(r=r[i],null==r)throw new Error(`Object has no property at ${t.slice(0,n+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=vr.asCID(r);if(e)return{value:e,remaining:t.slice(n+1).join("/")}}return{value:r}})(this.value,e.split("/").filter(Boolean))}}const Dr=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),$r=Or({name:"sha2-256",code:18,encode:Dr("SHA-256")});Or({name:"sha2-512",code:19,encode:Dr("SHA-512")}),new Date("2022-09-20").valueOf();var Fr,jr;!function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){const t=await(async({bytes:e,codec:t,hasher:r})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.decode(e),i=await r.digest(e),o=vr.create(1,t.code,i);return new Ur({value:n,bytes:e,cid:o})})({bytes:e,codec:n,hasher:$r});return t.value},e.verify=async function(e,t={}){!function(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}(e);const r=t.verifiers[e.s.t];if(!r)throw new Error("Unsupported CACAO signature type, register the needed verifier");return r(e,t)}}(Fr||(Fr={})),function(e){e.fromCacao=function(e){return(async({value:e,codec:t,hasher:r})=>{if("undefined"===typeof e)throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),i=await r.digest(n),o=vr.create(1,t.code,i);return new Ur({value:e,bytes:n,cid:o})})({value:e,codec:n,hasher:$r})}}(jr||(jr={}));var zr=r(1416);function Hr(e,t,r){if(null==r&&(r=[]),e.request)return e.request({method:t,params:r}).then((e=>e),(e=>{throw e}));if(e.sendAsync||e.send){const n=(e.sendAsync?e.sendAsync:e.send).bind(e),i=function(e,t){return{jsonrpc:"2.0",id:1,method:e,params:t}}(t,r);return new Promise(((e,t)=>{n(i,((r,n)=>{if(r&&t(r),n.error){const e=new Error(n.error.message);e.code=n.error.code,e.data=n.error.data,t(e)}e(n.result)}))}))}throw new Error("Unsupported provider; provider must implement one of the following methods: send, sendAsync, request")}var qr,Kr;async function Vr(e,t,r){const n=new Date,i=new Date(n.getTime()+864e5),o=new C({domain:e.domain,address:r.address,statement:e.statement??"Give this application access to some of your data on Ceramic",uri:e.uri,version:"1",nonce:e.nonce??(0,zr.randomString)(10),issuedAt:n.toISOString(),expirationTime:e.expirationTime??i.toISOString(),chainId:r.chainId.reference,resources:e.resources}),s=await Hr(t,"personal_sign",[o.signMessage(),r.address]);return o.signature=s,Fr.fromSiweMessage(o)}async function Gr(e,t){const r=await async function(e){const t=await Hr(e,"eth_chainId",[]);return parseInt(t,16)}(e);return new x({address:t,chainId:`eip155:${r}`})}!function(e){e.getAuthMethod=async function(e,t){if("undefined"==typeof window)throw new Error("Web Auth method requires browser environment");const r=window.location.hostname;return async n=>(n.domain=r,Vr(n,e,t))}}(qr||(qr={})),function(e){e.getAuthMethod=async function(e,t,r){const n=r;return async r=>(r.domain=n,Vr(r,e,t))}}(Kr||(Kr={}));var Jr,Yr=r(1050),Wr=r(452),Zr=r(5035);!function(e){e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR"}(Jr||(Jr={}));const Xr={[Jr.PARSE_ERROR]:"Parse error",[Jr.INVALID_REQUEST]:"Invalid request",[Jr.METHOD_NOT_FOUND]:"Method not found",[Jr.INVALID_PARAMS]:"Invalid params",[Jr.INTERNAL_ERROR]:"Internal error"};function Qr(e){return Xr[e.toString()]??(function(e){return-32e3>=e&&e>=-32099}(e)?"Server error":"Application error")}class en extends Error{static fromObject(e){return new en(e.code,e.message,e.data)}toObject(){return{code:this.code,data:this.data,message:this.message}}constructor(e,t,r){super(),Object.setPrototypeOf(this,en.prototype),this.code=e,this.data=r,this.message=t??Qr(e)}}function tn(e){const t=Xr[e];return function(r){return new en(e,t,r)}}tn(Jr.PARSE_ERROR),tn(Jr.INVALID_REQUEST),tn(Jr.METHOD_NOT_FOUND),tn(Jr.INVALID_PARAMS),tn(Jr.INTERNAL_ERROR);const rn=Symbol("abortable"),nn=Symbol("aborted");const on="utils_abort_request";function sn(e,t){return{jsonrpc:"2.0",id:e,error:{code:t,message:Qr(t)}}}function an(e,t,r){console.warn("Unhandled handler error",t,r)}function cn(e,t){console.warn("Unhandled invalid message",t)}function un(e,t){console.warn("Unhandled notification",t)}function fn(e,t={}){const r=t.onHandlerError??an,n=t.onInvalidMessage??cn,i=t.onNotification??un,o={};return async function(t,s){const a=s.id;if("2.0"!==s.jsonrpc||null==s.method)return null==a?(n(t,s),null):sn(a,Jr.INVALID_REQUEST);const c=e[s.method];if(null==c)return null==a?(function(e,t){if(t.method===on){const e=t.params?.id;null!=e&&o[e]?.abort()}else i(e,t)}(t,s),null):sn(a,Jr.METHOD_NOT_FOUND);try{let e;if(null!=a&&c[rn]){const r=new AbortController;o[a]=r,e=c(t,s.params,{signal:r.signal})}else e=c(t,s.params,{});const r=null==e?e:"function"===typeof e.then?await e:e;return null==a||o[a]?.signal.aborted?null:{jsonrpc:"2.0",id:a,result:r}}catch(u){if(null==a||o[a]?.signal.aborted)return r(t,s,u),null;let e;if(u instanceof en)e=u.toObject();else{r(t,s,u);const n=u.code??-32e3;e={code:n,message:u.message||Qr(n)}}return{jsonrpc:"2.0",id:a,error:e}}finally{null!=a&&delete o[a]}}}var hn=r(738);function dn(e){return JSON.parse(Zr(e))}function ln(e){const[t,r,n]=e.split(".");return{payload:r,signatures:[{protected:t,signature:n}]}}const pn=async(e,t,r,n={})=>{const i=`${t}#${t.split(":")[2]}`,o=(0,Wr.vo)(r),s=dn(Object.assign(n,{kid:i,alg:"EdDSA"}));return(0,Wr.pk)("string"===typeof e?e:dn(e),o,s)},bn={did_authenticate:async({did:e,secretKey:t},r)=>ln(await pn({did:e,aud:r.aud,nonce:r.nonce,paths:r.paths,exp:Math.floor(Date.now()/1e3)+600},e,t)),did_createJWS:async({did:e,secretKey:t},r)=>{if(r.did.split("#")[0]!==e)throw new en(4100,`Unknown DID: ${e}`);return{jws:ln(await pn(r.payload,e,t,r.protected))}},did_decryptJWE:async({secretKey:e},t)=>{const r=(0,Wr.Y)((0,Yr.zh)(e));try{const e=await(0,Wr.jB)(t.jwe,r);return{cleartext:hn.BB(e,"base64pad")}}catch(In){throw new en(-32e3,In.message)}}};class mn{get isDidProvider(){return!0}async send(e){return await this._handle(e)}constructor(e){const{secretKey:t,publicKey:r}=(0,Yr._w)(e),n=function(e){const t=new Uint8Array(e.length+2);return t[0]=237,t[1]=1,t.set(e,2),`did:key:z${hn.BB(t,"base58btc")}`}(r),i=fn(bn);this._handle=async e=>await i({did:n,secretKey:t},e)}}var gn=r(4676),yn=r(1653);function wn(e,t){const r=`did:key:${t}`,n=`${r}#${t}`;return{id:r,verificationMethod:[{id:n,type:"Secp256k1VerificationKey2018",controller:r,publicKeyBase58:hn.BB(e,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}var vn=r(9784);function En(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=(0,Yr.SH)(e),o=`${r}#${function(e){const t=new Uint8Array(e.length+2);return t[0]=236,t[1]=1,t.set(e,2),`z${(0,vn.B)(t,"base58btc")}`}(i)}`;return{id:r,verificationMethod:[{id:n,type:"Ed25519VerificationKey2018",controller:r,publicKeyBase58:(0,vn.B)(e,"base58btc")}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n],keyAgreement:[{id:o,type:"X25519KeyAgreementKey2019",controller:r,publicKeyBase58:(0,vn.B)(i,"base58btc")}]}}var An=r(9808),xn=r(8237);function Mn(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");return An.toString(e,"base16")}function Sn(e){if(!kn(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=function(e){if(!kn(e))throw new TypeError("input must be string with characters 0-9,A-F,a-f");const t=e.slice(0,e.length/2),r=e.slice(e.length/2,e.length),n=An.fromString(t,"base16"),i=An.fromString(r,"base16");return{xOctet:n,yOctet:i}}(e);return{xm:xn.base64url.encode(t.xOctet).slice(1),ym:xn.base64url.encode(t.yOctet).slice(1)}}function kn(e){const t=/^[A-Fa-f0-9]+$/i;return!(null===t.exec(e)||!t.test(e)||"string"!=typeof e)}function Cn(e){return null!=e&&e.constructor===Uint8Array}function Tn(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=function(e){if(null==e)throw new TypeError("input cannot be null or undefined.");if("object"!==typeof e)throw new TypeError("Input must be an object with properties x and y");if(!Object.prototype.hasOwnProperty.call(e,"x")||!Object.prototype.hasOwnProperty.call(e,"y"))throw new Error("Input must have properties x and y");if("bigint"!==typeof e.x&&"bigint"!==typeof e.y)throw new Error("Input coordinates must be BigInt");const t=e.x.toString(),r=e.y.toString(),n=An.fromString(t,"base10"),i=An.fromString(r,"base10");return{xOctet:n,yOctet:i}}(e);return{xm:xn.base64url.encode(t.xOctet).slice(1),ym:xn.base64url.encode(t.yOctet).slice(1)}}function _n(e){return e>=0?e:-e}function In(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),t<=0n)throw new RangeError("n must be > 0");const r=e%t;return r<0n?r+t:r}function Bn(e,t){const r=function(e,t){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),e<=0n||t<=0n)throw new RangeError("a and b MUST be > 0");let r=0n,n=1n,i=1n,o=0n;for(;0n!==e;){const s=t/e,a=t%e,c=r-i*s,u=n-o*s;t=e,e=a,r=i,n=o,i=c,o=u}return{g:t,x:r,y:n}}(In(e,t),t);if(1n!==r.g)throw new RangeError(`${e.toString()} does not have inverse modulo ${t.toString()}`);return In(r.x,t)}function On(e,t,r){if(e.length!==t.length)throw new RangeError("The remainders and modulos arrays should have the same length");const n=r??t.reduce(((e,t)=>e*t),1n);return t.reduce(((t,r,i)=>{const o=n/r;return In(t+o*Bn(o,r)%n*e[i]%n,n)}),0n)}function Rn(e,t,r,n){if("number"==typeof e&&(e=BigInt(e)),"number"==typeof t&&(t=BigInt(t)),"number"==typeof r&&(r=BigInt(r)),r<=0n)throw new RangeError("n must be > 0");if(1n===r)return 0n;if(e=In(e,r),t<0n)return Bn(Rn(e,_n(t),r,n),r);if(void 0!==n)return function(e,t,r,n){const i=n.map((e=>e[0]**e[1])),o=n.map((e=>function(e){return e.map((e=>e[0]**(e[1]-1n)*(e[0]-1n))).reduce(((e,t)=>t*e),1n)}([e]))),s=o.map(((r,n)=>Rn(e,t%r,i[n])));return On(s,i,r)}(e,t,r,function(e){const t={};return e.forEach((e=>{if("bigint"==typeof e||"number"==typeof e){const r=String(e);void 0===t[r]?t[r]={p:BigInt(e),k:1n}:t[r].k+=1n}else{const r=String(e[0]);void 0===t[r]?t[r]={p:BigInt(e[0]),k:BigInt(e[1])}:t[r].k+=BigInt(e[1])}})),Object.values(t).map((e=>[e.p,e.k]))}(n));let i=1n;for(;t>0;)t%2n===1n&&(i=i*e%r),t/=2n,e=e**2n%r;return i}function Nn(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=Ln(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-256",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Ln(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=Mn(e),r=t.length/2;if(64==r)return Sn(t);if(65==r&&"04"==t.slice(0,2)){return Sn(t.slice(2))}if(33==r&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Tn(function(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),r=t**256n-t**224n+t**192n+t**96n-1n,n=(r+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(An.toString(o,"base10"));let a=Rn(s**3n-3n*s+41058363725152142129326129780047268409114441015993725554835256314039467401291n,n,r);return a%2n!==i&&(a=r-a),{x:s,y:a}}(hn.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Pn(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=Un(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-384",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function Un(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=Mn(e),r=t.length/2;if(96==r)return Sn(t);if(97==r&&"04"==t.slice(0,2)){return Sn(t.slice(2))}if(49==r&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Tn(function(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2),r=t**384n-t**128n-t**96n+t**32n-1n,n=(r+1n)/4n,i=BigInt(e[0]-2),o=e.subarray(1),s=BigInt(An.toString(o,"base10"));let a=Rn(s**3n-3n*s+27580193559959705877849011840389048093056905856361568521428707301988689241309860865136260764883745107765439761230575n,n,r);return a%2n!==i&&(a=r-a),{x:s,y:a}}(hn.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}function Dn(e,t){const r=`did:key:${t}`,n=`${r}#${t}`,i=$n(e);return{id:r,verificationMethod:[{id:n,type:"JsonWebKey2020",controller:r,publicKeyJwk:{kty:"EC",crv:"P-521",x:i.xm,y:i.ym}}],authentication:[n],assertionMethod:[n],capabilityDelegation:[n],capabilityInvocation:[n]}}function $n(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=Mn(e);if(132<=t.length&&t.length<=134&&("03"==t.slice(0,2)||"02"==t.slice(0,2))){return Tn(function(e){if(!Cn(e))throw new TypeError("input must be a Uint8Array");const t=BigInt(2)**521n-1n,r=(t+1n)/4n,n=BigInt(e[0]-2),i=e.subarray(1),o=BigInt(An.toString(i,"base10"));let s=Rn(o**3n-3n*o+1093849038073734274511112390766805569936207598951683748994586394495953116150735016013708737573759623248592132296706313309438452531591012912142327488478985984n,r,t);return s%2n!==n&&(s=t-s),{x:o,y:s}}(hn.mL(t,"base16")))}throw new Error("Unexpected pubKeyBytes")}const Fn="application/did+json",jn={231:i,237:o,4608:s,4609:a,4610:c};var zn={getResolver:function(){return{key:async(e,t,r,n)=>{const i=n.accept||Fn,o={didResolutionMetadata:{contentType:i},didDocument:null,didDocumentMetadata:{}};try{const e=yn.base58btc.decode(t.id),r=gn.decode(e),n=e.slice(gn.decode.bytes),s=await jn[r].keyToDidDoc(n,t.id);"application/did+ld+json"===i?(s["@context"]="https://w3id.org/did/v1",o.didDocument=s):i===Fn?o.didDocument=s:(delete o.didResolutionMetadata.contentType,o.didResolutionMetadata.error="representationNotSupported")}catch(In){o.didResolutionMetadata.error="invalidDid",o.didResolutionMetadata.message=In.toString()}return o}}}};function Hn(e,t){return t()}const qn="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",Kn="[a-zA-Z0-9_.:%-]",Vn=new RegExp(`^did:([a-z0-9]+):${`((?:${qn}*:)*(${qn}+))`}${`((${`;${Kn}+=${Kn}*`})*)`}(/[^#?]*)?([?][^#]*)?(#.*)?$`);const Gn={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};class Jn{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?function(){const e=new Map;return function(t,r){try{let n;function i(i){if(n)return i;const o=e.get(t.didUrl);return void 0!==o?o:Promise.resolve(r()).then((function(r){var n;return"notFound"!==(null==(n=r.didResolutionMetadata)?void 0:n.error)&&e.set(t.didUrl,r),r}))}const o=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(r()).then((function(e){return n=1,e}))}();return Promise.resolve(o&&o.then?o.then(i):i(o))}catch(In){return Promise.reject(In)}}}():t.cache||Hn,t.legacyResolvers&&Object.keys(t.legacyResolvers).map((e=>{var r;this.registry[e]||(this.registry[e]=(r=t.legacyResolvers[e],function(e,t,n){try{return Promise.resolve(function(e,t){try{var r=e()}catch(In){return t(In)}return r&&r.then?r.then(void 0,t):r}((function(){return Promise.resolve(r(e,t,n)).then((function(e){return{...Gn,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}}))}),(function(e){return{...Gn,didResolutionMetadata:{error:"notFound",message:e.toString()}}})))}catch(In){return Promise.reject(In)}}))}))}resolve(e,t={}){try{const r=this,n=function(e){if(""===e||!e)return null;const t=e.match(Vn);if(t){const r={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){const e=t[4].slice(1).split(";");r.params={};for(const t of e){const e=t.split("=");r.params[e[0]]=e[1]}}return t[6]&&(r.path=t[6]),t[7]&&(r.query=t[7].slice(1)),t[8]&&(r.fragment=t[8].slice(1)),r}return null}(e);if(null===n)return Promise.resolve({...Gn,didResolutionMetadata:{error:"invalidDid"}});const i=r.registry[n.method];return i?Promise.resolve(r.cache(n,(()=>i(n.did,n,r,t)))):Promise.resolve({...Gn,didResolutionMetadata:{error:"unsupportedDidMethod"}})}catch(In){return Promise.reject(In)}}}var Yn=r(1015);function Wn({enumerable:e=!0,configurable:t=!1}={}){return{enumerable:e,configurable:t,writable:!1}}function*Zn(e,t){if(null!=t&&"object"===typeof t)if(Array.isArray(t))for(const[r,n]of t.entries()){const t=[...e,r],i=Yn.k0.asCID(n);i?yield[t.join("/"),i]:"object"===typeof n&&(yield*Xn(n,t))}else{const r=Yn.k0.asCID(t);r?yield[e.join("/"),r]:yield*Xn(t,e)}}function*Xn(e,t){if(null==e||e instanceof Uint8Array)return;const r=Yn.k0.asCID(e);r&&(yield[t.join("/"),r]);for(const[n,i]of Object.entries(e)){const e=[...t,n];yield*Zn(e,i)}}function*Qn(e,t){if(Array.isArray(t))for(const[r,n]of t.entries()){const t=[...e,r];yield t.join("/"),"object"!==typeof n||Yn.k0.asCID(n)||(yield*ei(n,t))}else yield*ei(t,e)}function*ei(e,t){if(null!=e&&"object"===typeof e)for(const[r,n]of Object.entries(e)){const e=[...t,r];yield e.join("/"),null==n||n instanceof Uint8Array||"object"!==typeof n||Yn.k0.asCID(n)||(yield*Qn(e,n))}}class ti{constructor({cid:e,bytes:t,value:r}){if(!e||!t||"undefined"===typeof r)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Wn(),bytes:Wn(),value:Wn(),asBlock:Wn()})}links(){return Xn(this.value,[])}tree(){return ei(this.value,[])}get(e="/"){return function(e,t){let r=e;for(const[n,i]of t.entries()){if(r=r[i],null==r)throw new Error(`Object has no property at ${t.slice(0,n+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=Yn.k0.asCID(r);if(e)return{value:e,remaining:t.slice(n+1).join("/")}}return{value:r}}(this.value,e.split("/").filter(Boolean))}}async function ri({value:e,codec:t,hasher:r}){if("undefined"===typeof e)throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),i=await r.digest(n),o=Yn.k0.create(1,t.code,i);return new ti({value:e,bytes:n,cid:o})}var ni=r(8161),ii=r(7353),oi=r(8566);r(9382);async function si(e,t){return function(e,t=24){const r=(t-e.length%t)%t,n=new Uint8Array(e.length+r);return n.set(e,0),n}((await async function(e){return(await ri({value:e,codec:n,hasher:oi.identity})).cid}(e)).bytes,t)}function ai(e){return function(e){const t=ni.k0.asCID(e);if(!t)throw new Error("CID could not be parsed");if(t.code!==Ft)throw new Error("CID codec must be dag-cbor");if(t.multihash.code!==oi.identity.code)throw new Error("CID must use identity multihash");return zt(t.multihash.digest)}(ni.k0.decodeFirst(e)[0])}function ci(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function ui(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ci(e,t,"get"))}function fi(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function hi(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,ci(e,t,"set"),r),r}var di=new WeakMap;class li{get connection(){return ui(this,di)}createID(){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))()}request(e,t,r={}){const{signal:n}=r;if(n?.aborted)return Promise.reject(nn);const i=this.createID(),o=ui(this,di).send({jsonrpc:"2.0",id:i,method:e,params:t}).then((e=>{if(null==e)throw new Error("Missing response");if(null!=e.error)throw en.fromObject(e.error);return e.result}));return null==n?o:(n.addEventListener("abort",(()=>{this.notify(on,{id:i})})),function(e,t){if(t.aborted)return Promise.reject(nn);let r;const n=new Promise(((e,t)=>{r=t}));return t.addEventListener("abort",(()=>{r(nn)})),Promise.race([e,n])}(o,n))}async notify(e,t){await ui(this,di).send({jsonrpc:"2.0",method:e,params:t})}constructor(e){fi(this,di,{writable:!0,value:void 0}),hi(this,di,e)}}const pi=["string","number","bigint","symbol"],bi=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function mi(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(pi.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(bi.includes(t))return t;return}(e);return r||"Object"}class gi{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}gi.uint=new gi(0,"uint",!0),gi.negint=new gi(1,"negint",!0),gi.bytes=new gi(2,"bytes",!0),gi.string=new gi(3,"string",!0),gi.array=new gi(4,"array",!1),gi.map=new gi(5,"map",!1),gi.tag=new gi(6,"tag",!1),gi.float=new gi(7,"float",!0),gi.false=new gi(7,"false",!0),gi.true=new gi(7,"true",!0),gi.null=new gi(7,"null",!0),gi.undefined=new gi(7,"undefined",!0),gi.break=new gi(7,"break",!0);class yi{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const wi=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,vi=new TextDecoder,Ei=new TextEncoder;function Ai(e){return wi&&globalThis.Buffer.isBuffer(e)}function xi(e){return e instanceof Uint8Array?Ai(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const Mi=wi?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):Bi(e,t,r):(e,t,r)=>r-t>64?vi.decode(e.subarray(t,r)):Bi(e,t,r),Si=wi?e=>e.length>64?globalThis.Buffer.from(e):Ii(e):e=>e.length>64?Ei.encode(e):Ii(e),ki=e=>Uint8Array.from(e),Ci=wi?(e,t,r)=>Ai(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ti=wi?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),xi(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},_i=wi?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ii(e,t=1/0){let r;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function Bi(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128===(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128===(192&r)&&128===(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=Oi)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Oi));return r}(n)}const Oi=4096;class Ri{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=_i(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=Ci(r,0,this.cursor)}else t=Ti(this.chunks,this.cursor);return e&&this.reset(),t}}const Ni=[];function Li(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}Ni[23]=1,Ni[24]=2,Ni[25]=3,Ni[26]=5,Ni[27]=9;const Pi=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Ui(e,t,r){Li(e,t,1);const n=e[t];if(!0===r.strict&&n<Pi[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function Di(e,t,r){Li(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<Pi[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function $i(e,t,r){Li(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<Pi[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function Fi(e,t,r){Li(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<Pi[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function ji(e,t){return zi(e,0,t.value)}function zi(e,t,r){if(r<Pi[0]){const n=Number(r);e.push([t|n])}else if(r<Pi[1]){const n=Number(r);e.push([24|t,n])}else if(r<Pi[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<Pi[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<Pi[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}ji.encodedSize=function(e){return zi.encodedSize(e.value)},zi.encodedSize=function(e){return e<Pi[0]?1:e<Pi[1]?2:e<Pi[2]?3:e<Pi[3]?5:9},ji.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Hi=BigInt(-1),qi=BigInt(1);function Ki(e,t){const r=t.value,n="bigint"===typeof r?r*Hi-qi:-1*r-1;zi(e,t.type.majorEncoded,n)}function Vi(e,t,r,n){Li(e,t,r+n);const i=Ci(e,t+r,t+r+n);return new yi(gi.bytes,i,r+n)}function Gi(e,t,r,n){return Vi(e,t,1,r)}function Ji(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===gi.string?Si(e.value):e.value),e.encodedBytes}function Yi(e,t){const r=Ji(t);zi(e,t.type.majorEncoded,r.length),e.push(r)}function Wi(e,t,r,n,i){const o=r+n;Li(e,t,o);const s=new yi(gi.string,Mi(e,t+r,t+o),o);return!0===i.retainStringBytes&&(s.byteValue=Ci(e,t+r,t+o)),s}function Zi(e,t,r,n){return Wi(e,t,1,r,n)}Ki.encodedSize=function(e){const t=e.value,r="bigint"===typeof t?t*Hi-qi:-1*t-1;return r<Pi[0]?1:r<Pi[1]?2:r<Pi[2]?3:r<Pi[3]?5:9},Ki.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Yi.encodedSize=function(e){const t=Ji(e);return zi.encodedSize(t.length)+t.length},Yi.compareTokens=function(e,t){return r=Ji(e),n=Ji(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(Ai(e)&&Ai(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const Xi=Yi;function Qi(e,t,r,n){return new yi(gi.array,n,r)}function eo(e,t,r,n){return Qi(0,0,1,r)}function to(e,t){zi(e,gi.array.majorEncoded,t.value)}function ro(e,t,r,n){return new yi(gi.map,n,r)}function no(e,t,r,n){return ro(0,0,1,r)}function io(e,t){zi(e,gi.map.majorEncoded,t.value)}function oo(e,t,r,n){return new yi(gi.tag,r,1)}function so(e,t){zi(e,gi.tag.majorEncoded,t.value)}to.compareTokens=ji.compareTokens,to.encodedSize=function(e){return zi.encodedSize(e.value)},io.compareTokens=ji.compareTokens,io.encodedSize=function(e){return zi.encodedSize(e.value)},so.compareTokens=ji.compareTokens,so.encodedSize=function(e){return zi.encodedSize(e.value)};function ao(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new yi(gi.float,e,t)}function co(e,t,r){const n=t.value;if(!1===n)e.push([20|gi.float.majorEncoded]);else if(!0===n)e.push([21|gi.float.majorEncoded]);else if(null===n)e.push([22|gi.float.majorEncoded]);else if(void 0===n)e.push([23|gi.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(lo(n),t=po(ho,1),n===t||Number.isNaN(n)?(ho[0]=249,e.push(ho.slice(0,3)),o=!0):(bo(n),t=mo(ho,1),n===t&&(ho[0]=250,e.push(ho.slice(0,5)),o=!0))),o||(i=n,fo.setFloat64(0,i,!1),t=go(ho,1),ho[0]=251,e.push(ho.slice(0,9)))}var i}co.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null===r||void 0===r)return 1;if(!t||!0!==t.float64){lo(r);let e=po(ho,1);if(r===e||Number.isNaN(r))return 3;if(bo(r),e=mo(ho,1),r===e)return 5}return 9};const uo=new ArrayBuffer(9),fo=new DataView(uo,1),ho=new Uint8Array(uo,0);function lo(e){if(e===1/0)fo.setUint16(0,31744,!1);else if(e===-1/0)fo.setUint16(0,64512,!1);else if(Number.isNaN(e))fo.setUint16(0,32256,!1);else{fo.setFloat32(0,e);const t=fo.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)fo.setUint16(0,31744,!1);else if(0===r)fo.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?fo.setUint16(0,0):e<-14?fo.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):fo.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function po(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function bo(e){fo.setFloat32(0,e,!1)}function mo(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function go(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function yo(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function wo(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}co.compareTokens=ji.compareTokens;const vo=[];for(let $f=0;$f<=23;$f++)vo[$f]=yo;vo[24]=function(e,t,r,n){return new yi(gi.uint,Ui(e,t+1,n),2)},vo[25]=function(e,t,r,n){return new yi(gi.uint,Di(e,t+1,n),3)},vo[26]=function(e,t,r,n){return new yi(gi.uint,$i(e,t+1,n),5)},vo[27]=function(e,t,r,n){return new yi(gi.uint,Fi(e,t+1,n),9)},vo[28]=yo,vo[29]=yo,vo[30]=yo,vo[31]=yo;for(let $f=32;$f<=55;$f++)vo[$f]=yo;vo[56]=function(e,t,r,n){return new yi(gi.negint,-1-Ui(e,t+1,n),2)},vo[57]=function(e,t,r,n){return new yi(gi.negint,-1-Di(e,t+1,n),3)},vo[58]=function(e,t,r,n){return new yi(gi.negint,-1-$i(e,t+1,n),5)},vo[59]=function(e,t,r,n){const i=Fi(e,t+1,n);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new yi(gi.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new yi(gi.negint,Hi-BigInt(i),9)},vo[60]=yo,vo[61]=yo,vo[62]=yo,vo[63]=yo;for(let $f=64;$f<=87;$f++)vo[$f]=Gi;vo[88]=function(e,t,r,n){return Vi(e,t,2,Ui(e,t+1,n))},vo[89]=function(e,t,r,n){return Vi(e,t,3,Di(e,t+1,n))},vo[90]=function(e,t,r,n){return Vi(e,t,5,$i(e,t+1,n))},vo[91]=function(e,t,r,n){const i=Fi(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return Vi(e,t,9,i)},vo[92]=yo,vo[93]=yo,vo[94]=yo,vo[95]=wo("indefinite length bytes/strings are not supported");for(let $f=96;$f<=119;$f++)vo[$f]=Zi;vo[120]=function(e,t,r,n){return Wi(e,t,2,Ui(e,t+1,n),n)},vo[121]=function(e,t,r,n){return Wi(e,t,3,Di(e,t+1,n),n)},vo[122]=function(e,t,r,n){return Wi(e,t,5,$i(e,t+1,n),n)},vo[123]=function(e,t,r,n){const i=Fi(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return Wi(e,t,9,i,n)},vo[124]=yo,vo[125]=yo,vo[126]=yo,vo[127]=wo("indefinite length bytes/strings are not supported");for(let $f=128;$f<=151;$f++)vo[$f]=eo;vo[152]=function(e,t,r,n){return Qi(0,0,2,Ui(e,t+1,n))},vo[153]=function(e,t,r,n){return Qi(0,0,3,Di(e,t+1,n))},vo[154]=function(e,t,r,n){return Qi(0,0,5,$i(e,t+1,n))},vo[155]=function(e,t,r,n){const i=Fi(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return Qi(0,0,9,i)},vo[156]=yo,vo[157]=yo,vo[158]=yo,vo[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return Qi(0,0,1,1/0)};for(let $f=160;$f<=183;$f++)vo[$f]=no;vo[184]=function(e,t,r,n){return ro(0,0,2,Ui(e,t+1,n))},vo[185]=function(e,t,r,n){return ro(0,0,3,Di(e,t+1,n))},vo[186]=function(e,t,r,n){return ro(0,0,5,$i(e,t+1,n))},vo[187]=function(e,t,r,n){const i=Fi(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return ro(0,0,9,i)},vo[188]=yo,vo[189]=yo,vo[190]=yo,vo[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return ro(0,0,1,1/0)};for(let $f=192;$f<=215;$f++)vo[$f]=oo;vo[216]=function(e,t,r,n){return new yi(gi.tag,Ui(e,t+1,n),2)},vo[217]=function(e,t,r,n){return new yi(gi.tag,Di(e,t+1,n),3)},vo[218]=function(e,t,r,n){return new yi(gi.tag,$i(e,t+1,n),5)},vo[219]=function(e,t,r,n){return new yi(gi.tag,Fi(e,t+1,n),9)},vo[220]=yo,vo[221]=yo,vo[222]=yo,vo[223]=yo;for(let $f=224;$f<=243;$f++)vo[$f]=wo("simple values are not supported");vo[244]=yo,vo[245]=yo,vo[246]=yo,vo[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new yi(gi.null,null,1):new yi(gi.undefined,void 0,1)},vo[248]=wo("simple values are not supported"),vo[249]=function(e,t,r,n){return ao(po(e,t+1),3,n)},vo[250]=function(e,t,r,n){return ao(mo(e,t+1),5,n)},vo[251]=function(e,t,r,n){return ao(go(e,t+1),9,n)},vo[252]=yo,vo[253]=yo,vo[254]=yo,vo[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new yi(gi.break,void 0,1)};const Eo=[];for(let $f=0;$f<24;$f++)Eo[$f]=new yi(gi.uint,$f,1);for(let $f=-1;$f>=-24;$f--)Eo[31-$f]=new yi(gi.negint,$f,1);Eo[64]=new yi(gi.bytes,new Uint8Array(0),1),Eo[96]=new yi(gi.string,"",1),Eo[128]=new yi(gi.array,0,1),Eo[160]=new yi(gi.map,0,1),Eo[244]=new yi(gi.false,!1,1),Eo[245]=new yi(gi.true,!0,1),Eo[246]=new yi(gi.null,null,1);const Ao={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=xo[i].compareTokens(r,n);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case gi.false:return ki([244]);case gi.true:return ki([245]);case gi.null:return ki([246]);case gi.bytes:return e.value.length?void 0:ki([64]);case gi.string:return""===e.value?ki([96]):void 0;case gi.array:return 0===e.value?ki([128]):void 0;case gi.map:return 0===e.value?ki([160]):void 0;case gi.uint:return e.value<24?ki([Number(e.value)]):void 0;case gi.negint:if(e.value>=-24)return ki([31-Number(e.value)])}}};const xo=function(){const e=[];return e[gi.uint.major]=ji,e[gi.negint.major]=Ki,e[gi.bytes.major]=Yi,e[gi.string.major]=Xi,e[gi.array.major]=to,e[gi.map.major]=io,e[gi.tag.major]=so,e[gi.float.major]=co,e}(),Mo=new Ri;class So{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new So(t,e)}}const ko={null:new yi(gi.null,null),undefined:new yi(gi.undefined,void 0),true:new yi(gi.true,!0),false:new yi(gi.false,!1),emptyArray:new yi(gi.array,0),emptyMap:new yi(gi.map,0)},Co={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new yi(e>=0?gi.uint:gi.negint,e):new yi(gi.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new yi(gi.uint,e):new yi(gi.negint,e),Uint8Array:(e,t,r,n)=>new yi(gi.bytes,e),string:(e,t,r,n)=>new yi(gi.string,e),boolean:(e,t,r,n)=>e?ko.true:ko.false,null:(e,t,r,n)=>ko.null,undefined:(e,t,r,n)=>ko.undefined,ArrayBuffer:(e,t,r,n)=>new yi(gi.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new yi(gi.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[ko.emptyArray,new yi(gi.break)]:ko.emptyArray;n=So.createCheck(n,e);const i=[];let o=0;for(const s of e)i[o++]=To(s,r,n);return r.addBreakTokens?[new yi(gi.array,e.length),i,new yi(gi.break)]:[new yi(gi.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),s=i?e.size:o.length;if(!s)return!0===r.addBreakTokens?[ko.emptyMap,new yi(gi.break)]:ko.emptyMap;n=So.createCheck(n,e);const a=[];let c=0;for(const u of o)a[c++]=[To(u,r,n),To(i?e.get(u):e[u],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,r),r.addBreakTokens?[new yi(gi.map,s),a,new yi(gi.break)]:[new yi(gi.map,s),a]}};Co.Map=Co.Object,Co.Buffer=Co.Uint8Array;for(const $f of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))Co[`${$f}Array`]=Co.DataView;function To(e,t={},r){const n=mi(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||Co[n];if("function"===typeof i){const o=i(e,n,t,r);if(null!=o)return o}const o=Co[n];if(!o)throw new Error(`CBOR encode error: unsupported type: ${n}`);return o(e,n,t,r)}function _o(e,t,r,n){if(Array.isArray(t))for(const i of t)_o(e,i,r,n);else r[t.type.major](e,t,n)}function Io(e,t,r){const n=To(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new Ri(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return xi(t.chunks[0])}}return Mo.reset(),_o(Mo,n,t,r),Mo.toBytes(!0)}const Bo={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Oo{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=Eo[e];if(void 0===t){const r=vo[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const Ro=Symbol.for("DONE"),No=Symbol.for("BREAK");function Lo(e,t){if(e.done())return Ro;const r=e.next();if(r.type===gi.break)return No;if(r.type.terminal)return r.value;if(r.type===gi.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=Lo(t,r);if(o===No){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===Ro)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===gi.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=Lo(t,r);if(a===No){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===Ro)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);if(!0===r.rejectDuplicateMapKeys&&(n&&o.has(a)||!n&&a in i))throw new Error(`CBOR decode error: found repeat map key "${a}"`);const c=Lo(t,r);if(c===Ro)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===gi.tag){if(t.tags&&"function"===typeof t.tags[r.value]){const n=Lo(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}var Po=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=Uo;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},Uo=Math.pow(2,31);var Do=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var $o=Math.pow(2,7),Fo=Math.pow(2,14),jo=Math.pow(2,21),zo=Math.pow(2,28),Ho=Math.pow(2,35),qo=Math.pow(2,42),Ko=Math.pow(2,49),Vo=Math.pow(2,56),Go=Math.pow(2,63),Jo={encode:Po,decode:Do,encodingLength:function(e){return e<$o?1:e<Fo?2:e<jo?3:e<zo?4:e<Ho?5:e<qo?6:e<Ko?7:e<Vo?8:e<Go?9:10}};const Yo=(e,t=0)=>[Jo.decode(e,t),Jo.decode.bytes],Wo=(e,t,r=0)=>(Jo.encode(e,t,r),t),Zo=e=>Jo.encodingLength(e),Xo=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class Qo{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}var es=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},ts=es;class rs{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class ns{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return os(this,e)}}class is{constructor(e){this.decoders=e}or(e){return os(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const os=(e,t)=>new is({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class ss{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new rs(e,t,r),this.decoder=new ns(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const as=({name:e,prefix:t,encode:r,decode:n})=>new ss(e,t,r,n),cs=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=ts(r,t);return as({prefix:e,name:t,encode:n,decode:e=>Xo(i(e))})},us=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>as({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),fs=cs({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hs=(cs({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),us({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5})),ds=(us({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),us({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),us({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),us({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),us({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),us({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),us({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),us({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),(e,t)=>{const{bytes:r,version:n}=e;return 0===n?gs(r,ps(e),t||fs.encoder):ys(r,ps(e),t||hs.encoder)}),ls=new WeakMap,ps=e=>{const t=ls.get(e);if(null==t){const t=new Map;return ls.set(e,t),t}return t};class bs{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==ws)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==vs)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return bs.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=((e,t)=>{const r=t.byteLength,n=Zo(e),i=n+Zo(r),o=new Uint8Array(i+r);return Wo(e,o,0),Wo(r,o,n),o.set(t,i),new Qo(e,r,t,o)})(e,t);return bs.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return bs.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&((e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0})(e.bytes,r.bytes)}})(e.multihash,r.multihash)}toString(e){return ds(this,e)}toJSON(){return{"/":ds(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof bs)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new bs(e,r,n,i||Es(e,r,n.bytes))}if(!0===t[As]){const{version:e,multihash:r,code:n}=t,i=(e=>{const t=Xo(e),[r,n]=Yo(t),[i,o]=Yo(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Qo(r,i,s,t)})(r);return bs.create(e,n,i)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ws)throw new Error(`Version 0 CID must use dag-pb (code: ${ws}) block encoding`);return new bs(e,t,r,r.bytes);case 1:{const n=Es(e,t,r.bytes);return new bs(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return bs.create(0,ws,e)}static createV1(e,t){return bs.create(1,e,t)}static decode(e){const[t,r]=bs.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=bs.inspectBytes(e),r=t.size-t.multihashSize,n=Xo(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new Qo(t.multihashCode,t.digestSize,i,n);return[0===t.version?bs.createV0(o):bs.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=Yo(e.subarray(t));return t+=n,r};let n=r(),i=ws;if(18===n?(n=0,t=0):i=r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=ms(e,t),i=bs.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return ps(i).set(r,e),i}}const ms=(e,t)=>{switch(e[0]){case"Q":{const r=t||fs;return[fs.prefix,r.decode(`${fs.prefix}${e}`)]}case fs.prefix:{const r=t||fs;return[fs.prefix,r.decode(e)]}case hs.prefix:{const r=t||hs;return[hs.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},gs=(e,t,r)=>{const{prefix:n}=r;if(n!==fs.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},ys=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},ws=112,vs=18,Es=(e,t,r)=>{const n=Zo(e),i=n+Zo(t),o=new Uint8Array(i+r.byteLength);return Wo(e,o,0),Wo(t,o,n),o.set(r,i),o},As=Symbol.for("@ipld/js-cid/CID");const xs={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=bs.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new yi(gi.tag,42),new yi(gi.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const Ms={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};Ms.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return bs.decode(e.subarray(1))};const Ss="dag-cbor",ks=113,Cs=e=>{return t=e,r=xs,r=Object.assign({},Ao,r),Io(t,xo,r);var t,r},Ts=e=>function(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},Bo,t)).tokenizer||new Oo(e,t),n=Lo(r,t);if(n===Ro)throw new Error("CBOR decode error: did not find any content to decode");if(n===No)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}(e,Ms);new Date("2022-09-20").valueOf();var _s,Is;function Bs(e){if(null===e.s||void 0===e.s)throw new Error("CACAO does not have a signature")}!function(e){e.fromSiweMessage=function(e){const t={h:{t:"eip4361"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:eip155:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"eip191",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwsMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:solana:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"solana:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwTezosMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:tezos:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"tezos:ed25519",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromSiwStacksMessage=function(e){const t={h:{t:"caip122"},p:{domain:e.domain,iat:e.issuedAt,iss:`did:pkh:stacks:${e.chainId}:${e.address}`,aud:e.uri,version:e.version,nonce:e.nonce}};return e.signature&&(t.s={t:"stacks:secp256k1",s:e.signature}),e.notBefore&&(t.p.nbf=e.notBefore),e.expirationTime&&(t.p.exp=e.expirationTime),e.statement&&(t.p.statement=e.statement),e.requestId&&(t.p.requestId=e.requestId),e.resources&&(t.p.resources=e.resources),t},e.fromBlockBytes=async function(e){const t=await async function({bytes:e,codec:t,hasher:r}){if(!e)throw new Error('Missing required argument "bytes"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.decode(e),i=await r.digest(e),o=Yn.k0.create(1,t.code,i);return new ti({value:n,bytes:e,cid:o})}({bytes:e,codec:u,hasher:ii.sha256});return t.value},e.verify=async function(e,t={}){Bs(e);const r=t.verifiers[e.s.t];if(!r)throw new Error("Unsupported CACAO signature type, register the needed verifier");return r(e,t)}}(_s||(_s={})),function(e){e.fromCacao=function(e){return ri({value:e,codec:u,hasher:ii.sha256})}}(Is||(Is={}));let Os=!1,Rs=!1;const Ns={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ls=Ns.default,Ps=null;const Us=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Ds,$s;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Ds||(Ds={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}($s||($s={}));const Fs="0123456789abcdef";class js{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==Ns[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Ls>Ns[r]||console.log.apply(console,t)}debug(...e){this._log(js.levels.DEBUG,e)}info(...e){this._log(js.levels.INFO,e)}warn(...e){this._log(js.levels.WARNING,e)}makeError(e,t,r){if(Rs)return this.makeError("censored error",t,{});t||(t=js.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Fs[t[e]>>4],r+=Fs[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let o="";switch(t){case $s.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case $s.CALL_EXCEPTION:case $s.INSUFFICIENT_FUNDS:case $s.MISSING_NEW:case $s.NONCE_EXPIRED:case $s.REPLACEMENT_UNDERPRICED:case $s.TRANSACTION_REPLACED:case $s.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,js.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Us&&this.throwError("platform missing String.prototype.normalize",js.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Us})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,js.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,js.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,js.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,js.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",js.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",js.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",js.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ps||(Ps=new js("logger/5.7.0")),Ps}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",js.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Os){if(!e)return;this.globalLogger().throwError("error censorship permanent",js.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Rs=!!e,Os=!!t}static setLogLevel(e){const t=Ns[e.toLowerCase()];null!=t?Ls=t:js.globalLogger().warn("invalid log level - "+e)}static from(e){return new js(e)}}js.errors=$s,js.levels=Ds;const zs=new js("bytes/5.7.0");function Hs(e){return!!e.toHexString}function qs(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return qs(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ks(e){return"number"===typeof e&&e==e&&e%1===0}function Vs(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Ks(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Ks(r)||r<0||r>=256)return!1}return!0}function Gs(e,t){if(t||(t={}),"number"===typeof e){zs.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),qs(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Hs(e)&&(e=e.toHexString()),Ys(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":zs.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return qs(new Uint8Array(n))}return Vs(e)?qs(new Uint8Array(e)):zs.throwArgumentError("invalid arrayify value","value",e)}function Js(e){const t=e.map((e=>Gs(e))),r=t.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(r);return t.reduce(((e,t)=>(n.set(t,e),e+t.length)),0),qs(n)}function Ys(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const Ws="0123456789abcdef";function Zs(e,t){if(t||(t={}),"number"===typeof e){zs.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=Ws[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Hs(e))return e.toHexString();if(Ys(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":zs.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Vs(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=Ws[(240&n)>>4]+Ws[15&n]}return t}return zs.throwArgumentError("invalid hexlify value","value",e)}function Xs(e,t,r){return"string"!==typeof e?e=Zs(e):(!Ys(e)||e.length%2)&&zs.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function Qs(e,t){for("string"!==typeof e?e=Zs(e):Ys(e)||zs.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&zs.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function ea(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ys(r=e)&&!(r.length%2)||Vs(r)){let r=Gs(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Zs(r.slice(0,32)),t.s=Zs(r.slice(32,64))):65===r.length?(t.r=Zs(r.slice(0,32)),t.s=Zs(r.slice(32,64)),t.v=r[64]):zs.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:zs.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Zs(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=Gs(e)).length>t&&zs.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),qs(r)}(Gs(t._vs),32);t._vs=Zs(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&zs.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=Zs(r);null==t.s?t.s=i:t.s!==i&&zs.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?zs.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&zs.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&Ys(t.r)?t.r=Qs(t.r,32):zs.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&Ys(t.s)?t.s=Qs(t.s,32):zs.throwArgumentError("signature missing or invalid s","signature",e);const r=Gs(t.s);r[0]>=128&&zs.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=Zs(r);t._vs&&(Ys(t._vs)||zs.throwArgumentError("signature invalid _vs","signature",e),t._vs=Qs(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&zs.throwArgumentError("signature _vs mismatch v and s","signature",e)}var r;return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}var ta=r(1094),ra=r.n(ta);function na(e){return"0x"+ra().keccak_256(Gs(e))}const ia=new js("strings/5.7.0");var oa,sa;function aa(e,t,r,n,i){if(e===sa.BAD_PREFIX||e===sa.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6===2;n++)e++;return e}return e===sa.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(oa||(oa={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(sa||(sa={}));Object.freeze({error:function(e,t,r,n,i){return ia.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:aa,replace:function(e,t,r,n,i){return e===sa.OVERLONG?(n.push(i),0):(n.push(65533),aa(e,t,r))}});function ca(e,t=oa.current){t!=oa.current&&(ia.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return Gs(r)}var ua=r(3550),fa=r.n(ua);var ha=fa().BN;new js("bignumber/5.7.0");const da=new js("address/5.7.0");function la(e){Ys(e,20)||da.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=Gs(na(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const pa={};for(let $f=0;$f<10;$f++)pa[String($f)]=String($f);for(let $f=0;$f<26;$f++)pa[String.fromCharCode(65+$f)]=String(10+$f);const ba=Math.floor((ma=9007199254740991,Math.log10?Math.log10(ma):Math.log(ma)/Math.LN10));var ma;function ga(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>pa[e])).join("");for(;t.length>=ba;){let e=t.substring(0,ba);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function ya(e){let t=null;if("string"!==typeof e&&da.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=la(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&da.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==ga(e)&&da.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new ha(r,36).toString(16);t.length<40;)t="0"+t;t=la("0x"+t)}else da.throwArgumentError("invalid address","address",e);var r;return t}var wa=r(3715),va=r.n(wa);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self&&self;function Ea(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var Aa=xa;function xa(e,t){if(!e)throw new Error(t||"Assertion failed")}xa.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Ma=Ea((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Sa=Ea((function(e,t){var r=t;r.assert=Aa,r.toArray=Ma.toArray,r.zero2=Ma.zero2,r.toHex=Ma.toHex,r.encode=Ma.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?(a=c>(i>>1)-1?(i>>1)-c:c,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,c=e.andln(3)+i&3,u=t.andln(3)+o&3;3===c&&(c=-1),3===u&&(u=-1),s=0===(1&c)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==u?c:-c,r[0].push(s),a=0===(1&u)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==c?u:-u,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(fa())(e,"hex","le")}})),ka=Sa.getNAF,Ca=Sa.getJSF,Ta=Sa.assert;function _a(e,t){this.type=e,this.p=new(fa())(t.p,16),this.red=t.prime?fa().red(t.prime):fa().mont(this.p),this.zero=new(fa())(0).toRed(this.red),this.one=new(fa())(1).toRed(this.red),this.two=new(fa())(2).toRed(this.red),this.n=t.n&&new(fa())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ia=_a;function Ba(e,t){this.curve=e,this.type=t,this.precomputed=null}_a.prototype.point=function(){throw new Error("Not implemented")},_a.prototype.validate=function(){throw new Error("Not implemented")},_a.prototype._fixedNafMul=function(e,t){Ta(e.precomputed);var r=e._getDoubles(),n=ka(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var c=o+r.step-1;c>=o;c--)s=(s<<1)+n[c];a.push(s)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?f=f.mixedAdd(r.points[o]):s===-h&&(f=f.mixedAdd(r.points[o].neg()));u=u.add(f)}return u.toP()},_a.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=ka(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var c=0;a>=0&&0===o[a];a--)c++;if(a>=0&&c++,s=s.dblp(c),a<0)break;var u=o[a];Ta(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},_a.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,c=this._wnafT1,u=this._wnafT2,f=this._wnafT3,h=0;for(o=0;o<n;o++){var d=(a=t[o])._getNAFPoints(e);c[o]=d.wnd,u[o]=d.points}for(o=n-1;o>=1;o-=2){var l=o-1,p=o;if(1===c[l]&&1===c[p]){var b=[t[l],null,null,t[p]];0===t[l].y.cmp(t[p].y)?(b[1]=t[l].add(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg())):0===t[l].y.cmp(t[p].y.redNeg())?(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].add(t[p].neg())):(b[1]=t[l].toJ().mixedAdd(t[p]),b[2]=t[l].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=Ca(r[l],r[p]);for(h=Math.max(g[0].length,h),f[l]=new Array(h),f[p]=new Array(h),s=0;s<h;s++){var y=0|g[0][s],w=0|g[1][s];f[l][s]=m[3*(y+1)+(w+1)],f[p][s]=0,u[l]=b}}else f[l]=ka(r[l],c[l],this._bitLength),f[p]=ka(r[p],c[p],this._bitLength),h=Math.max(f[l].length,h),h=Math.max(f[p].length,h)}var v=this.jpoint(null,null,null),E=this._wnafT4;for(o=h;o>=0;o--){for(var A=0;o>=0;){var x=!0;for(s=0;s<n;s++)E[s]=0|f[s][o],0!==E[s]&&(x=!1);if(!x)break;A++,o--}if(o>=0&&A++,v=v.dblp(A),o<0)break;for(s=0;s<n;s++){var M=E[s];0!==M&&(M>0?a=u[s][M-1>>1]:M<0&&(a=u[s][-M-1>>1].neg()),v="affine"===a.type?v.mixedAdd(a):v.add(a))}}for(o=0;o<n;o++)u[o]=null;return i?v:v.toP()},_a.BasePoint=Ba,Ba.prototype.eq=function(){throw new Error("Not implemented")},Ba.prototype.validate=function(){return this.curve.validate(this)},_a.prototype.decodePoint=function(e,t){e=Sa.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?Ta(e[e.length-1]%2===0):7===e[0]&&Ta(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Ba.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ba.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Ba.prototype.encode=function(e,t){return Sa.encode(this._encode(t),e)},Ba.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Ba.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Ba.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},Ba.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Ba.prototype._getBeta=function(){return null},Ba.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Oa=Ea((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),Ra=Sa.assert;function Na(e){Ia.call(this,"short",e),this.a=new(fa())(e.a,16).toRed(this.red),this.b=new(fa())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Oa(Na,Ia);var La=Na;function Pa(e,t,r,n){Ia.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(fa())(t,16),this.y=new(fa())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ua(e,t,r,n){Ia.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(fa())(0)):(this.x=new(fa())(t,16),this.y=new(fa())(r,16),this.z=new(fa())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Na.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(fa())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(fa())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],Ra(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new(fa())(e.a,16),b:new(fa())(e.b,16)}})):this._getEndoBasis(r)}}},Na.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:fa().mont(e),r=new(fa())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(fa())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Na.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s,a,c,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),l=new(fa())(1),p=new(fa())(0),b=new(fa())(0),m=new(fa())(1),g=0;0!==h.cmpn(0);){var y=d.div(h);c=d.sub(y.mul(h)),u=b.sub(y.mul(l));var w=m.sub(y.mul(p));if(!n&&c.cmp(f)<0)t=a.neg(),r=l,n=c.neg(),i=u;else if(n&&2===++g)break;a=c,d=h,h=c,b=l,l=u,m=p,p=w}o=c.neg(),s=u;var v=n.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(v)>=0&&(o=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:i},{a:o,b:s}]},Na.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),c=i.mul(r.b),u=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:c.add(u).neg()}},Na.prototype.pointFromX=function(e,t){(e=new(fa())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Na.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Na.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return u},Oa(Pa,Ia.BasePoint),Na.prototype.point=function(e,t,r){return new Pa(this,e,t,r)},Na.prototype.pointFromJSON=function(e,t){return Pa.fromJSON(this,e,t)},Pa.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Pa.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Pa.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},Pa.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Pa.prototype.isInfinity=function(){return this.inf},Pa.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Pa.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},Pa.prototype.getX=function(){return this.x.fromRed()},Pa.prototype.getY=function(){return this.y.fromRed()},Pa.prototype.mul=function(e){return e=new(fa())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Pa.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Pa.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Pa.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Pa.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Pa.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Oa(Ua,Ia.BasePoint),Na.prototype.jpoint=function(e,t,r){return new Ua(this,e,t,r)},Ua.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Ua.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ua.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),c=o.redSub(s);if(0===a.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),h=n.redMul(u),d=c.redSqr().redIAdd(f).redISub(h).redISub(h),l=c.redMul(h.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,l,p)},Ua.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),h=a.redSqr().redIAdd(u).redISub(f).redISub(f),d=a.redMul(f.redISub(h)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(h,d,l)},Ua.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),h=u.redSqr(),d=h.redSqr(),l=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=o.redMul(h),b=l.redSqr().redISub(p.redAdd(p)),m=p.redISub(b),g=l.redMul(m);g=g.redIAdd(g).redISub(d);var y=u.redMul(a);t+1<e&&(c=c.redMul(d)),o=b,a=y,u=g}return this.curve.jpoint(o,u.redMul(i),a)},Ua.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ua.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),c=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),d=h.redSqr(),l=this.x.redAdd(h).redSqr().redISub(f).redISub(d);l=l.redIAdd(l);var p=f.redAdd(f).redIAdd(f),b=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=b.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Ua.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=a.redSqr().redISub(s).redISub(s);e=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),d=this.x.redMul(h),l=this.x.redSub(f).redMul(this.x.redAdd(f));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),b=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(b),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=l.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},Ua.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=a.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=a.redMul(h).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,l,p)},Ua.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(a).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,d,l)},Ua.prototype.mul=function(e,t){return e=new(fa())(e,t),this.curve._wnafMul(this,e)},Ua.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Ua.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Ua.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ua.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Da=Ea((function(e,t){var r=t;r.base=Ia,r.short=La,r.mont=null,r.edwards=null})),$a=Ea((function(e,t){var r,n=t,i=Sa.assert;function o(e){"short"===e.type?this.curve=new Da.short(e):"edwards"===e.type?this.curve=new Da.edwards(e):this.curve=new Da.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:va().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:va().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:va().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:va().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:va().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:va().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:va().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(In){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:va().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Fa(e){if(!(this instanceof Fa))return new Fa(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Ma.toArray(e.entropy,e.entropyEnc||"hex"),r=Ma.toArray(e.nonce,e.nonceEnc||"hex"),n=Ma.toArray(e.pers,e.persEnc||"hex");Aa(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var ja=Fa;Fa.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Fa.prototype._hmac=function(){return new(va().hmac)(this.hash,this.K)},Fa.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Fa.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=Ma.toArray(e,t),r=Ma.toArray(r,n),Aa(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Fa.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=Ma.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,Ma.encode(o,t)};var za=Sa.assert;function Ha(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var qa=Ha;Ha.fromPublic=function(e,t,r){return t instanceof Ha?t:new Ha(e,{pub:t,pubEnc:r})},Ha.fromPrivate=function(e,t,r){return t instanceof Ha?t:new Ha(e,{priv:t,privEnc:r})},Ha.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Ha.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Ha.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Ha.prototype._importPrivate=function(e,t){this.priv=new(fa())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Ha.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?za(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||za(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Ha.prototype.derive=function(e){return e.validate()||za(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Ha.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Ha.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Ha.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ka=Sa.assert;function Va(e,t){if(e instanceof Va)return e;this._importDER(e,t)||(Ka(e.r&&e.s,"Signature without r or s"),this.r=new(fa())(e.r,16),this.s=new(fa())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Ga=Va;function Ja(){this.place=0}function Ya(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function Wa(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Za(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Va.prototype._importDER=function(e,t){e=Sa.toArray(e,t);var r=new Ja;if(48!==e[r.place++])return!1;var n=Ya(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=Ya(e,r);if(!1===i)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var s=Ya(e,r);if(!1===s)return!1;if(e.length!==s+r.place)return!1;var a=e.slice(r.place,s+r.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(fa())(o),this.s=new(fa())(a),this.recoveryParam=null,!0},Va.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Wa(t),r=Wa(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Za(n,t.length),(n=n.concat(t)).push(2),Za(n,r.length);var i=n.concat(r),o=[48];return Za(o,i.length),o=o.concat(i),Sa.encode(o,e)};var Xa=function(){throw new Error("unsupported")},Qa=Sa.assert;function ec(e){if(!(this instanceof ec))return new ec(e);"string"===typeof e&&(Qa(Object.prototype.hasOwnProperty.call($a,e),"Unknown curve "+e),e=$a[e]),e instanceof $a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var tc=ec;ec.prototype.keyPair=function(e){return new qa(this,e)},ec.prototype.keyFromPrivate=function(e,t){return qa.fromPrivate(this,e,t)},ec.prototype.keyFromPublic=function(e,t){return qa.fromPublic(this,e,t)},ec.prototype.genKeyPair=function(e){e||(e={});for(var t=new ja({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Xa(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(fa())(2));;){var i=new(fa())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},ec.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},ec.prototype.sign=function(e,t,r,n){"object"===typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new(fa())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new ja({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(fa())(1)),u=0;;u++){var f=n.k?n.k(u):new(fa())(a.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var d=h.getX(),l=d.umod(this.n);if(0!==l.cmpn(0)){var p=f.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var b=(h.getY().isOdd()?1:0)|(0!==d.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),b^=1),new Ga({r:l,s:p,recoveryParam:b})}}}}}},ec.prototype.verify=function(e,t,r,n){e=this._truncateToN(new(fa())(e,16)),r=this.keyFromPublic(r,n);var i=(t=new Ga(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,r.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(c,r.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},ec.prototype.recoverPubKey=function(e,t,r,n){Qa((3&r)===r,"The recovery param is more than two bits"),t=new Ga(t,n);var i=this.n,o=new(fa())(e),s=t.r,a=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var f=t.r.invm(i),h=i.sub(o).mul(f).umod(i),d=a.mul(f).umod(i);return this.g.mulAdd(h,s,d)},ec.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Ga(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var rc=Ea((function(e,t){var r=t;r.version="6.5.4",r.utils=Sa,r.rand=function(){throw new Error("unsupported")},r.curve=Da,r.curves=$a,r.ec=tc,r.eddsa=null})).ec;new js("properties/5.7.0");function nc(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}const ic=new js("signing-key/5.7.0");let oc=null;function sc(){return oc||(oc=new rc("secp256k1")),oc}class ac{constructor(e){nc(this,"curve","secp256k1"),nc(this,"privateKey",Zs(e)),32!==function(e){if("string"!==typeof e)e=Zs(e);else if(!Ys(e)||e.length%2)return null;return(e.length-2)/2}(this.privateKey)&&ic.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=sc().keyFromPrivate(Gs(this.privateKey));nc(this,"publicKey","0x"+t.getPublic(!1,"hex")),nc(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),nc(this,"_isSigningKey",!0)}_addPoint(e){const t=sc().keyFromPublic(Gs(this.publicKey)),r=sc().keyFromPublic(Gs(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=sc().keyFromPrivate(Gs(this.privateKey)),r=Gs(e);32!==r.length&&ic.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return ea({recoveryParam:n.recoveryParam,r:Qs("0x"+n.r.toString(16),32),s:Qs("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=sc().keyFromPrivate(Gs(this.privateKey)),r=sc().keyFromPublic(Gs(cc(e)));return Qs("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function cc(e,t){const r=Gs(e);if(32===r.length){const e=new ac(r);return t?"0x"+sc().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?Zs(r):"0x"+sc().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+sc().keyFromPublic(r).getPublic(!0,"hex"):Zs(r):ic.throwArgumentError("invalid public or private key","key","[REDACTED]")}new js("transactions/5.7.0");var uc;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(uc||(uc={}));function fc(e,t){return function(e){return ya(Xs(na(Xs(cc(e),1)),12))}(function(e,t){const r=ea(t),n={r:Gs(r.r),s:Gs(r.s)};return"0x"+sc().recoverPubKey(Gs(e),n,r.recoveryParam).encode("hex",!1)}(Gs(e),t))}new js("wallet/5.7.0");function hc(e,t){return fc(function(e){return"string"===typeof e&&(e=ca(e)),na(Js([ca("\x19Ethereum Signed Message:\n"),ca(String(e.length)),e]))}(e),t)}function dc(e){return"Left"===e._tag}function lc(e){return{_tag:"Left",left:e}}function pc(e){return{_tag:"Right",right:e}}function bc(e){if(dc(e))throw e.left;return e.right}class mc{input;position=0;constructor(e){this.input=e}get isEOF(){return this.position>=this.input.length}}function gc(e,t,r){return r.position=t,yc(e)}function yc(e){return lc(e)}function wc(e){return function(t){return t.input.slice(t.position,t.position+e.length)===e?(t.position+=e.length,pc(e)):yc(new Error(`Can not match literal "${e}"`))}}function vc(e,t){return function(r){const n=r.position,i=e(r);if(dc(i))return r.position=n,i;const o=t(i.right);return dc(o)?gc(o.left,n,r):o}}function Ec(e,t){return function(r){const n=r.position,i=e(r);return dc(i)?(r.position=n,i):pc(t(i.right))}}function Ac(e){return function(t){const r=t.input.slice(t.position).match(e);return r?(t.position+=r[0].length,pc(r[0])):yc(new Error(`Can not match ${e}`))}}function xc(...e){return Mc(kc(e))}function Mc(e,t=""){return function(r){const n=r.position,i=e(r);return dc(i)?(r.position=n,i):pc(i.right.join(t))}}function Sc(...e){return kc(e)}function kc(e){return function(t){const r=t.position,n=[];for(const i of e){const e=i(t);if(dc(e))return gc(e.left,r,t);n.push(e.right)}return pc(n)}}function Cc(e,t){return function(r){const n=e(r);return dc(n)?pc(t):n}}function Tc(...e){return function(t){for(const r of e){const e=t.position,n=r(t);if(!dc(n))return n;t.position=e}return yc(new Error(`Can not find any of ${e.map((e=>e.name)).join(", ")}`))}}function _c(e,t,r=1,n=1/0){return function(i){const o=i.position,s=[],a=e(i);if(dc(a))return gc(a.left,o,i);s.push(a.right);let c=i.position;const u=e=>s.length<r?gc(e.left,c,i):(i.position=c,pc(s));for(;!i.isEOF&&s.length<n;){c=i.position;const r=t(i);if(dc(r))return u(r);const n=e(i);if(dc(n))return u(n);s.push(n.right)}return s.length<r?gc(new Error(`Got ${s}/${r} instances of ${e.name}`),o,i):pc(s)}}function Ic(e){return function(t){const r=t.position,n=e(t);return dc(n)||t.isEOF?n:gc(new Error(`Consumed only ${t.position} of ${t.input.length} input length`),r,t)}}class Bc{trail;constructor(e){this.trail=e}static root(e,t){return new Bc([{key:"",type:e,actual:t}])}failures(e){throw e[0]}success(e){return pc(e)}failure(e){throw new Rc(this.trail,e)}child(e,t,r){const n=this.trail.concat([{key:e,type:t,actual:r}]);return new Bc(n)}}function Oc(e,t){const r=Bc.root(e,t),n=e.decode(t,r);if(dc(n))throw new Error(`Something is wrong: ${n} should be Right`);return n.right}class Rc extends Error{trail;constructor(e,t=`Invalid value ${function(e){return"function"===typeof e?Uc(e):"number"!==typeof e||isFinite(e)?JSON.stringify(e):isNaN(e)?"NaN":e>0?"Infinity":"-Infinity"}(e[e.length-1].actual)} supplied to ${function(e){return"/"+e.map((({key:e,type:t})=>`${e}(${t.name})`)).join("/")}(e)}`){super(t),this.trail=e}get value(){return this.trail[this.trail.length-1].actual}}class Nc{_A;_I;_O;name;constructor(e){this.name=e}pipe(e,t=`${this.name}\u2192${e.name}`){return new Dc(t,e.is,((t,r)=>{const n=this.decode(t,r);return dc(n)?n:e.decode(n.right,r)}),this.encode===Lc&&e.encode===Lc?Lc:t=>this.encode(e.encode(t)))}}function Lc(e){return e}class Pc extends Nc{is;constructor(e,t){super(e),this.is=t}encode=Lc;decode(e,t){return this.is(e)?t.success(e):t.failure()}}new Pc("null",(e=>null===e)),new Pc("undefined",(e=>void 0===e)),new Pc("void",(e=>void 0===e)),new Pc("string",(e=>"string"===typeof e)),new Pc("number",(e=>"number"===typeof e)),new Pc("boolean",(e=>"boolean"===typeof e)),new Pc("bigint",(e=>"bigint"===typeof e)),new Pc("unknown",(e=>!0)),new Pc("object",(e=>Boolean(e)&&"object"===typeof e));new Pc("UnknownArray",(e=>Array.isArray(e))),new Pc("UnknownDictionary",(e=>{if(!(Boolean(e)&&"object"===typeof e))return!1;if(Array.isArray(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const r=Object.hasOwn(t,"constructor")&&t.constructor;return"function"===typeof r&&r instanceof r&&r.toString()==Object.toString()}));new Pc("any",(e=>!0)),new Pc("never",(e=>!1));function Uc(e){return e.displayName||e.name||`<function${e.length}>`}class Dc extends Nc{name;is;decode;encode;constructor(e,t,r,n){super(e),this.name=e,this.is=t,this.decode=r,this.encode=n}}const $c=wc("."),Fc=wc(":"),jc=wc("::"),zc=Ac(/^([0-9a-fA-F]{2}){1,4}/),Hc=Ac(/^(25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]\d)|(\d)/),qc=xc(Hc,$c,Hc,$c,Hc,$c,Hc),Kc=Tc(xc(zc,Fc,zc),qc);const Vc=function(){const e=e=>Mc(function(e,t=1,r=1/0){return function(n){const i=n.position,o=[];for(;!n.isEOF&&o.length<r;){const r=e(n);if(dc(r))return o.length<t?gc(r.left,i,n):pc(o);o.push(r.right)}return pc(o)}}(xc(zc,Fc),e,e)),t=e=>Cc(Mc(_c(zc,Fc,1,e),":"),"");return Mc(Tc(Sc(e(6),Kc),Sc(jc,e(5),Kc),Sc(t(1),jc,e(4),Kc),Sc(t(2),jc,e(3),Kc),Sc(t(3),jc,e(2),Kc),Sc(t(4),jc,e(1),Kc),Sc(t(5),jc,Kc),Sc(t(6),jc,zc),Sc(t(7),jc)))}(),Gc=xc(wc("["),Vc,wc("]")),Jc=vc(Ac(/^\d+/),(e=>String(parseInt(e,10))===e?pc(e):lc(new Error(`Invalid port ${e}`)))),Yc=Tc(Gc,qc,Ac(/^([a-zA-Z0-9\-._~!$&'()*+,;=]|(%[a-fA-F0-9]{2}))*/)),Wc=xc(wc(":"),Jc),Zc=vc(xc(Yc,Cc(Wc,"")),(e=>e?pc(e):lc(new Error("domain can not be empty")))),Xc=vc(Ac(/^\S+/),(e=>{try{return new URL(e),pc(e)}catch(In){return lc(new Error(`Invalid URI ${e}`))}})),Qc=wc("\n"),eu=Ac(/^\d+/),tu=Ac(/^\w+/),ru=Ec(Sc(Zc,wc(" wants you to sign in with your "),tu,wc(" account:")),(e=>({domain:e[0],network:e[2]}))),nu=Ac(/^\w+/),iu=Ec(Cc(Sc(Ac(/^[^\n]+/),Qc),void 0),(e=>{if(e)return e[0]})),ou=Ec(Sc(wc("URI: "),Xc,Qc),(e=>e[1])),su=Ec(Sc(wc("Version: 1"),Qc),(()=>"1")),au=Ec(Sc(wc("Chain ID: "),eu,Qc),(e=>e[1])),cu=Ac(/^[a-zA-Z0-9]{8,}/),uu=Ec(Sc(wc("Nonce: "),cu,Qc),(e=>e[1])),fu=vc(Ac(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|([+-](\d\d):(\d\d)))/),(e=>Number.isFinite(Date.parse(e))?pc(e):lc(new Error(`Invalid date-time ${e}`)))),hu=e=>Ec(Sc(wc(e),fu),(e=>e[1])),du=hu("Issued At: "),lu=hu("Expiration Time: "),pu=hu("Not Before: "),bu=Ac(/^([a-zA-Z0-9-._~!$&'():@]|(%[a-fA-F0-9]{2}))*/),mu=Ec(Sc(wc("Request ID: "),bu,Qc),(e=>e[1])),gu=Xc,yu=Ec(Sc(wc("- "),gu),(e=>e[1])),wu=Ec(Sc(wc("Resources:"),Qc,Cc(_c(yu,Qc),[])),(e=>e[2])),vu=Ec(Sc(ru,Qc,nu,Qc),(e=>({domain:e[0].domain,network:e[0].network,address:e[2]}))),Eu=Ec(Sc(ou,su,au,uu,du),(e=>({uri:e[0],version:e[1],chainId:e[2],nonce:e[3],issuedAt:e[4]}))),Au=Cc(Sc(Qc,lu),void 0),xu=Cc(Sc(Qc,pu),void 0),Mu=Cc(Sc(Qc,mu),void 0),Su=Ec(Cc(Sc(Qc,wu),void 0),(e=>e?e[1]:void 0)),ku=Ec(Sc(Au,xu,Mu,Su),(e=>({expirationTime:e[0],notBefore:e[1],requestId:e[2],resources:e[3]}))),Cu=Ec(Sc(vu,Qc,iu,Qc,Eu,ku),(e=>{const t=e[0],r=e[2],n=e[4],i=e[5];return{domain:t.domain,network:t.network,address:t.address,statement:r,uri:n.uri,version:n.version,chainId:n.chainId,nonce:n.nonce,issuedAt:n.issuedAt,resources:i.resources}}));function Tu(e){const t=Ic(e);return function(e){return bc(t(new mc(e)))}}const _u=Tu(Zc),Iu=Tu(fu),Bu=Tu(Xc);function Ou(e,t){if(e)return e;throw new Error(`Expect non-empty string for "${t}" field`)}function Ru(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Nu{toString(){return function(e){const t=`${e.domain} wants you to sign in with your ${e.network} account:`,r=e.address,n=e.statement,i=`URI: ${e.uri}`,o=`Version: ${e.version}`,s=`Chain ID: ${e.chainId}`,a=`Nonce: ${e.nonce}`,c=`Issued At: ${e.issuedAt}`,u=e.expirationTime?`Expiration Time: ${e.expirationTime}`:void 0,f=e.notBefore?`Not Before: ${e.notBefore}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,d=e.resources?`Resources:\n${function(e){return e.map((e=>`- ${e}`)).join("\n")}(e.resources)}`:void 0;let l=`${t}\n${r}\n\n`;n&&(l+=`${n}\n`);return[l,i,o,s,a,c,u,f,h,d].filter(Boolean).join("\n")}(this)}constructor(e){var t;Ru(this,"domain",void 0),Ru(this,"network",void 0),Ru(this,"address",void 0),Ru(this,"statement",void 0),Ru(this,"uri",void 0),Ru(this,"version",void 0),Ru(this,"chainId",void 0),Ru(this,"nonce",void 0),Ru(this,"issuedAt",void 0),Ru(this,"expirationTime",void 0),Ru(this,"notBefore",void 0),Ru(this,"requestId",void 0),Ru(this,"resources",void 0),this.domain=_u(e.domain),this.network=Ou(e.network,"network"),this.address=Ou(e.address,"address"),this.statement=Uu(e.statement,(e=>Ou(e,"statement"))),this.uri=Bu(e.uri),this.version=function(e){if("1"!==String(e))throw new Error(`Invalid version string: ${e}`);return"1"}(e.version||"1"),this.chainId=(t=e.chainId,String(t)),this.nonce=function(e){return Tu(cu)(String(e))}(e.nonce),this.issuedAt=Iu(e.issuedAt),this.expirationTime=Uu(e.expirationTime,Iu),this.notBefore=Uu(e.notBefore,Iu),this.requestId=Uu(e.requestId,(e=>Ou(e,"requestId"))),this.resources=Uu(e.resources,(e=>e.map(Bu)))}}function Lu(e){const t=Ic(Cu)(new mc(e));return dc(t)?t:pc(new Nu(t.right))}function Pu(e){return bc(Lu(e))}function Uu(e,t){return void 0!==e?t(e):void 0}function Du(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $u,Fu;Ru(Nu,"fromString",Pu),Ru(Nu,"fromStringSafe",Lu),function(e){e.INVALID_SIGNATURE="Invalid signature.",e.EXPIRED_MESSAGE="Expired message.",e.MALFORMED_SESSION="Malformed session."}($u||($u={})),function(e){e.PERSONAL_SIGNATURE="Personal signature"}(Fu||(Fu={}));class ju extends class{static fromCacao(e){const t=x.parse(e.p.iss.replace("did:pkh:","")),r=new this({domain:e.p.domain,address:t.address,uri:e.p.aud,version:e.p.version,chainId:new A(t.chainId).reference});return e.p.statement&&(r.statement=e.p.statement),e.p.nonce&&(r.nonce=e.p.nonce),e.p.iat&&(r.issuedAt=e.p.iat),e.p.exp&&(r.expirationTime=e.p.exp),e.p.nbf&&(r.notBefore=e.p.nbf),e.p.requestId&&(r.requestId=e.p.requestId),e.p.resources&&(r.resources=e.p.resources),e.s&&(e.s.s&&(r.signature=e.s.s),"eip191"===e.s.t&&(r.type=Fu.PERSONAL_SIGNATURE)),r}toMessage(e){return function(e,t){const r=`${e.domain} wants you to sign in with your ${t} account:`,n=`URI: ${e.uri}`;let i=[r,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=`Nonce: ${e.nonce}`,a=`Chain ID: ${e.chainId}`,c=[n,o,a,s];e.issuedAt&&Date.parse(e.issuedAt);if(e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),c.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;c.push(t)}e.notBefore&&c.push(`Not Before: ${e.notBefore}`);e.requestId&&c.push(`Request ID: ${e.requestId}`);e.resources&&e.resources.length>=1&&c.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const u=c.join("\n");e.statement&&(i=[i,e.statement].join("\n\n"));return[i,u].join("\n\n")}(this,e)}constructor(e){if(Du(this,"domain",void 0),Du(this,"address",void 0),Du(this,"statement",void 0),Du(this,"uri",void 0),Du(this,"version",void 0),Du(this,"nonce",void 0),Du(this,"issuedAt",void 0),Du(this,"expirationTime",void 0),Du(this,"notBefore",void 0),Du(this,"requestId",void 0),Du(this,"chainId",void 0),Du(this,"resources",void 0),Du(this,"signature",void 0),Du(this,"type",void 0),"string"===typeof e){const t=Pu(e);this.domain=t.domain,this.address=t.address,this.statement=t.statement,this.uri=t.uri,this.version=t.version,this.nonce=t.nonce,this.issuedAt=t.issuedAt,this.expirationTime=t.expirationTime,this.notBefore=t.notBefore,this.requestId=t.requestId,this.chainId=t.chainId,this.resources=t.resources}else Object.assign(this,e)}}{toMessage(){return super.toMessage("Ethereum")}signMessage(){let e;return this.type,Fu.PERSONAL_SIGNATURE,e=this.toMessage(),e}}const zu=new Date("2022-09-20").valueOf();function Hu(e){return e instanceof Uint8Array}new Pc("Uint8Array",Hu);function qu(e){return new Dc(`Uint8Array-as-${String(e)}`,Hu,((t,r)=>{try{return r.success((0,hn.mL)(t,e))}catch{return r.failure()}}),(t=>(0,hn.BB)(t,e)))}qu("base64");const Ku=qu("base64pad"),Vu=qu("base64url");function Gu(e){return Ku.encode(e)}function Ju(e){const t=Oc(Vu,e);return JSON.parse((0,vn.B)(t))}function Yu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Wu={eip191:async(e,t)=>{!function(e,t){Bs(e),function(e,t){const r=t.atTime?t.atTime.getTime():Date.now(),n=1e3*(t.clockSkewSecs??300);if(Date.parse(e.p.iat)>r+n||Date.parse(e.p.nbf)>r+n)throw new Error("CACAO is not valid yet");const i=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0;if(!t.disableExpirationCheck&&Date.parse(e.p.exp)+i+n<r)throw new Error("CACAO has expired")}(e,t);const r=[hc(ju.fromCacao(e).toMessage(),e.s.s).toLowerCase()];if(Date.parse(e.p.iat)<=zu){const t=hc(function(e,t){const r=`${e.domain} wants you to sign in with your ${t} account:`,n=`URI: ${e.uri}`;let i=[r,e.address].join("\n");const o=`Version: ${e.version}`;e.nonce||(e.nonce=(Math.random()+1).toString(36).substring(4));const s=[n,o,`Nonce: ${e.nonce}`];if(e.issuedAt&&Date.parse(e.issuedAt),e.issuedAt=e.issuedAt?e.issuedAt:(new Date).toISOString(),s.push(`Issued At: ${e.issuedAt}`),e.expirationTime){const t=`Expiration Time: ${e.expirationTime}`;s.push(t)}e.notBefore&&s.push(`Not Before: ${e.notBefore}`),e.requestId&&s.push(`Request ID: ${e.requestId}`),e.chainId&&s.push(`Chain ID: ${e.chainId}`),e.resources&&s.push(["Resources:",...e.resources.map((e=>`- ${e}`))].join("\n"));const a=s.join("\n");return e.statement&&(i=[i,e.statement].join("\n\n")),[i,a].join("\n\n")}(ju.fromCacao(e),"Ethereum"),e.s.s).toLowerCase();r.push(t)}const n=x.parse(e.p.iss.replace("did:pkh:","")).address.toLowerCase();if(!r.includes(n))throw new Error("Signature does not belong to issuer")}(e,t)}};class Zu{get capability(){if(!this._capability)throw new Error("DID has no capability attached");return this._capability}get hasCapability(){return null!=this._capability}get parent(){if(!this._parentId)throw new Error("DID has no parent DID");return this._parentId}get hasParent(){return null!=this._parentId}get id(){if(null==this._id)throw new Error("DID is not authenticated");return this._id}get authenticated(){return null!=this._id}withCapability(e){return new Zu({provider:this._client?.connection,resolver:this._resolver,capability:e,parent:this._parentId})}setProvider(e){if(null==this._client)this._client=new li(e);else if(this._client.connection!==e)throw new Error("A different provider is already set, create a new DID instance to use another provider")}setResolver(e,t){this._resolver=function(e){return"registry"in e&&"cache"in e}(e)?e:new Jn(e,t)}async authenticate({provider:e,paths:t=[],aud:r}={}){if(null!=e&&this.setProvider(e),null==this._client)throw new Error("No provider available");const n=(0,vn.B)((0,zr.randomBytes)(16),"base64"),i=await this._client.request("did_authenticate",{nonce:n,aud:r,paths:t}),{kid:o}=await this.verifyJWS(i),s=Ju(i.payload);if(!o.includes(s.did))throw new Error("Invalid authencation response, kid mismatch");if(s.nonce!==n)throw new Error("Invalid authencation response, wrong nonce");if(s.aud!==r)throw new Error("Invalid authencation response, wrong aud");if(s.exp<Date.now()/1e3)throw new Error("Invalid authencation response, expired");return this._id=s.did,this._id}async createJWS(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");if(this._capability){const e=this._capability.p.exp;if(e&&Date.parse(e)<Date.now())throw new Error("Capability is expired, cannot create a valid signature");const r=await Is.fromCacao(this._capability),n=ni.k0.asCID(r.cid);if(!n)throw new Error("Capability CID of the JWS cannot be set to the capability payload cid as they are incompatible");t.protected=t.protected||{},t.protected.cap=`ipfs://${n?.toString()}`}const{jws:r}=await this._client.request("did_createJWS",{did:this._id,...t,payload:e});return r}async createDagJWS(e,t={}){const{cid:r,linkedBlock:i}=await async function(e){const t=await ri({value:e,codec:n,hasher:ii.sha256});return{cid:t.cid,linkedBlock:t.bytes}}(e),o=(s=r.bytes,Vu.encode(s));var s;Object.assign(t,{linkedBlock:Gu(i)});const a=await this.createJWS(o,t),c=ni.k0.asCID(r);if(!c)throw new Error("CID of the JWS cannot be set to the encoded payload cid as they are incompatible");if(a.link=c,this._capability){return{jws:a,linkedBlock:i,cacaoBlock:(await Is.fromCacao(this._capability)).bytes}}return{jws:a,linkedBlock:i}}async verifyJWS(e,t={}){t=Object.assign({verifiers:Wu},t),"string"!==typeof e&&(e=function(e){if(e.signatures.length>1)throw new Error("Cant convert to compact jws");return`${e.signatures[0].protected}.${e.payload}.${e.signatures[0].signature}`}(e));const r=Ju(e.split(".")[0]).kid;if(!r)throw new Error('No "kid" found in jws');const n=await this.resolve(r);if(!t.disableTimecheck){const e=n.didDocumentMetadata?.nextUpdate;if(e){const n=t.revocationPhaseOutSecs?1e3*t.revocationPhaseOutSecs:0,i=new Date(e).valueOf()+n;if(!(t.atTime&&t.atTime.getTime()<i))throw new Error(`invalid_jws: signature authored with a revoked DID version: ${r}`)}const i=n.didDocumentMetadata?.updated;if(i&&t.atTime&&t.atTime.getTime()<new Date(i).valueOf())throw new Error(`invalid_jws: signature authored before creation of DID version: ${r}`)}const i=n.didDocument?.id;if(t.issuer&&t.issuer===t.capability?.p.iss&&i===t.capability.p.aud){if(!t.verifiers)throw new Error("Registered verifiers needed for CACAO");await _s.verify(t.capability,{disableExpirationCheck:t.disableTimecheck,atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}})}else if(t.issuer&&t.issuer!==i){const e=function(e,t){if(t)return`${e}?versionTime=${t.toISOString().split(".")[0]+"Z"}`;return e}(t.issuer,t.atTime),n=(await this.resolve(e)).didDocument?.controller,o=function(e){return e?Array.isArray(e)?e:[e]:[]}(n);if(t.capability?.s&&t.capability.p.aud===i&&o.includes(t.capability.p.iss))await _s.verify(t.capability,{atTime:t.atTime?t.atTime:void 0,revocationPhaseOutSecs:t.revocationPhaseOutSecs,verifiers:t.verifiers??{}});else{if(!(!!i&&o.includes(i)))throw new Error(`invalid_jws: not a valid verificationMethod for issuer: ${r}`)}}const o=n.didDocument?.verificationMethod||[];let s;(0,Wr.ZW)(e,o);try{s=Ju(e.split(".")[1])}catch(In){}return{kid:r,payload:s,didResolutionResult:n}}async createJWE(e,t,r={}){const n=await(0,Wr.AX)(t,this._resolver);return(0,Wr.zO)(e,n,r.protectedHeader,r.aad)}async createDagJWE(e,t,r={}){const n=await si(e);return this.createJWE(n,t,r)}async decryptJWE(e,t={}){if(null==this._client)throw new Error("No provider available");if(null==this._id)throw new Error("DID is not authenticated");const{cleartext:r}=await this._client.request("did_decryptJWE",{did:this._id,...t,jwe:e});return function(e){return Oc(Ku,e)}(r)}async decryptDagJWE(e){return ai(await this.decryptJWE(e))}async resolve(e){const t=await this._resolver.resolve(e);if(t.didResolutionMetadata.error){const{error:r,message:n}=t.didResolutionMetadata;throw new Error(`Failed to resolve ${e}: ${r}${n?`, ${n}`:""}`)}return t}constructor({provider:e,resolver:t={},resolverOptions:r,capability:n,parent:i}={}){if(Yu(this,"_client",void 0),Yu(this,"_id",void 0),Yu(this,"_resolver",void 0),Yu(this,"_capability",void 0),Yu(this,"_parentId",void 0),null!=e&&(this._client=new li(e)),n){if(this._capability=n,this._parentId=this._capability.p.iss,i&&this._parentId!==i)throw new Error("Capability issuer and parent not equal")}else i&&(this._parentId=i);this.setResolver(t,r)}}function Xu(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Qu(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Xu(e,t,"get"))}function ef(e,t,r){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,r)}function tf(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,Xu(e,t,"set"),r),r}async function rf(e){const t=new mn(e||(0,zr.randomBytes)(32)),r=new Zu({provider:t,resolver:zn.getResolver()});return await r.authenticate(),r}var nf=new WeakMap,of=new WeakMap,sf=new WeakMap;class af{static async authorize(e,t={}){if(!t.resources||0===t.resources.length)throw new Error("Required: resource argument option when authorizing");const r=t,n=(0,zr.randomBytes)(32),i=await rf(n);if(r.uri=i.id,t.expiresInSecs){const e=new Date(Date.now()+1e3*t.expiresInSecs);r.expirationTime=e.toISOString()}const o=await e(t),s=await async function(e,t){const r=e.withCapability(t);return await r.authenticate(),r}(i,o);return new af({cacao:o,keySeed:n,did:s})}static async initDID(e,t){const r=e.withCapability(t);return await r.authenticate(),r}get did(){return Qu(this,nf)}serialize(){var e;return function(e){return hn.BB(hn.mL(JSON.stringify(e)),"base64url")}({sessionKeySeed:(e=Qu(this,of),hn.BB(e,"base64pad")),cacao:Qu(this,sf)})}static async fromSession(e){const{sessionKeySeed:t,cacao:r}=function(e){return JSON.parse(hn.BB(hn.mL(e,"base64url")))}(e),n=function(e){return hn.mL(e,"base64pad")}(t),i=await rf(n),o=await af.initDID(i,r);return new af({cacao:r,keySeed:n,did:o})}get hasSession(){return!!Qu(this,sf)&&!!Qu(this,nf)}get isExpired(){const e=Qu(this,sf).p.exp;return!!e&&Date.parse(e)<Date.now()}get expireInSecs(){const e=Qu(this,sf).p.exp;if(!e)throw new Error("Session does not expire");const t=Date.parse(e)-Date.now();return t<0?0:t/1e3}get authorizations(){return Qu(this,sf)?.p.resources??[]}get cacao(){return Qu(this,sf)}isAuthorized(e){return!(!this.hasSession||this.isExpired)&&(!e||e.every((e=>this.authorizations.includes(e))))}get id(){return Qu(this,nf).parent}constructor(e){ef(this,nf,{writable:!0,value:void 0}),ef(this,of,{writable:!0,value:void 0}),ef(this,sf,{writable:!0,value:void 0}),tf(this,of,e.keySeed),tf(this,sf,e.cacao),tf(this,nf,e.did)}}var cf=r(4516);async function uf(e){const t=e.getMascaApi(),r=await t.getVCStore();if((0,f.VZ)(r))throw new Error("Failed to get enabled VC stores.");if(!1===r.data.ceramic)return;const n=await t.validateStoredCeramicSession();if(!(0,f.VZ)(n))return;const i=await window.ethereum.request({method:"eth_requestAccounts"}),o=await Gr(window.ethereum,i[0]),s=await qr.getAuthMethod(window.ethereum,o);let a;try{a=await af.authorize(s,{expiresInSecs:86400,resources:["ceramic://*"]})}catch(In){throw new Error("User failed to sign session.")}const c=a.serialize(),u=await t.setCeramicSession(c);if((0,f.VZ)(u))throw new Error("Failed to set session in Masca.")}async function ff(e,t){return window.ethereum.request({method:"wallet_invokeSnap",params:{snapId:t,request:e}})}async function hf(e){return await uf(this),ff({method:"queryVCs",params:e??{}},this.snapId)}async function df(e){await uf(this);const t=await ff({method:"createVP",params:e},this.snapId);if((0,f.VZ)(t))return t;if(t.data.proof)return t;const r=f.YR.success(await async function(e){const t=await window.ethereum.request({method:"eth_requestAccounts"});if(!e.holder.includes(t[0]))throw new Error("Wrong holder");const r=parseInt(await window.ethereum.request({method:"eth_chainId"}),16);e.proof={verificationMethod:`${e.holder}#controller`,created:e.issuanceDate,proofPurpose:"assertionMethod",type:"EthereumEip712Signature2021"};const n=e,i={chainId:r,name:"VerifiablePresentation",version:"1"},o="VerifiablePresentation",s=(0,cf.getEthTypesFromInputDoc)(e,o),a=JSON.stringify({domain:i,types:s,message:n,primaryType:o}),c=await window.ethereum.request({method:"eth_signTypedData_v4",params:[t[0],a]});return e.proof.proofValue=c,e.proof.eip712={domain:i,types:s,primaryType:o},e}(t.data));return r}async function lf(e,t){return await uf(this),ff({method:"saveVC",params:{verifiableCredential:e,options:t}},this.snapId)}async function pf(e,t){return await uf(this),ff({method:"deleteVC",params:{id:e,options:t}},this.snapId)}async function bf(){return ff({method:"getDID"},this.snapId)}async function mf(){return ff({method:"getSelectedMethod"},this.snapId)}async function gf(){return ff({method:"getAvailableMethods"},this.snapId)}async function yf(e){return ff({method:"switchDIDMethod",params:{didMethod:e}},this.snapId)}async function wf(){return ff({method:"togglePopups"},this.snapId)}async function vf(){return ff({method:"getVCStore"},this.snapId)}async function Ef(){return ff({method:"getAvailableVCStores"},this.snapId)}async function Af(e,t){return ff({method:"setVCStore",params:{store:e,value:t}},this.snapId)}async function xf(){return ff({method:"getAccountSettings"},this.snapId)}async function Mf(){return ff({method:"getSnapSettings"},this.snapId)}async function Sf(e){return ff({method:"resolveDID",params:{did:e}},this.snapId)}async function kf(e){await uf(this);const t=await ff({method:"createVC",params:e},this.snapId);if((0,f.VZ)(t))return t;if(t.data.proof)return t;const r=f.YR.success(await async function(e){const t=await window.ethereum.request({method:"eth_requestAccounts"});let r="";if(r="string"===typeof e.issuer?e.issuer:e.issuer.id,!r.includes(t[0]))throw new Error("Invalid Issuer");const n=parseInt(await window.ethereum.request({method:"eth_chainId"}),16);e.proof={verificationMethod:`${r}#controller`,created:e.issuanceDate,proofPurpose:"assertionMethod",type:"EthereumEip712Signature2021"};const i=e,o={chainId:n,name:"VerifiableCredential",version:"1"},s="VerifiableCredential",a=(0,cf.getEthTypesFromInputDoc)(e,s),c={...a},u=JSON.stringify({domain:o,types:c,message:i,primaryType:s}),f=await window.ethereum.request({method:"eth_signTypedData_v4",params:[t[0],u]});return e.proof.proofValue=f,e.proof.eip712={domain:o,types:a,primaryType:s},e}(t.data));return r}async function Cf(e){return ff({method:"setCurrentAccount",params:e},this.snapId)}async function Tf(e){return ff({method:"verifyData",params:e},this.snapId)}async function _f(e){return ff({method:"handleOIDCCredentialOffer",params:e},this.snapId)}async function If(e){return ff({method:"handleOIDCAuthorizationRequest",params:e},this.snapId)}async function Bf(e){return ff({method:"setCeramicSession",params:{serializedSession:e}},this.snapId)}async function Of(){return ff({method:"validateStoredCeramicSession"},this.snapId)}var Rf=e=>async(...t)=>{try{return await e(...t)}catch(In){return f.YR.error(In.toString())}},Nf=["did:ethr","did:pkh"],Lf=[...Nf,"did:key","did:key:jwk_jcs-pub","did:jwk"],Pf=r(2003),Uf="npm:@blockchain-lab-um/masca";async function Df(e,t={}){const{snapId:r=Uf,version:n="0.3.1",supportedMethods:i=["did:ethr"]}=t;if(!(await Pf({mustBeMetaMask:!0})))return f.YR.error("No provider found");if(!(await window.ethereum.request({method:"web3_clientVersion"})).includes("flask"))return f.YR.error("MetaMask is not supported. Please install MetaMask Flask.");try{await window.ethereum.request({method:"wallet_requestSnaps",params:{[r]:{version:n}}});const t=new class{constructor(e,t){this.getMascaApi=()=>({saveVC:Rf(lf.bind(this)),queryVCs:Rf(hf.bind(this)),createVP:Rf(df.bind(this)),togglePopups:Rf(wf.bind(this)),getDID:Rf(bf.bind(this)),getSelectedMethod:Rf(mf.bind(this)),getAvailableMethods:Rf(gf.bind(this)),switchDIDMethod:Rf(yf.bind(this)),getVCStore:Rf(vf.bind(this)),setVCStore:Rf(Af.bind(this)),getAvailableVCStores:Rf(Ef.bind(this)),deleteVC:Rf(pf.bind(this)),getSnapSettings:Rf(Mf.bind(this)),getAccountSettings:Rf(xf.bind(this)),resolveDID:Rf(Sf.bind(this)),createVC:Rf(kf.bind(this)),setCurrentAccount:Rf(Cf.bind(this)),verifyData:Rf(Tf.bind(this)),handleOIDCCredentialOffer:Rf(_f.bind(this)),handleOIDCAuthorizationRequest:Rf(If.bind(this)),setCeramicSession:Rf(Bf.bind(this)),validateStoredCeramicSession:Rf(Of.bind(this))}),this.snapId=e,this.supportedMethods=t}}(r,i),o=t.getMascaApi(),s=await o.setCurrentAccount({currentAccount:e});if((0,f.VZ)(s))return f.YR.error(s.error);const a=await o.getSelectedMethod();if((0,f.VZ)(a))return f.YR.error(a.error);if(!(e=>(0,f.Hi)(Lf,e))(a.data)){const e=await o.switchDIDMethod(t.supportedMethods[0]);if((0,f.VZ)(e))return f.YR.error(e.error);if(!e.data)return f.YR.error("Could not switch to supported DID method")}return f.YR.success(t)}catch(o){return f.YR.error(o.toString())}}},318:function(e,t,r){"use strict";r.d(t,{YR:function(){return y},VZ:function(){return g},Hi:function(){return zt}});var n={};r.r(n),r.d(n,{identity:function(){return R}});var i={};r.r(i),r.d(i,{base2:function(){return N}});var o={};r.r(o),r.d(o,{base8:function(){return L}});var s={};r.r(s),r.d(s,{base10:function(){return P}});var a={};r.r(a),r.d(a,{base16:function(){return U},base16upper:function(){return D}});var c={};r.r(c),r.d(c,{base32:function(){return $},base32hex:function(){return H},base32hexpad:function(){return K},base32hexpadupper:function(){return V},base32hexupper:function(){return q},base32pad:function(){return j},base32padupper:function(){return z},base32upper:function(){return F},base32z:function(){return G}});var u={};r.r(u),r.d(u,{base36:function(){return J},base36upper:function(){return Y}});var f={};r.r(f),r.d(f,{base58btc:function(){return W},base58flickr:function(){return Z}});var h={};r.r(h),r.d(h,{base64:function(){return X},base64pad:function(){return Q},base64url:function(){return ee},base64urlpad:function(){return te}});var d={};r.r(d),r.d(d,{base256emoji:function(){return oe}});var l={};r.r(l),r.d(l,{sha256:function(){return ke},sha512:function(){return Ce}});var p={};r.r(p),r.d(p,{identity:function(){return _e}});var b={};r.r(b),r.d(b,{code:function(){return Be},decode:function(){return Re},encode:function(){return Oe},name:function(){return Ie}});var m={};r.r(m),r.d(m,{code:function(){return Ue},decode:function(){return $e},encode:function(){return De},name:function(){return Pe}});const g=e=>!e.success;class y{static success(e){return{success:!0,data:e}}static error(e){return{success:!1,error:e}}}r(1015),r(1653);var w=r(7221);r(1876).Buffer;const{publicKeyConvert:v}=w;var E=r(1191);var A=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},x=A;new Uint8Array(0);const M=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class S{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class k{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return T(this,e)}}class C{constructor(e){this.decoders=e}or(e){return T(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const T=(e,t)=>new C({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class _{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new S(e,t,r),this.decoder=new k(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const I=({name:e,prefix:t,encode:r,decode:n})=>new _(e,t,r,n),B=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=x(r,t);return I({prefix:e,name:t,encode:n,decode:e=>M(i(e))})},O=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>I({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),R=I({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),N=O({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),L=O({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),P=B({prefix:"9",name:"base10",alphabet:"0123456789"}),U=O({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),D=O({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),$=O({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),F=O({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j=O({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z=O({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H=O({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),q=O({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),K=O({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V=O({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),G=O({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),J=B({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y=B({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),W=B({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Z=B({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),X=O({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q=O({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ee=O({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),te=O({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),re=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),ne=re.reduce(((e,t,r)=>(e[r]=t,e)),[]),ie=re.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const oe=I({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=ne[t]),"")},decode:function(e){const t=[];for(const r of e){const e=ie[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var se=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=ae;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},ae=Math.pow(2,31);var ce=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var ue=Math.pow(2,7),fe=Math.pow(2,14),he=Math.pow(2,21),de=Math.pow(2,28),le=Math.pow(2,35),pe=Math.pow(2,42),be=Math.pow(2,49),me=Math.pow(2,56),ge=Math.pow(2,63),ye={encode:se,decode:ce,encodingLength:function(e){return e<ue?1:e<fe?2:e<he?3:e<de?4:e<le?5:e<pe?6:e<be?7:e<me?8:e<ge?9:10}};const we=(e,t,r=0)=>(ye.encode(e,t,r),t),ve=e=>ye.encodingLength(e),Ee=(e,t)=>{const r=t.byteLength,n=ve(e),i=n+ve(r),o=new Uint8Array(i+r);return we(e,o,0),we(r,o,n),o.set(t,i),new Ae(e,r,t,o)};class Ae{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const xe=({name:e,code:t,encode:r})=>new Me(e,t,r);class Me{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ee(this.code,t):t.then((e=>Ee(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Se=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ke=xe({name:"sha2-256",code:18,encode:Se("SHA-256")}),Ce=xe({name:"sha2-512",code:19,encode:Se("SHA-512")}),Te=M,_e={code:0,name:"identity",encode:Te,digest:e=>Ee(0,Te(e))},Ie="raw",Be=85,Oe=e=>M(e),Re=e=>M(e),Ne=new TextEncoder,Le=new TextDecoder,Pe="json",Ue=512,De=e=>Ne.encode(JSON.stringify(e)),$e=e=>JSON.parse(Le.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Fe={...n,...i,...o,...s,...a,...c,...u,...f,...h,...d};function je(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ze(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const He=ze("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),qe=ze("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{const t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?je(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));var Ke={utf8:He,"utf-8":He,hex:Fe.base16,latin1:qe,ascii:qe,binary:qe,...Fe};function Ve(e,t="utf8"){const r=Ke[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):je(globalThis.Buffer.from(e,"utf-8"))}function Ge(e,t="utf8"){const r=Ke[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Je=r(3294),Ye=r(1094),We=r(6266),Ze=r(1050),Xe=(r(5456),r(7715));r(7664),r(9375),r(1416);function Qe(e){return Ge(e,"base64url")}function et(e){return Ve(e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),"base64url")}function tt(e){return Ve(e,"base58btc")}function rt(e){return Ve((e.startsWith("0x")?e.substring(2):e).toLowerCase(),"base16")}function nt(e){return Ge(e,"base16")}function it(e){return Ve(e)}function ot({r:e,s:t,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(Ve(e,"base16"),0),i.set(Ve(t,"base16"),32),n){if("undefined"===typeof r)throw new Error("Signer did not return a recoveryParam");i[64]=r}return Qe(i)}function st(e){const t=et(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:nt(t.slice(0,32)),s:nt(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}const at=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ct=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ut=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ft=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ht=[0,1518500249,1859775393,2400959708,2840853838],dt=[1352829926,1548603684,1836072691,2053994217,0];function lt(e,t){return e<<t|e>>>32-t}function pt(e,t,r,n,i,o,s,a){return lt(e+(t^r^n)+o+s|0,a)+i|0}function bt(e,t,r,n,i,o,s,a){return lt(e+(t&r|~t&n)+o+s|0,a)+i|0}function mt(e,t,r,n,i,o,s,a){return lt(e+((t|~r)^n)+o+s|0,a)+i|0}function gt(e,t,r,n,i,o,s,a){return lt(e+(t&n|r&~n)+o+s|0,a)+i|0}function yt(e,t,r,n,i,o,s,a){return lt(e+(t^(r|~n))+o+s|0,a)+i|0}class wt{constructor(e=64){this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this._blockOffset=0,this._block=void 0,this._blockSize=void 0,this._length=[0,0,0,0],this._finalized=void 0,this.update=e=>{if(this._finalized)throw new Error("Digest already called");const t=this._block;let r=0;for(;this._blockOffset+e.length-r>=this._blockSize;){for(let n=this._blockOffset;n<this._blockSize;)t[n++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)t[this._blockOffset++]=e[r++];for(let n=0,i=8*e.length;i>0;++n)this._length[n]+=i,i=this._length[n]/4294967296|0,i>0&&(this._length[n]-=4294967296*i);return this},this.digest=()=>{if(this._finalized)throw new Error("Digest already called");this._finalized=!0;const e=this._digest();this._block.fill(0),this._blockOffset=0;for(let t=0;t<4;++t)this._length[t]=0;return e},this._update=()=>{const e=new Array(16),t=new DataView(this._block.buffer);for(let l=0;l<16;++l)e[l]=e[l]=t.getInt32(4*l,!0);let r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,c=0|this._b,u=0|this._c,f=0|this._d,h=0|this._e;for(let l=0;l<80;l+=1){let t,d;l<16?(t=pt(r,n,i,o,s,e[at[l]],ht[0],ut[l]),d=yt(a,c,u,f,h,e[ct[l]],dt[0],ft[l])):l<32?(t=bt(r,n,i,o,s,e[at[l]],ht[1],ut[l]),d=gt(a,c,u,f,h,e[ct[l]],dt[1],ft[l])):l<48?(t=mt(r,n,i,o,s,e[at[l]],ht[2],ut[l]),d=mt(a,c,u,f,h,e[ct[l]],dt[2],ft[l])):l<64?(t=gt(r,n,i,o,s,e[at[l]],ht[3],ut[l]),d=bt(a,c,u,f,h,e[ct[l]],dt[3],ft[l])):(t=yt(r,n,i,o,s,e[at[l]],ht[4],ut[l]),d=pt(a,c,u,f,h,e[ct[l]],dt[4],ft[l])),r=s,s=o,o=lt(i,10),i=n,n=t,a=h,h=f,f=lt(u,10),u=c,c=d}const d=this._b+i+f|0;this._b=this._c+o+h|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=d},this._digest=()=>{this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56);const e=new DataView(this._block.buffer);e.setUint32(56,this._length[0],!0),e.setUint32(60,this._length[1],!0),this._block=new Uint8Array(e.buffer),this._update();const t=new DataView(new Uint8Array(20).buffer);return t.setInt32(0,this._a,!0),t.setInt32(4,this._b,!0),t.setInt32(8,this._c,!0),t.setInt32(12,this._d,!0),t.setInt32(16,this._e,!0),new Uint8Array(t.buffer)},this._block=new Uint8Array(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}}function vt(e){const t="string"===typeof e?Ve(e):e;return(0,Je.vp)(t)}function Et(e){const t=Ve(e.slice(2),"base16");return`0x${Ge((r=t,new Uint8Array(Ye.keccak_256.arrayBuffer(r))).slice(-20),"base16")}`;var r}function At(e){return(new wt).update(e).digest()}new We.ec("secp256k1");new We.ec("p256");function xt(e){return"object"===typeof e&&"r"in e&&"s"in e}function Mt(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(xt(t))return ot(t,e);if(e&&"undefined"===typeof st(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(n){return Promise.reject(n)}}}function St(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(xt(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(r){return Promise.reject(r)}}}Mt(),Mt(!0),St(),St();const kt=(e,t)=>{const r=Ge(tt(t).slice(0,1),"hex")+Ge(At(vt(Ve(e,"hex"))),"hex"),n=vt(Ve(r,"hex")),i=Ge(vt(n),"hex").substring(0,8);return Ge(Ve(r+i,"hex"),"base58btc")},Ct=We.ec,Tt=(e,t)=>{if(t){const r=t.split(":");switch(r[0]){case"bip122":r[r.length-1]=kt(e,r[r.length-1]);break;case"cosmos":r[r.length-1]=((e,t)=>{const r=At(vt(Ve(new Ct("secp256k1").keyFromPublic(e,"hex").getPublic().encode("hex",!0),"hex"))),n=Xe.gW.toWords(r);return Xe.gW.encode(t,n).replace(t,"")})(e,r[1]);break;case"eip155":r[r.length-1]=Et(e);break;default:return!1}return r.join(":").toLowerCase()===t.toLowerCase()}return!1},_t=new We.ec("secp256k1"),It=new We.ec("p256");function Bt(e,t=!1){const r=et(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");const n={r:nt(r.slice(0,32)),s:nt(r.slice(32,64))};return t&&(n.recoveryParam=r[64]),n}function Ot(e){if(e.publicKeyBase58)return tt(e.publicKeyBase58);if(e.publicKeyBase64)return et(e.publicKeyBase64);if(e.publicKeyHex)return rt(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return rt(_t.keyFromPublic({x:nt(et(e.publicKeyJwk.x)),y:nt(et(e.publicKeyJwk.y))}).getPublic("hex"));if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return rt(It.keyFromPublic({x:nt(et(e.publicKeyJwk.x)),y:nt(et(e.publicKeyJwk.y))}).getPublic("hex"));if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&"Ed25519"===e.publicKeyJwk.crv&&e.publicKeyJwk.x)return et(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:r,base64:n,base64url:i}=Fe;return t.decoder.or(r.decoder.or(n.decoder.or(i.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function Rt(e,t,r){let n;if(t.length>86)n=[Bt(t,!0)];else{const e=Bt(t,!1);n=[{...e,recoveryParam:0},{...e,recoveryParam:1}]}const i=n.map((t=>{const n=vt(e),i=_t.recoverPubKey(n,t,t.recoveryParam),o=i.encode("hex"),s=i.encode("hex",!0),a=Et(o).toLowerCase();return r.find((e=>{var t,r,n;const i=nt(Ot(e));return i===o||i===s||(null==(t=e.ethereumAddress)?void 0:t.toLowerCase())===a||(null==(r=e.blockchainAccountId)||null==(n=r.split("@eip155"))?void 0:n[0].toLowerCase())===a||Tt(o,e.blockchainAccountId)}))})).filter((e=>"undefined"!==typeof e));if(0===i.length)throw new Error("invalid_signature: Signature invalid for JWT");return i[0]}function Nt(e,t,r){const n=it(e),i=et(t),o=r.find((e=>(0,Ze.T)(Ot(e),n,i)));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const Lt={ES256:function(e,t,r){const n=vt(e),i=Bt(t),o=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>"undefined"===typeof e&&"undefined"===typeof t)).find((e=>{try{const t=Ot(e);return It.keyFromPublic(t).verify(n,i)}catch(t){return!1}}));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o},ES256K:function(e,t,r){const n=vt(e),i=Bt(t),o=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>"undefined"===typeof e&&"undefined"===typeof t)),s=r.filter((({ethereumAddress:e,blockchainAccountId:t})=>"undefined"!==typeof e||"undefined"!==typeof t));let a=o.find((e=>{try{const t=Ot(e);return _t.keyFromPublic(t).verify(n,i)}catch(t){return!1}}));if(!a&&s.length>0&&(a=Rt(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":Rt,Ed25519:Nt,EdDSA:Nt};function Pt(e){const t=Lt[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}Pt.toSignatureObject=Bt;"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));var Ut=r(452);const Dt={SCHEMA_ERROR:"schema_error",FORMAT_ERROR:"format_error",AUTH_ERROR:"auth_error"};Ut.Fh;const{blake2bHex:$t}=E;r(1227)("veramo:utils");const{ec:Ft}=We;var jt;!function(e){e.Secp256r1="Secp256r1",e.Secp256k1="Secp256k1",e.Ed25519="Ed25519",e.X25519="X25519"}(jt||(jt={}));const zt=(e,t)=>e.includes(t)},452:function(e,t,r){"use strict";r.d(t,{vo:function(){return pi},Fh:function(){return Ci},zO:function(){return Fi},pk:function(){return Ti},jB:function(){return $i},AX:function(){return Vi},ZW:function(){return Oi},Y:function(){return Wi}});var n={};r.r(n),r.d(n,{identity:function(){return _}});var i={};r.r(i),r.d(i,{base2:function(){return I}});var o={};r.r(o),r.d(o,{base8:function(){return B}});var s={};r.r(s),r.d(s,{base10:function(){return O}});var a={};r.r(a),r.d(a,{base16:function(){return R},base16upper:function(){return N}});var c={};r.r(c),r.d(c,{base32:function(){return L},base32hex:function(){return $},base32hexpad:function(){return j},base32hexpadupper:function(){return z},base32hexupper:function(){return F},base32pad:function(){return U},base32padupper:function(){return D},base32upper:function(){return P},base32z:function(){return H}});var u={};r.r(u),r.d(u,{base36:function(){return q},base36upper:function(){return K}});var f={};r.r(f),r.d(f,{base58btc:function(){return V},base58flickr:function(){return G}});var h={};r.r(h),r.d(h,{base64:function(){return J},base64pad:function(){return Y},base64url:function(){return W},base64urlpad:function(){return Z}});var d={};r.r(d),r.d(d,{base256emoji:function(){return te}});var l={};r.r(l),r.d(l,{sha256:function(){return Ae},sha512:function(){return xe}});var p={};r.r(p),r.d(p,{identity:function(){return Se}});var b={};r.r(b),r.d(b,{code:function(){return Ce},decode:function(){return _e},encode:function(){return Te},name:function(){return ke}});var m={};r.r(m),r.d(m,{code:function(){return Re},decode:function(){return Le},encode:function(){return Ne},name:function(){return Oe}});var g={};r.r(g),r.d(g,{bitGet:function(){return It},bitLen:function(){return _t},bitMask:function(){return Ot},bitSet:function(){return Bt},bytesToHex:function(){return mt},bytesToNumberBE:function(){return vt},bytesToNumberLE:function(){return Et},concatBytes:function(){return kt},createHmacDrbg:function(){return Lt},ensureBytes:function(){return St},equalBytes:function(){return Ct},hexToBytes:function(){return wt},hexToNumber:function(){return yt},numberToBytesBE:function(){return At},numberToBytesLE:function(){return xt},numberToHexUnpadded:function(){return gt},numberToVarBytesBE:function(){return Mt},utf8ToBytes:function(){return Tt},validateObject:function(){return Ut}});var y=r(738);var w=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};new Uint8Array(0);const v=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};class E{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class A{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return M(this,e)}}class x{constructor(e){this.decoders=e}or(e){return M(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const M=(e,t)=>new x({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class S{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new E(e,t,r),this.decoder=new A(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const k=({name:e,prefix:t,encode:r,decode:n})=>new S(e,t,r,n),C=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=w(r,t);return k({prefix:e,name:t,encode:n,decode:e=>v(i(e))})},T=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>k({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)}),_=k({prefix:"\0",name:"identity",encode:e=>{return t=e,(new TextDecoder).decode(t);var t},decode:e=>(e=>(new TextEncoder).encode(e))(e)}),I=T({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),B=T({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),O=C({prefix:"9",name:"base10",alphabet:"0123456789"}),R=T({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),N=T({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),L=T({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P=T({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),U=T({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),D=T({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),$=T({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),F=T({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),j=T({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),z=T({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),H=T({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),q=C({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),K=C({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),V=C({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),G=C({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),J=T({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y=T({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),W=T({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Z=T({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),X=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),Q=X.reduce(((e,t,r)=>(e[r]=t,e)),[]),ee=X.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const te=k({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=Q[t]),"")},decode:function(e){const t=[];for(const r of e){const e=ee[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var re=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=ne;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},ne=Math.pow(2,31);var ie=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var oe=Math.pow(2,7),se=Math.pow(2,14),ae=Math.pow(2,21),ce=Math.pow(2,28),ue=Math.pow(2,35),fe=Math.pow(2,42),he=Math.pow(2,49),de=Math.pow(2,56),le=Math.pow(2,63),pe={encode:re,decode:ie,encodingLength:function(e){return e<oe?1:e<se?2:e<ae?3:e<ce?4:e<ue?5:e<fe?6:e<he?7:e<de?8:e<le?9:10}};const be=(e,t,r=0)=>(pe.encode(e,t,r),t),me=e=>pe.encodingLength(e),ge=(e,t)=>{const r=t.byteLength,n=me(e),i=n+me(r),o=new Uint8Array(i+r);return be(e,o,0),be(r,o,n),o.set(t,i),new ye(e,r,t,o)};class ye{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const we=({name:e,code:t,encode:r})=>new ve(e,t,r);class ve{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ge(this.code,t):t.then((e=>ge(this.code,e)))}throw Error("Unknown type, must be binary type")}}const Ee=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Ae=we({name:"sha2-256",code:18,encode:Ee("SHA-256")}),xe=we({name:"sha2-512",code:19,encode:Ee("SHA-512")}),Me=v,Se={code:0,name:"identity",encode:Me,digest:e=>ge(0,Me(e))},ke="raw",Ce=85,Te=e=>v(e),_e=e=>v(e),Ie=new TextEncoder,Be=new TextDecoder,Oe="json",Re=512,Ne=e=>Ie.encode(JSON.stringify(e)),Le=e=>JSON.parse(Be.decode(e));new WeakMap;Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Pe={...n,...i,...o,...s,...a,...c,...u,...f,...h,...d};function Ue(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function De(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}const $e={number:Ue,bool:function(e){if("boolean"!==typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:De,hash:function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ue(e.outputLen),Ue(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){De(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}};var Fe=$e;const je="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ze=e=>e instanceof Uint8Array,He=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),qe=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ke(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function Ve(e){if("string"===typeof e&&(e=Ke(e)),!ze(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function Ge(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!ze(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}class Je{clone(){return this._cloneInto()}}function Ye(e){const t=t=>e().update(Ve(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function We(e=32){if(je&&"function"===typeof je.getRandomValues)return je.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class Ze extends Je{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=He(this.buffer)}update(e){Fe.exists(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Ve(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=He(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fe.exists(this),Fe.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let f=o;f<n;f++)t[f]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),c=n?4:0,u=n?0:4;e.setUint32(t+c,s,n),e.setUint32(t+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=He(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)s.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const Xe=BigInt(2**32-1),Qe=BigInt(32);function et(e,t=!1){return t?{h:Number(e&Xe),l:Number(e>>Qe&Xe)}:{h:0|Number(e>>Qe&Xe),l:0|Number(e&Xe)}}var tt={fromBig:et,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=et(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<Qe|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};const[rt,nt]=tt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),it=new Uint32Array(80),ot=new Uint32Array(80);class st extends Ze{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:u,Fh:f,Fl:h,Gh:d,Gl:l,Hh:p,Hl:b}=this;return[e,t,r,n,i,o,s,a,c,u,f,h,d,l,p,b]}set(e,t,r,n,i,o,s,a,c,u,f,h,d,l,p,b){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|u,this.Fh=0|f,this.Fl=0|h,this.Gh=0|d,this.Gl=0|l,this.Hh=0|p,this.Hl=0|b}process(e,t){for(let y=0;y<16;y++,t+=4)it[y]=e.getUint32(t),ot[y]=e.getUint32(t+=4);for(let y=16;y<80;y++){const e=0|it[y-15],t=0|ot[y-15],r=tt.rotrSH(e,t,1)^tt.rotrSH(e,t,8)^tt.shrSH(e,t,7),n=tt.rotrSL(e,t,1)^tt.rotrSL(e,t,8)^tt.shrSL(e,t,7),i=0|it[y-2],o=0|ot[y-2],s=tt.rotrSH(i,o,19)^tt.rotrBH(i,o,61)^tt.shrSH(i,o,6),a=tt.rotrSL(i,o,19)^tt.rotrBL(i,o,61)^tt.shrSL(i,o,6),c=tt.add4L(n,a,ot[y-7],ot[y-16]),u=tt.add4H(c,r,s,it[y-7],it[y-16]);it[y]=0|u,ot[y]=0|c}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:u,Eh:f,El:h,Fh:d,Fl:l,Gh:p,Gl:b,Hh:m,Hl:g}=this;for(let y=0;y<80;y++){const e=tt.rotrSH(f,h,14)^tt.rotrSH(f,h,18)^tt.rotrBH(f,h,41),t=tt.rotrSL(f,h,14)^tt.rotrSL(f,h,18)^tt.rotrBL(f,h,41),w=f&d^~f&p,v=h&l^~h&b,E=tt.add5L(g,t,v,nt[y],ot[y]),A=tt.add5H(E,m,e,w,rt[y],it[y]),x=0|E,M=tt.rotrSH(r,n,28)^tt.rotrBH(r,n,34)^tt.rotrBH(r,n,39),S=tt.rotrSL(r,n,28)^tt.rotrBL(r,n,34)^tt.rotrBL(r,n,39),k=r&i^r&s^i&s,C=n&o^n&a^o&a;m=0|p,g=0|b,p=0|d,b=0|l,d=0|f,l=0|h,({h:f,l:h}=tt.add(0|c,0|u,0|A,0|x)),c=0|s,u=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const T=tt.add3L(x,S,C);r=tt.add3H(T,A,M,k),n=0|T}({h:r,l:n}=tt.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=tt.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=tt.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:u}=tt.add(0|this.Dh,0|this.Dl,0|c,0|u)),({h:f,l:h}=tt.add(0|this.Eh,0|this.El,0|f,0|h)),({h:d,l:l}=tt.add(0|this.Fh,0|this.Fl,0|d,0|l)),({h:p,l:b}=tt.add(0|this.Gh,0|this.Gl,0|p,0|b)),({h:m,l:g}=tt.add(0|this.Hh,0|this.Hl,0|m,0|g)),this.set(r,n,i,o,s,a,c,u,f,h,d,l,p,b,m,g)}roundClean(){it.fill(0),ot.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class at extends st{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class ct extends st{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class ut extends st{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const ft=Ye((()=>new st)),ht=(Ye((()=>new at)),Ye((()=>new ct)),Ye((()=>new ut)),BigInt(0)),dt=BigInt(1),lt=BigInt(2),pt=e=>e instanceof Uint8Array,bt=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function mt(e){if(!pt(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=bt[e[r]];return t}function gt(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function yt(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function wt(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(t/2);for(let n=0;n<r.length;n++){const t=2*n,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");r[n]=o}return r}function vt(e){return yt(mt(e))}function Et(e){if(!pt(e))throw new Error("Uint8Array expected");return yt(mt(Uint8Array.from(e).reverse()))}function At(e,t){return wt(e.toString(16).padStart(2*t,"0"))}function xt(e,t){return At(e,t).reverse()}function Mt(e){return wt(gt(e))}function St(e,t,r){let n;if("string"===typeof t)try{n=wt(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!pt(t))throw new Error(`${e} must be hex string or Uint8Array`);n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function kt(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let r=0;return e.forEach((e=>{if(!pt(e))throw new Error("Uint8Array expected");t.set(e,r),r+=e.length})),t}function Ct(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Tt(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function _t(e){let t;for(t=0;e>ht;e>>=dt,t+=1);return t}function It(e,t){return e>>BigInt(t)&dt}const Bt=(e,t,r)=>e|(r?dt:ht)<<BigInt(t),Ot=e=>(lt<<BigInt(e-1))-dt,Rt=e=>new Uint8Array(e),Nt=e=>Uint8Array.from(e);function Lt(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=Rt(e),i=Rt(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),c=(e=Rt())=>{i=a(Nt([0]),e),n=a(),0!==e.length&&(i=a(Nt([1]),e),n=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return kt(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(u()));)c();return s(),r}}const Pt={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Ut(e,t,r={}){const n=(t,r,n)=>{const i=Pt[r];if("function"!==typeof i)throw new Error(`Invalid validator "${r}", expected function`);const o=e[t];if((!n||void 0!==o)&&!i(o,e))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${r}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}const Dt=BigInt(0),$t=BigInt(1),Ft=BigInt(2),jt=BigInt(3),zt=BigInt(4),Ht=BigInt(5),qt=BigInt(8);BigInt(9),BigInt(16);function Kt(e,t){const r=e%t;return r>=Dt?r:t+r}function Vt(e,t,r){if(r<=Dt||t<Dt)throw new Error("Expected power/modulo > 0");if(r===$t)return Dt;let n=$t;for(;t>Dt;)t&$t&&(n=n*e%r),e=e*e%r,t>>=$t;return n}function Gt(e,t,r){let n=e;for(;t-- >Dt;)n*=n,n%=r;return n}function Jt(e,t){if(e===Dt||t<=Dt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Kt(e,t),n=t,i=Dt,o=$t,s=$t,a=Dt;for(;r!==Dt;){const e=n/r,t=n%r,c=i-s*e,u=o-a*e;n=r,r=t,i=s,o=a,s=c,a=u}if(n!==$t)throw new Error("invert: does not exist");return Kt(i,t)}function Yt(e){if(e%zt===jt){const t=(e+$t)/zt;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%qt===Ht){const t=(e-Ht)/qt;return function(e,r){const n=e.mul(r,Ft),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,Ft),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-$t)/Ft;let r,n,i;for(r=e-$t,n=0;r%Ft===Dt;r/=Ft,n++);for(i=Ft;i<e&&Vt(i,t,e)!==e-$t;i++);if(1===n){const t=(e+$t)/zt;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+$t)/Ft;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,c=e.pow(e.mul(e.ONE,i),r),u=e.pow(s,o),f=e.pow(s,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(f);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(c,$t<<BigInt(a-t-1));c=e.sqr(r),u=e.mul(u,r),f=e.mul(f,c),a=t}return u}}(e)}const Wt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Zt(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Xt(e,t,r=!1,n={}){if(e<=Dt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Zt(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Yt(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:Ot(i),ZERO:Dt,ONE:$t,create:t=>Kt(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return Dt<=t&&t<e},is0:e=>e===Dt,isOdd:e=>(e&$t)===$t,neg:t=>Kt(-t,e),eql:(e,t)=>e===t,sqr:t=>Kt(t*t,e),add:(t,r)=>Kt(t+r,e),sub:(t,r)=>Kt(t-r,e),mul:(t,r)=>Kt(t*r,e),pow:(e,t)=>function(e,t,r){if(r<Dt)throw new Error("Expected power > 0");if(r===Dt)return e.ONE;if(r===$t)return t;let n=e.ONE,i=t;for(;r>Dt;)r&$t&&(n=e.mul(n,i)),i=e.sqr(i),r>>=$t;return n}(a,e,t),div:(t,r)=>Kt(t*Jt(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Jt(t,e),sqrt:n.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?xt(e,o):At(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return r?Et(e):vt(e)}});return Object.freeze(a)}const Qt=BigInt(0),er=BigInt(1);function tr(e,t){const r=(e,t)=>{const r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>Qt;)r&er&&(n=n.add(i)),i=i.double(),r>>=er;return n},precomputeWindow(e,t){const{windows:r,windowSize:i}=n(t),o=[];let s=e,a=s;for(let n=0;n<r;n++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=n(t);let c=e.ZERO,u=e.BASE;const f=BigInt(2**t-1),h=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let n=Number(o&f);o>>=d,n>a&&(n-=h,o+=er);const s=t,l=t+Math.abs(n)-1,p=e%2!==0,b=n<0;0===n?u=u.add(r(p,i[s])):c=c.add(r(b,i[l]))}return{p:c,f:u}},wNAFCached(e,t,r,n){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,n(o))),this.wNAF(i,o,r)}}}function rr(e){return Ut(e.Fp,Wt.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Ut(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Zt(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const nr=BigInt(0),ir=BigInt(1),or=BigInt(2),sr=BigInt(8),ar={zip215:!0};function cr(e){const t=function(e){const t=rr(e);return Ut(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:c}=t,u=or<<BigInt(8*a)-ir,f=r.create,h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(n){return{isValid:!1,value:nr}}}),d=t.adjustScalarBytes||(e=>e),l=t.domain||((e,t,r)=>{if(t.length||r)throw new Error("Contexts/pre-hash are not supported");return e}),p=e=>"bigint"===typeof e&&nr<e,b=(e,t)=>p(e)&&p(t)&&e<t,m=e=>e===nr||b(e,u);function g(e,t){if(b(e,t))return e;throw new Error(`Expected valid scalar < ${t}, got ${typeof e} ${e}`)}function y(e){return e===nr?e:g(e,n)}const w=new Map;function v(e){if(!(e instanceof E))throw new Error("ExtendedPoint expected")}class E{constructor(e,t,r,n){if(this.ex=e,this.ey=t,this.ez=r,this.et=n,!m(e))throw new Error("x required");if(!m(t))throw new Error("y required");if(!m(r))throw new Error("z required");if(!m(n))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof E)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};if(!m(t)||!m(r))throw new Error("invalid affine point");return new E(t,r,ir,f(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(E.fromAffine)}_setWindowSize(e){this._WINDOW_SIZE=e,w.delete(this)}assertValidity(){const{a:e,d:r}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:n,ey:i,ez:o,et:s}=this,a=f(n*n),c=f(i*i),u=f(o*o),h=f(u*u),d=f(a*e);if(f(u*f(d+c))!==f(h+f(r*f(a*c))))throw new Error("bad point: equation left != right (1)");if(f(n*i)!==f(o*s))throw new Error("bad point: equation left != right (2)")}equals(e){v(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),c=f(i*n),u=f(r*s),h=f(o*n);return a===c&&u===h}is0(){return this.equals(E.ZERO)}negate(){return new E(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=f(r*r),s=f(n*n),a=f(or*f(i*i)),c=f(e*o),u=r+n,h=f(f(u*u)-o-s),d=c+s,l=d-a,p=c-s,b=f(h*l),m=f(d*p),g=f(h*p),y=f(l*d);return new E(b,m,y,g)}add(e){v(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:c,ey:u,ez:h,et:d}=e;if(r===BigInt(-1)){const e=f((o-i)*(u+c)),t=f((o+i)*(u-c)),r=f(t-e);if(r===nr)return this.double();const n=f(s*or*d),l=f(a*or*h),p=l+n,b=t+e,m=l-n,g=f(p*r),y=f(b*m),w=f(p*m),v=f(r*b);return new E(g,y,v,w)}const l=f(i*c),p=f(o*u),b=f(a*n*d),m=f(s*h),g=f((i+o)*(c+u)-l-p),y=m-b,w=m+b,A=f(p-r*l),x=f(g*y),M=f(w*A),S=f(g*A),k=f(y*w);return new E(x,M,k,S)}subtract(e){return this.add(e.negate())}wNAF(e){return M.wNAFCached(this,w,e,E.normalizeZ)}multiply(e){const{p:t,f:r}=this.wNAF(g(e,n));return E.normalizeZ([t,r])[0]}multiplyUnsafe(e){let t=y(e);return t===nr?x:this.equals(x)||t===ir?this:this.equals(A)?this.wNAF(t).p:M.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return M.unsafeLadder(this,n).is0()}toAffine(e){const{ex:t,ey:n,ez:i}=this,o=this.is0();null==e&&(e=o?sr:r.inv(i));const s=f(t*e),a=f(n*e),c=f(i*e);if(o)return{x:nr,y:ir};if(c!==ir)throw new Error("invZ was invalid");return{x:s,y:a}}clearCofactor(){const{h:e}=t;return e===ir?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:o}=t,s=r.BYTES,a=(e=St("pointHex",e,s)).slice(),c=e[s-1];a[s-1]=-129&c;const d=Et(a);d===nr||g(d,n?u:r.ORDER);const l=f(d*d),p=f(l-ir),b=f(i*l-o);let{isValid:m,value:y}=h(p,b);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const w=(y&ir)===ir,v=0!==(128&c);if(!n&&y===nr&&v)throw new Error("Point.fromHex: x=0 and x_0=1");return v!==w&&(y=f(-y)),E.fromAffine({x:y,y:d})}static fromPrivateKey(e){return C(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=xt(t,r.BYTES);return n[n.length-1]|=e&ir?128:0,n}toHex(){return mt(this.toRawBytes())}}E.BASE=new E(t.Gx,t.Gy,ir,f(t.Gx*t.Gy)),E.ZERO=new E(nr,ir,ir,nr);const{BASE:A,ZERO:x}=E,M=tr(E,8*a);function S(e){return Kt(e,n)}function k(e){return S(Et(e))}function C(e){const t=a;e=St("private key",e,t);const r=St("hashed private key",o(e),2*t),n=d(r.slice(0,t)),i=r.slice(t,2*t),s=k(n),c=A.multiply(s),u=c.toRawBytes();return{head:n,prefix:i,scalar:s,point:c,pointBytes:u}}function T(e=new Uint8Array,...t){const r=kt(...t);return k(o(l(r,St("context",e),!!i)))}const _=ar;A._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return C(e).pointBytes},sign:function(e,t,n={}){e=St("message",e),i&&(e=i(e));const{prefix:o,scalar:s,pointBytes:c}=C(t),u=T(n.context,o,e),f=A.multiply(u).toRawBytes(),h=S(u+T(n.context,f,c,e)*s);return y(h),St("result",kt(f,xt(h,r.BYTES)),2*a)},verify:function(e,t,n,o=_){const{context:s,zip215:a}=o,c=r.BYTES;e=St("signature",e,2*c),t=St("message",t),i&&(t=i(t));const u=Et(e.slice(c,2*c));let f,h,d;try{f=E.fromHex(n,a),h=E.fromHex(e.slice(0,c),a),d=A.multiplyUnsafe(u)}catch(p){return!1}if(!a&&f.isSmallOrder())return!1;const l=T(s,h.toRawBytes(),f.toRawBytes(),t);return h.add(f.multiplyUnsafe(l)).subtract(d).clearCofactor().equals(E.ZERO)},ExtendedPoint:E,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=E.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const ur=BigInt(0),fr=BigInt(1);function hr(e){const t=(Ut(r=e,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r}));var r;const{P:n}=t,i=e=>Kt(e,n),o=t.montgomeryBits,s=Math.ceil(o/8),a=t.nByteLength,c=t.adjustScalarBytes||(e=>e),u=t.powPminus2||(e=>Vt(e,n-BigInt(2),n));function f(e,t,r){const n=i(e*(t-r));return[t=i(t-n),r=i(r+n)]}function h(e){if("bigint"===typeof e&&ur<=e&&e<n)return e;throw new Error("Expected valid scalar 0 < scalar < CURVE.P")}const d=(t.a-BigInt(2))/BigInt(4);function l(e){return xt(i(e),s)}function p(e,t){const r=function(e){const t=St("u coordinate",e,s);return a===s&&(t[a-1]&=127),Et(t)}(t),n=function(e){const t=St("scalar",e);if(t.length!==s&&t.length!==a)throw new Error(`Expected ${s} or ${a} bytes, got ${t.length}`);return Et(c(t))}(e),p=function(e,t){const r=h(e),n=h(t),s=r;let a,c=fr,l=ur,p=r,b=fr,m=ur;for(let u=BigInt(o-1);u>=ur;u--){const e=n>>u&fr;m^=e,a=f(m,c,p),c=a[0],p=a[1],a=f(m,l,b),l=a[0],b=a[1],m=e;const t=c+l,r=i(t*t),o=c-l,h=i(o*o),g=r-h,y=p+b,w=i((p-b)*t),v=i(y*o),E=w+v,A=w-v;p=i(E*E),b=i(s*i(A*A)),c=i(r*h),l=i(g*(r+i(d*g)))}a=f(m,c,p),c=a[0],p=a[1],a=f(m,l,b),l=a[0],b=a[1];const g=u(l);return i(c*g)}(r,n);if(p===ur)throw new Error("Invalid private or public key received");return l(p)}const b=l(t.Gu);function m(e){return p(e,b)}return{scalarMult:p,scalarMultBase:m,getSharedSecret:(e,t)=>p(e,t),getPublicKey:e=>m(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:b}}const dr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),pr=(BigInt(0),BigInt(1)),br=BigInt(2),mr=BigInt(5),gr=BigInt(10),yr=BigInt(20),wr=BigInt(40),vr=BigInt(80);function Er(e){const t=dr,r=e*e%t*e%t,n=Gt(r,br,t)*r%t,i=Gt(n,pr,t)*e%t,o=Gt(i,mr,t)*i%t,s=Gt(o,gr,t)*o%t,a=Gt(s,yr,t)*s%t,c=Gt(a,wr,t)*a%t,u=Gt(c,vr,t)*c%t,f=Gt(u,vr,t)*c%t,h=Gt(f,gr,t)*o%t;return{pow_p_5_8:Gt(h,br,t)*e%t,b2:r}}function Ar(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function xr(e,t){const r=dr,n=Kt(t*t*t,r),i=Kt(n*n*t,r);let o=Kt(e*n*Er(e*i).pow_p_5_8,r);const s=Kt(t*o*o,r),a=o,c=Kt(o*lr,r),u=s===e,f=s===Kt(-e,r),h=s===Kt(-e*lr,r);return u&&(o=a),(f||h)&&(o=c),(Kt(o,r)&$t)===$t&&(o=Kt(-o,r)),{isValid:u||f,value:o}}const Mr=Xt(dr,void 0,!0),Sr={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Mr,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ft,randomBytes:We,adjustScalarBytes:Ar,uvRatio:xr},kr=cr(Sr);function Cr(e,t,r){if(t.length>255)throw new Error("Context is too big");return Ge(Ke("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,t.length]),t,e)}cr({...Sr,domain:Cr}),cr({...Sr,domain:Cr,prehash:ft});const Tr=(()=>hr({P:dr,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=dr,{pow_p_5_8:r,b2:n}=Er(e);return Kt(Gt(r,BigInt(3),t)*n,t)},adjustScalarBytes:Ar,randomBytes:We}))();const _r=(Mr.ORDER+BigInt(3))/BigInt(8);Mr.pow(br,_r),Mr.sqrt(Mr.neg(Mr.ONE)),Mr.ORDER,BigInt(5),BigInt(8),BigInt(486662);!function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);e.isOdd(r)&&e.neg(r)}(Mr,Mr.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ir=(e,t,r)=>e&t^e&r^t&r,Br=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Or=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Rr=new Uint32Array(64);class Nr extends Ze{constructor(){super(64,32,8,!1),this.A=0|Or[0],this.B=0|Or[1],this.C=0|Or[2],this.D=0|Or[3],this.E=0|Or[4],this.F=0|Or[5],this.G=0|Or[6],this.H=0|Or[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let h=0;h<16;h++,t+=4)Rr[h]=e.getUint32(t,!1);for(let h=16;h<64;h++){const e=Rr[h-15],t=Rr[h-2],r=qe(e,7)^qe(e,18)^e>>>3,n=qe(t,17)^qe(t,19)^t>>>10;Rr[h]=n+Rr[h-7]+r+Rr[h-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:c,H:u}=this;for(let h=0;h<64;h++){const e=u+(qe(s,6)^qe(s,11)^qe(s,25))+((f=s)&a^~f&c)+Br[h]+Rr[h]|0,t=(qe(r,2)^qe(r,13)^qe(r,22))+Ir(r,n,i)|0;u=c,c=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+t|0}var f;r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,n,i,o,s,a,c,u)}roundClean(){Rr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Lr extends Nr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Pr=Ye((()=>new Nr)),Ur=(Ye((()=>new Lr)),new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8])),Dr=Uint8Array.from({length:16},((e,t)=>t)),$r=Dr.map((e=>(9*e+5)%16));let Fr=[Dr],jr=[$r];for(let Xi=0;Xi<4;Xi++)for(let e of[Fr,jr])e.push(e[Xi].map((e=>Ur[e])));const zr=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Hr=Fr.map(((e,t)=>e.map((e=>zr[t][e])))),qr=jr.map(((e,t)=>e.map((e=>zr[t][e])))),Kr=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Vr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Gr=(e,t)=>e<<t|e>>>32-t;function Jr(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const Yr=new Uint32Array(16);class Wr extends Ze{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let d=0;d<16;d++,t+=4)Yr[d]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,c=0|this.h3,u=c,f=0|this.h4,h=f;for(let d=0;d<5;d++){const e=4-d,t=Kr[d],l=Vr[d],p=Fr[d],b=jr[d],m=Hr[d],g=qr[d];for(let n=0;n<16;n++){const e=Gr(r+Jr(d,i,s,c)+Yr[p[n]]+t,m[n])+f|0;r=f,f=c,c=0|Gr(s,10),s=i,i=e}for(let r=0;r<16;r++){const t=Gr(n+Jr(e,o,a,u)+Yr[b[r]]+l,g[r])+h|0;n=h,h=u,u=0|Gr(a,10),a=o,o=t}}this.set(this.h1+s+u|0,this.h2+c+h|0,this.h3+f+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){Yr.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const Zr=Ye((()=>new Wr)),[Xr,Qr,en]=[[],[],[]],tn=BigInt(0),rn=BigInt(1),nn=BigInt(2),on=BigInt(7),sn=BigInt(256),an=BigInt(113);for(let Xi=0,Qi=rn,eo=1,to=0;Xi<24;Xi++){[eo,to]=[to,(2*eo+3*to)%5],Xr.push(2*(5*to+eo)),Qr.push((Xi+1)*(Xi+2)/2%64);let e=tn;for(let t=0;t<7;t++)Qi=(Qi<<rn^(Qi>>on)*an)%sn,Qi&nn&&(e^=rn<<(rn<<BigInt(t))-rn);en.push(e)}const[cn,un]=tt.split(en,!0),fn=(e,t,r)=>r>32?tt.rotlBH(e,t,r):tt.rotlSH(e,t,r),hn=(e,t,r)=>r>32?tt.rotlBL(e,t,r):tt.rotlSL(e,t,r);class dn extends Je{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Fe.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,o=r[i],s=r[i+1],a=fn(o,s,1)^r[t],c=hn(o,s,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=c}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Qr[r],o=fn(t,i,n),s=hn(t,i,n),a=Xr[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=cn[n],e[1]^=un[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Fe.exists(this);const{blockLen:t,state:r}=this,n=(e=Ve(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Fe.exists(this,!1),Fe.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Fe.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Fe.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new dn(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ln=(e,t,r)=>Ye((()=>new dn(t,e,r))),pn=(ln(6,144,28),ln(6,136,32),ln(6,104,48),ln(6,72,64),ln(1,144,28),ln(1,136,32)),bn=(ln(1,104,48),ln(1,72,64),(e,t,r)=>function(e){const t=(t,r)=>e(r).update(Ve(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(((n={})=>new dn(t,e,void 0===n.dkLen?r:n.dkLen,!0))));bn(31,168,16),bn(31,136,32);var mn=r(7408),gn=r(9784),yn=r(1690);const{bytesToNumberBE:wn,hexToBytes:vn}=g,En={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=En;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:wn(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=En,r="string"===typeof e?vn(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=En._parseInt(r.subarray(2)),{d:s,l:a}=En._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),c=r(s);return`30${r(s+o+4)}02${c}${i}02${a}${n}`}},An=BigInt(0),xn=BigInt(1),Mn=(BigInt(2),BigInt(3));BigInt(4);function Sn(e){const t=function(e){const t=rr(e);Ut(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{const i=t.toAffine();return kt(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function o(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"===typeof e&&An<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!==typeof e){if(e instanceof Uint8Array&&(e=mt(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*n,"0")}let s;try{s="bigint"===typeof e?e:vt(St("private key",e,n))}catch(c){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=Kt(s,o)),a(s),s}const u=new Map;function f(e){if(!(e instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof h)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?h.ZERO:new h(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}static fromHex(e){const t=h.fromAffine(i(St("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),s=o(e);if(!r.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){f(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),u=r.eql(r.mul(n,a),r.mul(s,i));return c&&u}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,Mn),{px:o,py:s,pz:a}=this;let c=r.ZERO,u=r.ZERO,f=r.ZERO,d=r.mul(o,o),l=r.mul(s,s),p=r.mul(a,a),b=r.mul(o,s);return b=r.add(b,b),f=r.mul(o,a),f=r.add(f,f),c=r.mul(e,f),u=r.mul(i,p),u=r.add(c,u),c=r.sub(l,u),u=r.add(l,u),u=r.mul(c,u),c=r.mul(b,c),f=r.mul(i,f),p=r.mul(e,p),b=r.sub(d,p),b=r.mul(e,b),b=r.add(b,f),f=r.add(d,d),d=r.add(f,d),d=r.add(d,p),d=r.mul(d,b),u=r.add(u,d),p=r.mul(s,a),p=r.add(p,p),d=r.mul(p,b),c=r.sub(c,d),f=r.mul(p,l),f=r.add(f,f),f=r.add(f,f),new h(c,u,f)}add(e){f(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let u=r.ZERO,d=r.ZERO,l=r.ZERO;const p=t.a,b=r.mul(t.b,Mn);let m=r.mul(n,s),g=r.mul(i,a),y=r.mul(o,c),w=r.add(n,i),v=r.add(s,a);w=r.mul(w,v),v=r.add(m,g),w=r.sub(w,v),v=r.add(n,o);let E=r.add(s,c);return v=r.mul(v,E),E=r.add(m,y),v=r.sub(v,E),E=r.add(i,o),u=r.add(a,c),E=r.mul(E,u),u=r.add(g,y),E=r.sub(E,u),l=r.mul(p,v),u=r.mul(b,y),l=r.add(u,l),u=r.sub(g,l),l=r.add(g,l),d=r.mul(u,l),g=r.add(m,m),g=r.add(g,m),y=r.mul(p,y),v=r.mul(b,v),g=r.add(g,y),y=r.sub(m,y),y=r.mul(p,y),v=r.add(v,y),m=r.mul(g,v),d=r.add(d,m),m=r.mul(E,v),u=r.mul(w,u),u=r.sub(u,m),m=r.mul(w,g),l=r.mul(E,l),l=r.add(l,m),new h(u,d,l)}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return l.wNAFCached(this,u,e,(e=>{const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(h.fromAffine)}))}multiplyUnsafe(e){const n=h.ZERO;if(e===An)return n;if(a(e),e===xn)return this;const{endo:i}=t;if(!i)return l.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:u}=i.splitScalar(e),f=n,d=n,p=this;for(;s>An||u>An;)s&xn&&(f=f.add(p)),u&xn&&(d=d.add(p)),p=p.double(),s>>=xn,u>>=xn;return o&&(f=f.negate()),c&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),f.add(d)}multiply(e){a(e);let n,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:u,f:f}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);u=l.constTimeNegate(e,u),d=l.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=u.add(d),i=f.add(p)}else{const{p:e,f:t}=this.wNAF(o);n=e,i=t}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){const n=h.BASE,i=(e,t)=>t!==An&&t!==xn&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){const{px:t,py:n,pz:i}=this,o=this.is0();null==e&&(e=o?r.ONE:r.inv(i));const s=r.mul(t,e),a=r.mul(n,e),c=r.mul(i,e);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===xn)return!0;if(r)return r(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===xn?this:r?r(h,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(h,this,e)}toHex(e=!0){return mt(this.toRawBytes(e))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const d=t.nBitLength,l=tr(h,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}function kn(e){const t=function(e){const t=rr(e);return Ut(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return Kt(e,n)}function a(e){return Jt(e,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:h}=Sn({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=kt;return n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=vt(s);if(!(An<(a=e)&&a<r.ORDER))throw new Error("Point is not on curve");const t=f(e);let i=r.sqrt(t);return 1===(1&n)!==((i&xn)===xn)&&(i=r.neg(i)),{x:e,y:i}}var a}}),d=e=>mt(At(e,t.nByteLength));function l(e){return e>n>>xn}const p=(e,t,r)=>vt(e.slice(t,r));class b{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=St("compactSignature",e,2*r),new b(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=En.toSig(St("DER",e));return new b(t,r)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,u=w(St("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const h=0===(1&o)?"02":"03",l=c.fromHex(h+d(f)),p=a(f),b=s(-u*p),m=s(i*p),g=c.BASE.multiplyAndAddUnsafe(l,b,m);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return wt(this.toDERHex())}toDERHex(){return En.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return wt(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const m={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=function(e,t,r=!1){const n=(e=St("privateHash",e)).length,i=Zt(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);return Kt(r?Et(e):vt(e),t-$t)+$t}(t.randomBytes(r.BYTES+8),n);return At(e,t.nByteLength)},precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function g(e){const t=e instanceof Uint8Array,r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof c}const y=t.bits2int||function(e){const r=vt(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},w=t.bits2int_modN||function(e){return s(y(e))},v=Ot(t.nBitLength);function E(e){if("bigint"!==typeof e)throw new Error("bigint expected");if(!(An<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return At(e,t.nByteLength)}function A(e,n,i=x){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:d,prehash:p,extraEntropy:m}=i;null==d&&(d=!0),e=St("msgHash",e),p&&(e=St("prehashed msgHash",o(e)));const g=w(e),v=u(n),A=[E(v),E(g)];if(null!=m){const e=!0===m?f(r.BYTES):m;A.push(St("extraEntropy",e,r.BYTES))}const M=kt(...A),S=g;return{seed:M,k2sig:function(e){const t=y(e);if(!h(t))return;const r=a(t),n=c.BASE.multiply(t).toAffine(),i=s(n.x);if(i===An)return;const o=s(r*s(S+i*v));if(o===An)return;let u=(n.x===i?0:2)|Number(n.y&xn),f=o;return d&&l(o)&&(f=function(e){return l(e)?s(-e):e}(o),u^=1),new b(i,f,u)}}}const x={lowS:t.lowS,prehash:!1},M={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(g(e))throw new Error("first arg must be private key");if(!g(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(u(e)).toRawBytes(r)},sign:function(e,r,n=x){const{seed:i,k2sig:o}=A(e,r,n),s=t;return Lt(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,n,i=M){const o=e;if(r=St("msgHash",r),n=St("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:f}=i;let h,d;try{if("string"===typeof o||o instanceof Uint8Array)try{h=b.fromDER(o)}catch(A){if(!(A instanceof En.Err))throw A;h=b.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;h=new b(e,t)}}d=c.fromHex(n)}catch(x){if("PARSE"===x.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&h.hasHighS())return!1;f&&(r=t.hash(r));const{r:l,s:p}=h,m=w(r),g=a(p),y=s(m*g),v=s(l*g),E=c.BASE.multiplyAndAddUnsafe(d,y,v)?.toAffine();return!!E&&s(E.x)===l},ProjectivePoint:c,Signature:b,utils:m}}class Cn extends Je{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Fe.hash(e);const r=Ve(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Fe.exists(this),this.iHash.update(e),this}digestInto(e){Fe.exists(this),Fe.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return(e=e).finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Tn=(e,t,r)=>new Cn(e,t).update(r).digest();function _n(e){return{hash:e,hmac:(t,...r)=>Tn(e,t,Ge(...r)),randomBytes:We}}function In(e,t){const r=t=>kn({...e,..._n(t)});return Object.freeze({...r(t),create:r})}Tn.create=(e,t)=>new Cn(e,t);const Bn=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),On=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Rn=BigInt(1),Nn=BigInt(2),Ln=(e,t)=>(e+t/Nn)/t;function Pn(e){const t=Bn,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,h=Gt(f,r,t)*f%t,d=Gt(h,r,t)*f%t,l=Gt(d,Nn,t)*u%t,p=Gt(l,i,t)*l%t,b=Gt(p,o,t)*p%t,m=Gt(b,a,t)*b%t,g=Gt(m,c,t)*m%t,y=Gt(g,a,t)*b%t,w=Gt(y,r,t)*f%t,v=Gt(w,s,t)*p%t,E=Gt(v,n,t)*u%t,A=Gt(E,Nn,t);if(!Un.eql(Un.sqr(A),e))throw new Error("Cannot find square root");return A}const Un=Xt(Bn,void 0,void 0,{sqrt:Pn}),Dn=In({a:BigInt(0),b:BigInt(7),Fp:Un,n:On,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=On,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Rn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Ln(o*e,t),c=Ln(-n*e,t);let u=Kt(e-a*r-c*i,t),f=Kt(-a*n-c*o,t);const h=u>s,d=f>s;if(h&&(u=t-u),d&&(f=t-f),u>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:u,k2neg:d,k2:f}}}},Pr);BigInt(0);Dn.ProjectivePoint;const $n=Xt(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Fn=$n.create(BigInt("-3")),jn=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),zn=In({a:Fn,b:jn,Fp:$n,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},Pr);var Hn=r(5456),qn=r(7715),Kn=r(9375);const Vn={toString:y.BB,fromString:y.mL,concat:y.zo};function Gn(e){return Vn.toString(e,"base64url")}function Jn(e){const t=e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return Vn.fromString(t,"base64url")}function Yn(e){return Vn.fromString(e,"base58btc")}function Wn(e,t){let r=e.startsWith("0x")?e.substring(2):e;if(r.length%2!==0&&(r=`0${r}`),t){const e=Math.max(r.length,2*t);r=r.padStart(e,"00")}return Vn.fromString(r.toLowerCase(),"base16")}function Zn(e){return Gn(Vn.fromString(e))}function Xn(e){return Vn.toString(Jn(e))}function Qn(e){return Vn.toString(e,"base16")}function ei(e){return BigInt("0x"+Vn.toString(e,"base16"))}function ti(e){return Vn.fromString(e)}function ri({r:e,s:t,recoveryParam:r},n){const i=new Uint8Array(n?65:64);if(i.set(Vn.fromString(e,"base16"),0),i.set(Vn.fromString(t,"base16"),32),n){if("undefined"===typeof r)throw new Error("Signer did not return a recoveryParam");i[64]=r}return Gn(i)}function ni(e){const t=Jn(e);if(t.length<64||t.length>65)throw new TypeError(`Wrong size for signature. Expected 64 or 65 bytes, but got ${t.length}`);return{r:Qn(t.slice(0,32)),s:Qn(t.slice(32,64)),recoveryParam:65===t.length?t[64]:void 0}}function ii(e,t){return Vn.concat([Jn(e),t?Jn(t):new Uint8Array(0)])}function oi(){const e=Tr.utils.randomPrivateKey();return{secretKey:e,publicKey:Tr.getPublicKey(e)}}function si(e){if(32!==e.length)throw new Error("x25519: seed must be 32 bytes");return{publicKey:Tr.getPublicKey(e),secretKey:e}}function ai(){const e=oi();return{publicKeyJWK:{kty:"OKP",crv:"X25519",x:Gn(e.publicKey)},secretKey:e.secretKey}}function ci(e){const t="string"===typeof e?(0,mn.m)(e):e;return Pr(t)}const ui=pn;function fi(e){const t=(0,mn.m)(e.slice(2),"base16");return`0x${(0,gn.B)(ui(t).slice(-20),"base16")}`}function hi(e,t=new Uint8Array(4)){const r=(0,mn.m)(e.toString(),"base10");return t.set(r,4-r.length),t}const di=e=>(0,yn.z)([hi(e.length),e]);function li(e,t,r,n,i){if(256!==t)throw new Error(`Unsupported key length: ${t}`);const o=(0,yn.z)([di((0,mn.m)(r)),di("undefined"===typeof n?new Uint8Array(0):n),di("undefined"===typeof i?new Uint8Array(0):i),hi(t)]);return ci((0,yn.z)([hi(1),e,o]))}function pi(e){const t=e;if(64!==t.length)throw new Error(`bad_key: Invalid private key format. Expecting 64 bytes, but got ${t.length}`);return function(e){try{const r="string"===typeof e?ti(e):e,n=kr.sign(r,t.slice(0,32));return Promise.resolve(Gn(n))}catch(r){return Promise.reject(r)}}}function bi(e){return"object"===typeof e&&"r"in e&&"s"in e}function mi(e){return function(t,r){try{return Promise.resolve(r(t)).then((function(t){if(bi(t))return ri(t,e);if(e&&"undefined"===typeof ni(t).recoveryParam)throw new Error("not_supported: ES256K-R not supported when signer doesn't provide a recovery param");return t}))}catch(n){return Promise.reject(n)}}}function gi(){return function(e,t){try{return Promise.resolve(t(e)).then((function(e){if(bi(e))throw new Error("invalid_config: expected a signer function that returns a string instead of signature object");return e}))}catch(r){return Promise.reject(r)}}}const yi={ES256:function(e,t){try{return Promise.resolve(t(e)).then((function(e){return bi(e)?ri(e):e}))}catch(r){return Promise.reject(r)}},ES256K:mi(),"ES256K-R":mi(!0),Ed25519:gi(),EdDSA:gi()};function wi(e,t){const r=Qn(Yn(t).slice(0,1)),n=Wn(e),i=r+Qn(Zr(ci(n))),o=ci(Wn(i)),s=Qn(ci(o)).substring(0,8);return a=Wn(i+s),Vn.toString(a,"base58btc");var a}function vi(e,t){if(t){const r=t.split(":");switch(r[0]){case"bip122":r[r.length-1]=wi(e,r[r.length-1]);break;case"cosmos":r[r.length-1]=function(e,t){const r=Dn.ProjectivePoint.fromHex(e).toRawBytes(),n=Zr(ci(r)),i=qn.gW.toWords(n);return qn.gW.encode(t,i).replace(t,"")}(e,r[1]);break;case"eip155":r[r.length-1]=fi(e);break;default:return!1}return r.join(":").toLowerCase()===t.toLowerCase()}return!1}function Ei(e,t=!1){const r=Jn(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");return{compact:r.slice(0,64),recovery:r[64]}}function Ai(e){if(e.publicKeyBase58)return Yn(e.publicKeyBase58);if(e.publicKeyBase64)return Jn(e.publicKeyBase64);if(e.publicKeyHex)return Wn(e.publicKeyHex);if(e.publicKeyJwk&&"secp256k1"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return Dn.ProjectivePoint.fromAffine({x:ei(Jn(e.publicKeyJwk.x)),y:ei(Jn(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"P-256"===e.publicKeyJwk.crv&&e.publicKeyJwk.x&&e.publicKeyJwk.y)return zn.ProjectivePoint.fromAffine({x:ei(Jn(e.publicKeyJwk.x)),y:ei(Jn(e.publicKeyJwk.y))}).toRawBytes(!1);if(e.publicKeyJwk&&"OKP"===e.publicKeyJwk.kty&&["Ed25519","X25519"].includes(e.publicKeyJwk.crv??"")&&e.publicKeyJwk.x)return Jn(e.publicKeyJwk.x);if(e.publicKeyMultibase){const{base16:t,base58btc:r,base64:n,base64url:i}=Pe;return t.decoder.or(r.decoder.or(n.decoder.or(i.decoder))).decode(e.publicKeyMultibase)}return new Uint8Array}function xi(e,t,r){const n=[];if(t.length>86)n.push(Ei(t,!0));else{const e=Ei(t,!1);n.push({...e,recovery:0}),n.push({...e,recovery:1})}const i=ci(e),o=e=>{const t=Dn.Signature.fromCompact(e.compact).addRecoveryBit(e.recovery||0).recoverPublicKey(i),n=fi(t.toHex(!1)).toLowerCase(),o=t.toHex(!1),s=t.toHex(!0);return r.find((e=>{const t=Qn(Ai(e));return t===o||t===s||e.ethereumAddress?.toLowerCase()===n||e.blockchainAccountId?.split("@eip155")?.[0].toLowerCase()===n||vi(o,e.blockchainAccountId)}))};for(const s of n){const e=o(s);if(e)return e}throw new Error("invalid_signature: Signature invalid for JWT")}function Mi(e,t,r){const n=ti(e),i=Jn(t),o=r.find((e=>kr.verify(i,n,Ai(e))));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o}const Si={ES256:function(e,t,r){const n=ci(e),i=zn.Signature.fromCompact(Ei(t).compact),o=r.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)).find((e=>{try{const t=Ai(e);return zn.verify(i,n,t)}catch(t){return!1}}));if(!o)throw new Error("invalid_signature: Signature invalid for JWT");return o},ES256K:function(e,t,r){const n=ci(e),i=Dn.Signature.fromCompact(Jn(t)).normalizeS(),o=r.filter((e=>!e.ethereumAddress&&!e.blockchainAccountId)),s=r.filter((e=>e.ethereumAddress||e.blockchainAccountId));let a=o.find((e=>{try{const t=Ai(e);return Dn.verify(i,n,t)}catch(t){return!1}}));if(!a&&s.length>0&&(a=xi(e,t,s)),!a)throw new Error("invalid_signature: Signature invalid for JWT");return a},"ES256K-R":xi,Ed25519:Mi,EdDSA:Mi};function ki(e){const t=Si[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}ki.toSignatureObject=function(e,t=!1){const r=Jn(e);if(r.length!==(t?65:64))throw new Error("wrong signature length");const n={r:Qn(r.slice(0,32)),s:Qn(r.slice(32,64))};return t&&(n.recoveryParam=r[64]),n};const Ci={INVALID_JWT:"invalid_jwt",INVALID_AUDIENCE:"invalid_config",INVALID_SIGNATURE:"invalid_signature",NO_SUITABLE_KEYS:"no_suitable_keys",NOT_SUPPORTED:"not_supported",RESOLVER_ERROR:"resolver_error"};"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));const Ti=function(e,t,r={},n={}){try{r.alg||(r.alg=_i);const i="string"===typeof e?e:Ii(e,n.canonicalize),o=[Ii(r,n.canonicalize),i].join("."),s=function(e){const t=yi[e];if(!t)throw new Error(`not_supported: Unsupported algorithm ${e}`);return t}(r.alg);return Promise.resolve(s(o,t)).then((function(e){return[o,e].join(".")}))}catch(i){return Promise.reject(i)}},_i="ES256K";function Ii(e,t=!1){return Zn(t?Hn(e):JSON.stringify(e))}function Bi(e){const t=e.match(/^([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)\.([a-zA-Z0-9_-]+)$/);if(t)return{header:JSON.parse(Xn(t[1])),payload:t[2],signature:t[3],data:`${t[1]}.${t[2]}`};throw new Error("invalid_argument: Incorrect format JWS")}function Oi(e,t){return function({header:e,data:t,signature:r},n){return Array.isArray(n)||(n=[n]),ki(e.alg)(t,r,n)}(Bi(e),t)}const Ri="undefined"!==typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ni(e,t,r){if(!e.s){if(r instanceof Li){if(!r.s)return void(r.o=Ni.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(Ni.bind(null,e,t),Ni.bind(null,e,2));e.s=t,e.v=r;const n=e.o;n&&n(e)}}const Li=function(){function e(){}return e.prototype.then=function(t,r){const n=new e,i=this.s;if(i){const e=1&i?t:r;if(e){try{Ni(n,1,e(this.v))}catch(o){Ni(n,2,o)}return n}return this}return this.o=function(e){try{const i=e.v;1&e.s?Ni(n,1,t?t(i):i):r?Ni(n,1,r(i)):Ni(n,2,i)}catch(o){Ni(n,2,o)}},n},e}();function Pi(e){return e instanceof Li&&1&e.s}function Ui(e,t,r){if("function"===typeof e[Ri]){var n,i,o,s=e[Ri]();function c(e){try{for(;!(n=s.next()).done&&(!r||!r());)if((e=t(n.value))&&e.then){if(!Pi(e))return void e.then(c,o||(o=Ni.bind(null,i=new Li,2)));e=e.v}i?Ni(i,1,e):i=e}catch(a){Ni(i||(i=new Li),2,a)}}if(c(),s.return){var a=function(e){try{n.done||s.return()}catch(t){}return e};if(i&&i.then)return i.then(a,(function(e){throw a(e)}));a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var c=[],u=0;u<e.length;u++)c.push(e[u]);return function(e,t,r){var n,i,o=-1;return function s(a){try{for(;++o<e.length&&(!r||!r());)if((a=t(o))&&a.then){if(!Pi(a))return void a.then(s,i||(i=Ni.bind(null,n=new Li,2)));a=a.v}n?Ni(n,1,a):n=a}catch(c){Ni(n||(n=new Li),2,c)}}(),n}(c,(function(e){return t(c[e])}),r)}function Di({ciphertext:e,tag:t,iv:r,protectedHeader:n,recipient:i},o){const s={protected:n,iv:Gn(r??new Uint8Array(0)),ciphertext:Gn(e),tag:Gn(t??new Uint8Array(0))};return o&&(s.aad=Gn(o)),i&&(s.recipients=[i]),s}const $i=function(e,t){try{function r(e){if(null===s)throw new Error("failure: Failed to decrypt");return s}!function(e){if(!(e.protected&&e.iv&&e.ciphertext&&e.tag))throw new Error("bad_jwe: missing properties");e.recipients&&e.recipients.map((e=>{if(!e.header||!e.encrypted_key)throw new Error("bad_jwe: malformed recipients")}))}(e);const n=JSON.parse(Xn(e.protected));if(n.enc!==t.enc)throw new Error(`not_supported: Decrypter does not supported: '${n.enc}'`);const i=ii(e.ciphertext,e.tag),o=(0,mn.m)(e.aad?`${e.protected}.${e.aad}`:e.protected,"utf-8");let s=null;const a="dir"===n.alg&&"dir"===t.alg?Promise.resolve(t.decrypt(i,Jn(e.iv),o)).then((function(e){s=e})):function(){if(e.recipients&&0!==e.recipients.length){let r=0;return function(e,t,r){for(var n;;){var i=e();if(Pi(i)&&(i=i.v),!i)return o;if(i.then){n=0;break}var o=r();if(o&&o.then){if(!Pi(o)){n=1;break}o=o.s}if(t){var s=t();if(s&&s.then&&!Pi(s)){n=2;break}}}var a=new Li,c=Ni.bind(null,a,2);return(0===n?i.then(f):1===n?o.then(u):s.then(h)).then(void 0,c),a;function u(n){o=n;do{if(t&&(s=t())&&s.then&&!Pi(s))return void s.then(h).then(void 0,c);if(!(i=e())||Pi(i)&&!i.v)return void Ni(a,1,o);if(i.then)return void i.then(f).then(void 0,c);Pi(o=r())&&(o=o.v)}while(!o||!o.then);o.then(u).then(void 0,c)}function f(e){e?(o=r())&&o.then?o.then(u).then(void 0,c):u(o):Ni(a,1,o)}function h(){(i=e())?i.then?i.then(f).then(void 0,c):f(i):Ni(a,1,o)}}((function(){return!s&&r<e.recipients.length}),(function(){return r++}),(function(){const a=e.recipients[r];Object.assign(a.header,n);const c=function(){if(a.header.alg===t.alg)return Promise.resolve(t.decrypt(i,Jn(e.iv),o,a)).then((function(e){s=e}))}();if(c&&c.then)return c.then((function(){}))}))}throw new Error("bad_jwe: missing recipients")}();return Promise.resolve(a&&a.then?a.then(r):r())}catch(r){return Promise.reject(r)}},Fi=function(e,t,r={},n,i=!1){try{if("dir"===t[0].alg){if(t.length>1)throw new Error('not_supported: Can only do "dir" encryption to one key.');return Promise.resolve(t[0].encrypt(e,r,n)).then((function(e){return Di(e,n)}))}{const o=t[0].enc;if(!t.reduce(((e,t)=>e&&t.enc===o),!0))throw new Error("invalid_argument: Incompatible encrypters passed");let s,a,c;if(i){c=t[0].genEpk?.();const e=t[0].alg;r={...r,alg:e,epk:c?.publicKeyJWK}}const u=Ui(t,(function(t){const i=s?Promise.resolve(t.encryptCek?.(s,c)).then((function(e){e&&a?.recipients?.push(e)})):Promise.resolve(t.encrypt(e,r,n,c)).then((function(e){s=e.cek,a=Di(e,n)}));if(i&&i.then)return i.then((function(){}))}));return Promise.resolve(u&&u.then?u.then((function(){return a})):a)}}catch(o){return Promise.reject(o)}};function ji(e){const t=new Kn.NV(e);return(e,r)=>{const n=We(t.nonceLength),i=t.seal(n,e,r);return{ciphertext:i.subarray(0,i.length-t.tagLength),tag:i.subarray(i.length-t.tagLength),iv:n}}}function zi(e){const t=ji(e),r="XC20P",n="dir";return{alg:n,enc:r,encrypt:function(e,i={},o){try{const s=Zn(JSON.stringify(Object.assign({alg:n},i,{enc:r}))),a=(0,mn.m)(o?`${s}.${Gn(o)}`:s,"utf-8");return Promise.resolve({...t(e,a),protectedHeader:s})}catch(s){return Promise.reject(s)}}}}function Hi(e){const t=new Kn.NV(e);return{alg:"dir",enc:"XC20P",decrypt:function(e,r,n){try{return Promise.resolve(t.open(r,e,n))}catch(i){return Promise.reject(i)}}}}const qi=function(e,t,r,n,i,o){try{const t="X25519",n=256,s=o?si(o.secretKey):oi(),a={kty:"OKP",crv:t,x:Gn(s.publicKey)},c=Tr.getSharedSecret(s.secretKey,e),u=li(c,n,r,void 0,Jn(i??""));return Promise.resolve({epk:a,kek:u})}catch(s){return Promise.reject(s)}};function Ki(e,t,r={},n,i,o){const s=function(o,s){try{return Promise.resolve(n.createKek(e,t,`${n.alg}+${i.alg}`,r.apu,r.apv,s)).then((function({epk:e,kek:t}){return Promise.resolve(i.from(t).wrap(o)).then((function(t){const o={encrypted_key:Gn(t.ciphertext),header:{}};return t.iv&&(o.header.iv=Gn(t.iv)),t.tag&&(o.header.tag=Gn(t.tag)),r.kid&&(o.header.kid=r.kid),r.apu&&(o.header.apu=r.apu),r.apv&&(o.header.apv=r.apv),s||(o.header.alg=`${n.alg}+${i.alg}`,o.header.epk=e),o}))}))}catch(a){return Promise.reject(a)}};return{alg:i.alg,enc:o.enc,encrypt:function(e,t={},r,a){try{Object.assign(t,{alg:void 0});const c=We(32);return Promise.resolve(s(c,a)).then((function(s){return a&&(t.alg=`${n.alg}+${i.alg}`,t.epk=a.publicKeyJWK),Promise.resolve(o.from(c).encrypt(e,t,r)).then((function(e){return{...e,recipient:s,cek:c}}))}))}catch(c){return Promise.reject(c)}},encryptCek:s,genEpk:ai}}const Vi=function(e,t){try{const r=function(e,n=[]){try{return Promise.resolve(t.resolve(e)).then((function({didResolutionMetadata:t,didDocument:i}){function o(){const t=i.keyAgreement?.map((e=>"string"===typeof e?[...i.publicKey||[],...i.verificationMethod||[]].find((t=>t.id===e)):e))?.filter((e=>"undefined"!==typeof e)),r=t?.filter((e=>"X25519KeyAgreementKey2019"===e.type||"X25519KeyAgreementKey2020"===e.type))||[];if(!r.length&&!s.length)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);return r.map((e=>{return t=Ai(e),r=e.id,Yi(t,{kid:r,apv:n});var t,r,n})).concat(...s)}if(n.push(e),t?.error||null==i)throw new Error(`resolver_error: Could not resolve ${e}: ${t.error}, ${t.message}`);let s=[];if(!i.controller&&!i.keyAgreement)throw new Error(`no_suitable_keys: Could not find x25519 key for ${e}`);const a=function(){if(i.controller){let e=Array.isArray(i.controller)?i.controller:[i.controller];e=e.filter((e=>!n.includes(e)));const t=e.map((e=>r(e,n).catch((()=>[]))));return Promise.resolve(Promise.all(t)).then((function(e){s=[].concat(...e)}))}}();return a&&a.then?a.then(o):o()}))}catch(i){return Promise.reject(i)}},n=e.map((e=>r(e)));return Promise.resolve(Promise.all(n)).then((function(e){return[].concat(...e)}))}catch(r){return Promise.reject(r)}};function Gi(e){if(!(e&&e.epk&&e.iv&&e.tag))throw new Error("bad_jwe: malformed header");return e}const Ji={from:e=>({wrap:function(t){try{return Promise.resolve(ji(e)(t))}catch(r){return Promise.reject(r)}}}),alg:"XC20PKW"};function Yi(e,t={}){return Ki(e,void 0,t,{createKek:qi,alg:"ECDH-ES"},Ji,{from:e=>zi(e),enc:"XC20P"})}function Wi(e){return Zi(e)}function Zi(e){const t="ECDH-ES+XC20PKW";return{alg:t,enc:"XC20P",decrypt:function(r,n,i,o){try{const s=Gi((o=o).header);return Promise.resolve(function(e,t,r){try{function n(){let t,n;return e.header.apu&&(t=Jn(e.header.apu)),e.header.apv&&(n=Jn(e.header.apv)),li(c,o,r,t,n)}const i="X25519",o=256,s=e.header;if(s.epk?.crv!==i||"undefined"==typeof s.epk.x)return Promise.resolve(null);const a=Jn(s.epk.x);let c;const u=function(){if(!(t instanceof Uint8Array))return Promise.resolve(t(a)).then((function(e){c=e}));c=Tr.getSharedSecret(t,a)}();return Promise.resolve(u&&u.then?u.then(n):n())}catch(n){return Promise.reject(n)}}(o,e,t)).then((function(e){if(!e)return null;const t=ii(o.encrypted_key,s.tag);return Promise.resolve(Hi(e).decrypt(t,Jn(s.iv))).then((function(e){return null===e?null:Hi(e).decrypt(r,n,i)}))}))}catch(s){return Promise.reject(s)}}}}},7189:function(e,t,r){"use strict";r.d(t,{kU:function(){return h},Dp:function(){return f},ET:function(){return d}});var n=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},i=r(7176);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new s(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const f=({name:e,prefix:t,encode:r,decode:n})=>new u(e,t,r,n),h=({prefix:e,name:t,alphabet:r})=>{const{encode:o,decode:s}=n(r,t);return f({prefix:e,name:t,encode:o,decode:e=>(0,i.oQ)(s(e))})},d=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>f({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)})},4249:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return f},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return s},base32padupper:function(){return a},base32upper:function(){return o},base32z:function(){return d}});var n=r(7189);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},1653:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return o}});var n=r(7189);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},9382:function(e,t,r){"use strict";r.r(t),r.d(t,{base64:function(){return i},base64pad:function(){return o},base64url:function(){return s},base64urlpad:function(){return a}});var n=r(7189);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7176:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},fS:function(){return n},mL:function(){return o},oQ:function(){return i}});new Uint8Array(0);const n=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},i=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},o=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},8161:function(e,t,r){"use strict";r.d(t,{k0:function(){return h}});var n=r(2171),i=r(9094),o=r(1653),s=r(4249),a=r(7176);const c=(e,t)=>{const{bytes:r,version:n}=e;return 0===n?l(r,f(e),t||o.base58btc.encoder):p(r,f(e),t||s.base32.encoder)},u=new WeakMap,f=e=>{const t=u.get(e);if(null==t){const t=new Map;return u.set(e,t),t}return t};class h{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==b)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==m)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return h.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=i.Ue(e,t);return h.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return h.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&i.fS(e.multihash,r.multihash)}toString(e){return c(this,e)}toJSON(){return{"/":c(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof h)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new h(e,r,n,i||g(e,r,n.bytes))}if(!0===t[y]){const{version:e,multihash:r,code:n}=t,o=i.Jx(r);return h.create(e,n,o)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==b)throw new Error(`Version 0 CID must use dag-pb (code: ${b}) block encoding`);return new h(e,t,r,r.bytes);case 1:{const n=g(e,t,r.bytes);return new h(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return h.create(0,b,e)}static createV1(e,t){return h.create(1,e,t)}static decode(e){const[t,r]=h.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=h.inspectBytes(e),r=t.size-t.multihashSize,n=(0,a.oQ)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=n.subarray(t.multihashSize-t.digestSize),s=new i.zZ(t.multihashCode,t.digestSize,o,n);return[0===t.version?h.createV0(s):h.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=n.Jx(e.subarray(t));return t+=i,r};let i=r(),o=b;if(18===i?(i=0,t=0):o=r(),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=r(),c=r(),u=t+c;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[r,n]=d(e,t),i=h.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return f(i).set(r,e),i}}const d=(e,t)=>{switch(e[0]){case"Q":{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case s.base32.prefix:{const r=t||s.base32;return[s.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},l=(e,t,r)=>{const{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},p=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},b=112,m=18,g=(e,t,r)=>{const i=n.P$(e),o=i+n.P$(t),s=new Uint8Array(o+r.byteLength);return n.mL(e,s,0),n.mL(t,s,i),s.set(r,o),s},y=Symbol.for("@ipld/js-cid/CID")},9094:function(e,t,r){"use strict";r.d(t,{Jx:function(){return s},Ue:function(){return o},fS:function(){return a},zZ:function(){return c}});var n=r(7176),i=r(2171);const o=(e,t)=>{const r=t.byteLength,n=i.P$(e),o=n+i.P$(r),s=new Uint8Array(o+r);return i.mL(e,s,0),i.mL(r,s,n),s.set(t,o),new c(e,r,t,s)},s=e=>{const t=(0,n.oQ)(e),[r,o]=i.Jx(t),[s,a]=i.Jx(t.subarray(o)),u=t.subarray(o+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(r,s,u,t)},a=(e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&(0,n.fS)(e.bytes,r.bytes)}};class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},2688:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(9094);const i=({name:e,code:t,encode:r})=>new o(e,t,r);class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?n.Ue(this.code,t):t.then((e=>n.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},8566:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return s}});var n=r(7176),i=r(9094);const o=n.oQ,s={code:0,name:"identity",encode:o,digest:e=>i.Ue(0,o(e))}},7353:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return o},sha512:function(){return s}});var n=r(2688);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),s=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},1015:function(e,t,r){"use strict";r.d(t,{k0:function(){return n.k0}});var n=r(8161);r(2171),r(7176),r(2688),r(9094)},2171:function(e,t,r){"use strict";r.d(t,{Jx:function(){return m},mL:function(){return g},P$:function(){return y}});var n=function e(t,r,n){r=r||[];var o=n=n||0;for(;t>=i;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},i=Math.pow(2,31);var o=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var s=Math.pow(2,7),a=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),f=Math.pow(2,35),h=Math.pow(2,42),d=Math.pow(2,49),l=Math.pow(2,56),p=Math.pow(2,63),b={encode:n,decode:o,encodingLength:function(e){return e<s?1:e<a?2:e<c?3:e<u?4:e<f?5:e<h?6:e<d?7:e<l?8:e<p?9:10}};const m=(e,t=0)=>[b.decode(e,t),b.decode.bytes],g=(e,t,r=0)=>(b.encode(e,t,r),t),y=e=>b.encodingLength(e)},29:function(e,t,r){"use strict";function n(e,t,r,n,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void r(u)}a.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,c,"next",e)}function c(e){n(s,i,o,a,c,"throw",e)}a(void 0)}))}}r.d(t,{Z:function(){return i}})},7191:function(e,t,r){"use strict";function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}r.d(t,{Z:function(){return n}})},4359:function(e,t,r){"use strict";r.d(t,{kU:function(){return h},Dp:function(){return f},ET:function(){return d}});var n=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function h(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var f=r[e.charCodeAt(t)];if(255===f)return;for(var h=0,d=o-1;(0!==f||h<i)&&-1!==d;d--,h++)f+=a*s[d]>>>0,s[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var l=o-i;l!==o&&0===s[l];)l++;for(var p=new Uint8Array(n+(o-l)),b=n;l!==o;)p[b++]=s[l++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*f+1>>>0,u=new Uint8Array(s);i!==o;){for(var h=t[i],d=0,l=s-1;(0!==h||d<n)&&-1!==l;l--,d++)h+=256*u[l]>>>0,u[l]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");n=d,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var b=c.repeat(r);p<s;++p)b+=e.charAt(u[p]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}},i=r(3159);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new s(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const f=({name:e,prefix:t,encode:r,decode:n})=>new u(e,t,r,n),h=({prefix:e,name:t,alphabet:r})=>{const{encode:o,decode:s}=n(r,t);return f({prefix:e,name:t,encode:o,decode:e=>(0,i.coerce)(s(e))})},d=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>f({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,n,r),decode:t=>((e,t,r,n)=>{const i={};for(let f=0;f<t.length;++f)i[t[f]]=f;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let f=0;f<o;++f){const t=i[e[f]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(t,n,r,e)})},8237:function(e,t,r){"use strict";r.r(t),r.d(t,{base64:function(){return i},base64pad:function(){return o},base64url:function(){return s},base64urlpad:function(){return a}});var n=r(4359);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},7527:function(e,t,r){"use strict";r.r(t),r.d(t,{CID:function(){return Te},bases:function(){return Fe},bytes:function(){return v},codecs:function(){return ze},digest:function(){return l},hasher:function(){return p},hashes:function(){return je},varint:function(){return d}});var n={};r.r(n),r.d(n,{identity:function(){return E}});var i={};r.r(i),r.d(i,{base2:function(){return A}});var o={};r.r(o),r.d(o,{base8:function(){return x}});var s={};r.r(s),r.d(s,{base10:function(){return M}});var a={};r.r(a),r.d(a,{base16:function(){return S},base16upper:function(){return k}});var c={};r.r(c),r.d(c,{base32:function(){return C},base32hex:function(){return B},base32hexpad:function(){return R},base32hexpadupper:function(){return N},base32hexupper:function(){return O},base32pad:function(){return _},base32padupper:function(){return I},base32upper:function(){return T},base32z:function(){return L}});var u={};r.r(u),r.d(u,{base36:function(){return P},base36upper:function(){return U}});var f={};r.r(f),r.d(f,{base58btc:function(){return D},base58flickr:function(){return $}});var h={};r.r(h),r.d(h,{base256emoji:function(){return q}});var d={};r.r(d),r.d(d,{decode:function(){return ie},encodeTo:function(){return oe},encodingLength:function(){return se}});var l={};r.r(l),r.d(l,{Digest:function(){return fe},create:function(){return ae},decode:function(){return ce},equals:function(){return ue}});var p={};r.r(p),r.d(p,{Hasher:function(){return de},from:function(){return he}});var b={};r.r(b),r.d(b,{sha256:function(){return pe},sha512:function(){return be}});var m={};r.r(m),r.d(m,{identity:function(){return ge}});var g={};r.r(g),r.d(g,{code:function(){return we},decode:function(){return Ee},encode:function(){return ve},name:function(){return ye}});var y={};r.r(y),r.d(y,{code:function(){return Se},decode:function(){return Ce},encode:function(){return ke},name:function(){return Me}});var w=r(4359),v=r(3159);const E=(0,w.Dp)({prefix:"\0",name:"identity",encode:e=>(0,v.toString)(e),decode:e=>(0,v.fromString)(e)}),A=(0,w.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),x=(0,w.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),M=(0,w.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),S=(0,w.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),k=(0,w.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),C=(0,w.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),T=(0,w.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),_=(0,w.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),I=(0,w.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),B=(0,w.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),O=(0,w.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R=(0,w.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),N=(0,w.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),L=(0,w.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),P=(0,w.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),U=(0,w.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),D=(0,w.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$=(0,w.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var F=r(8237);const j=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),z=j.reduce(((e,t,r)=>(e[r]=t,e)),[]),H=j.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const q=(0,w.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=z[t]),"")},decode:function(e){const t=[];for(const r of e){const e=H[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var K=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=V;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},V=Math.pow(2,31);var G=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var J=Math.pow(2,7),Y=Math.pow(2,14),W=Math.pow(2,21),Z=Math.pow(2,28),X=Math.pow(2,35),Q=Math.pow(2,42),ee=Math.pow(2,49),te=Math.pow(2,56),re=Math.pow(2,63),ne={encode:K,decode:G,encodingLength:function(e){return e<J?1:e<Y?2:e<W?3:e<Z?4:e<X?5:e<Q?6:e<ee?7:e<te?8:e<re?9:10}};const ie=(e,t=0)=>[ne.decode(e,t),ne.decode.bytes],oe=(e,t,r=0)=>(ne.encode(e,t,r),t),se=e=>ne.encodingLength(e),ae=(e,t)=>{const r=t.byteLength,n=se(e),i=n+se(r),o=new Uint8Array(i+r);return oe(e,o,0),oe(r,o,n),o.set(t,i),new fe(e,r,t,o)},ce=e=>{const t=(0,v.coerce)(e),[r,n]=ie(t),[i,o]=ie(t.subarray(n)),s=t.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new fe(r,i,s,t)},ue=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,v.equals)(e.bytes,t.bytes);class fe{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const he=({name:e,code:t,encode:r})=>new de(e,t,r);class de{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?ae(this.code,t):t.then((e=>ae(this.code,e)))}throw Error("Unknown type, must be binary type")}}const le=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),pe=he({name:"sha2-256",code:18,encode:le("SHA-256")}),be=he({name:"sha2-512",code:19,encode:le("SHA-512")}),me=v.coerce,ge={code:0,name:"identity",encode:me,digest:e=>ae(0,me(e))},ye="raw",we=85,ve=e=>(0,v.coerce)(e),Ee=e=>(0,v.coerce)(e),Ae=new TextEncoder,xe=new TextDecoder,Me="json",Se=512,ke=e=>Ae.encode(JSON.stringify(e)),Ce=e=>JSON.parse(xe.decode(e));class Te{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:Ue,byteLength:Ue,code:Pe,version:Pe,multihash:Pe,bytes:Pe,_baseCache:Ue,asCID:Ue})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==Oe)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Re)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return Te.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=ae(e,t);return Te.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&ue(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?Ie(t,n,e||D.encoder):Be(t,n,e||C.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return De(/^0\.0/,$e),!(!e||!e[Le]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof Te)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new Te(t,r,n,i||Ne(t,r,n.bytes))}if(null!=e&&!0===e[Le]){const{version:t,multihash:r,code:n}=e,i=ce(r);return Te.create(t,n,i)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==Oe)throw new Error(`Version 0 CID must use dag-pb (code: ${Oe}) block encoding`);return new Te(e,t,r,r.bytes);case 1:{const n=Ne(e,t,r.bytes);return new Te(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return Te.create(0,Oe,e)}static createV1(e,t){return Te.create(1,e,t)}static decode(e){const[t,r]=Te.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=Te.inspectBytes(e),r=t.size-t.multihashSize,n=(0,v.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),o=new fe(t.multihashCode,t.digestSize,i,n);return[0===t.version?Te.createV0(o):Te.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=ie(e.subarray(t));return t+=n,r};let n=r(),i=Oe;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const o=t,s=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:c-o,size:c}}static parse(e,t){const[r,n]=_e(e,t),i=Te.decode(n);return i._baseCache.set(r,e),i}}const _e=(e,t)=>{switch(e[0]){case"Q":{const r=t||D;return[D.prefix,r.decode(`${D.prefix}${e}`)]}case D.prefix:{const r=t||D;return[D.prefix,r.decode(e)]}case C.prefix:{const r=t||C;return[C.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},Ie=(e,t,r)=>{const{prefix:n}=r;if(n!==D.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},Be=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},Oe=112,Re=18,Ne=(e,t,r)=>{const n=se(e),i=n+se(t),o=new Uint8Array(i+r.byteLength);return oe(e,o,0),oe(t,o,n),o.set(r,i),o},Le=Symbol.for("@ipld/js-cid/CID"),Pe={writable:!1,configurable:!1,enumerable:!0},Ue={writable:!1,enumerable:!1,configurable:!1},De=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},$e="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n",Fe={...n,...i,...o,...s,...a,...c,...u,...f,...F,...h},je={...b,...m},ze={raw:g,json:y}},3159:function(e,t,r){"use strict";r.r(t),r.d(t,{coerce:function(){return a},empty:function(){return n},equals:function(){return s},fromHex:function(){return o},fromString:function(){return u},isBinary:function(){return c},toHex:function(){return i},toString:function(){return f}});const n=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),f=e=>(new TextDecoder).decode(e)},6574:function(e,t,r){"use strict";r.d(t,{E:function(){return i}});var n=r(3304);function i(e=0){return null!=globalThis.Buffer?.allocUnsafe?(0,n.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},1690:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var n=r(6574),i=r(3304);function o(e,t){null==t&&(t=e.reduce(((e,t)=>e+t.length),0));const r=(0,n.E)(t);let o=0;for(const n of e)r.set(n,o),o+=n.length;return(0,i.P)(r)}},7408:function(e,t,r){"use strict";r.d(t,{m:function(){return o}});var n=r(3304),i=r(3109);function o(e,t="utf8"){const r=i.Z[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,n.P)(globalThis.Buffer.from(e,"utf-8"))}},738:function(e,t,r){"use strict";r.d(t,{BB:function(){return o.B},mL:function(){return i.m},zo:function(){return n.z}});var n=r(1690),i=r(7408),o=r(9784)},9784:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(3109);function i(e,t="utf8"){const r=n.Z[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}},3304:function(e,t,r){"use strict";function n(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}r.d(t,{P:function(){return n}})},3109:function(e,t,r){"use strict";r.d(t,{Z:function(){return V}});var n={};r.r(n),r.d(n,{identity:function(){return p}});var i={};r.r(i),r.d(i,{base2:function(){return b}});var o={};r.r(o),r.d(o,{base8:function(){return m}});var s={};r.r(s),r.d(s,{base10:function(){return g}});var a={};r.r(a),r.d(a,{base16:function(){return y},base16upper:function(){return w}});var c={};r.r(c),r.d(c,{base36:function(){return E},base36upper:function(){return A}});var u={};r.r(u),r.d(u,{base256emoji:function(){return T}});var f={};r.r(f),r.d(f,{code:function(){return O},decode:function(){return N},encode:function(){return R},name:function(){return B}});var h={};r.r(h),r.d(h,{code:function(){return D},decode:function(){return F},encode:function(){return $},name:function(){return U}});var d=r(7189),l=r(7176);const p=(0,d.Dp)({prefix:"\0",name:"identity",encode:e=>(0,l.BB)(e),decode:e=>(0,l.mL)(e)}),b=(0,d.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,d.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),g=(0,d.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),y=(0,d.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),w=(0,d.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var v=r(4249);const E=(0,d.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),A=(0,d.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var x=r(1653),M=r(9382);const S=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),k=S.reduce(((e,t,r)=>(e[r]=t,e)),[]),C=S.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const T=(0,d.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=k[t]),"")},decode:function(e){const t=[];for(const r of e){const e=C[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var _=r(7353),I=r(8566);const B="raw",O=85,R=e=>(0,l.oQ)(e),N=e=>(0,l.oQ)(e),L=new TextEncoder,P=new TextDecoder,U="json",D=512,$=e=>L.encode(JSON.stringify(e)),F=e=>JSON.parse(P.decode(e));r(1015);const j={...n,...i,...o,...s,...a,...v,...c,...x,...M,...u};var z=r(6574);function H(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const q=H("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),K=H("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,z.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));var V={utf8:q,"utf-8":q,hex:j.base16,latin1:K,ascii:K,binary:K,...j}},8597:function(e){"use strict";e.exports={i8:"6.5.4"}}}]);